function $A(e){if(!e)return[];if("toArray"in Object(e))return e.toArray();for(var t=e.length||0,i=new Array(t);t--;)i[t]=e[t];return i}function $w(e){return Object.isString(e)?(e=e.strip(),e?e.split(/\s+/):[]):[]}function $H(e){return new Hash(e)}function $R(e,t,i){return new ObjectRange(e,t,i)}function $(e){if(arguments.length>1){for(var t=0,i=[],n=arguments.length;t<n;t++)i.push($(arguments[t]));return i}return Object.isString(e)&&(e=document.getElementById(e)),Element.extend(e)}function validarDenuncia(){var e=!0;return""==$("denuncia[descricao]").value&&(alert("Descreva sua reclama\xe7\xe3o ou den\xfancia."),e=!1),""==$("denuncia[nome]").value&&(alert("Preencha seu nome."),e=!1),""==$("denuncia[email]").value&&(alert("Preencha corretamente seu email."),e=!1),e}var Prototype={Version:"1.7",Browser:function(){var e=navigator.userAgent,t="[object Opera]"==Object.prototype.toString.call(window.opera);return{IE:!!window.attachEvent&&!t,Opera:t,WebKit:e.indexOf("AppleWebKit/")>-1,Gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile/.test(e)}}(),BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:function(){var e=window.Element||window.HTMLElement;return!(!e||!e.prototype)}(),SpecificElementExtensions:function(){if("undefined"!=typeof window.HTMLDivElement)return!0;var e=document.createElement("div"),t=document.createElement("form"),i=!1;return e.__proto__&&e.__proto__!==t.__proto__&&(i=!0),e=t=null,i}()},ScriptFragment:"<script[^>]*>([\\S\\s]*?)</script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(e){return e}};Prototype.Browser.MobileSafari&&(Prototype.BrowserFeatures.SpecificElementExtensions=!1);var Abstract={},Try={these:function(){for(var e,t=0,i=arguments.length;t<i;t++){var n=arguments[t];try{e=n();break}catch(e){}}return e}},Class=function(){function e(){}function t(){function t(){this.initialize.apply(this,arguments)}var i=null,n=$A(arguments);Object.isFunction(n[0])&&(i=n.shift()),Object.extend(t,Class.Methods),t.superclass=i,t.subclasses=[],i&&(e.prototype=i.prototype,t.prototype=new e,i.subclasses.push(t));for(var s=0,o=n.length;s<o;s++)t.addMethods(n[s]);return t.prototype.initialize||(t.prototype.initialize=Prototype.emptyFunction),t.prototype.constructor=t,t}function i(e){var t=this.superclass&&this.superclass.prototype,i=Object.keys(e);n&&(e.toString!=Object.prototype.toString&&i.push("toString"),e.valueOf!=Object.prototype.valueOf&&i.push("valueOf"));for(var s=0,o=i.length;s<o;s++){var r=i[s],a=e[r];if(t&&Object.isFunction(a)&&"$super"==a.argumentNames()[0]){var l=a;a=function(e){return function(){return t[e].apply(this,arguments)}}(r).wrap(l),a.valueOf=l.valueOf.bind(l),a.toString=l.toString.bind(l)}this.prototype[r]=a}return this}var n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}();return{create:t,Methods:{addMethods:i}}}();!function(){function e(e){switch(e){case null:return _;case void 0:return x}var t=typeof e;switch(t){case"boolean":return w;case"number":return E;case"string":return C}return S}function t(e,t){for(var i in t)e[i]=t[i];return e}function i(e){try{return b(e)?"undefined":null===e?"null":e.inspect?e.inspect():String(e)}catch(e){if(e instanceof RangeError)return"...";throw e}}function n(e){return s("",{"":e},[])}function s(t,i,n){var o=i[t],r=typeof o;e(o)===S&&"function"==typeof o.toJSON&&(o=o.toJSON(t));var a=y.call(o);switch(a){case O:case k:case N:o=o.valueOf()}switch(o){case null:return"null";case!0:return"true";case!1:return"false"}switch(r=typeof o){case"string":return o.inspect(!0);case"number":return isFinite(o)?String(o):"null";case"object":for(var l=0,c=n.length;l<c;l++)if(n[l]===o)throw new TypeError;n.push(o);var u=[];if(a===D){for(var l=0,c=o.length;l<c;l++){var h=s(l,o,n);u.push("undefined"==typeof h?"null":h)}u="["+u.join(",")+"]"}else{for(var d=Object.keys(o),l=0,c=d.length;l<c;l++){var t=d[l],h=s(t,o,n);"undefined"!=typeof h&&u.push(t.inspect(!0)+":"+h)}u="{"+u.join(",")+"}"}return n.pop(),u}}function o(e){return JSON.stringify(e)}function r(e){return $H(e).toQueryString()}function a(e){return e&&e.toHTML?e.toHTML():String.interpret(e)}function l(t){if(e(t)!==S)throw new TypeError;var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(n);return i}function c(e){var t=[];for(var i in e)t.push(e[i]);return t}function u(e){return t({},e)}function h(e){return!(!e||1!=e.nodeType)}function d(e){return y.call(e)===D}function p(e){return e instanceof Hash}function f(e){return y.call(e)===T}function m(e){return y.call(e)===N}function g(e){return y.call(e)===O}function v(e){return y.call(e)===A}function b(e){return"undefined"==typeof e}var y=Object.prototype.toString,_="Null",x="Undefined",w="Boolean",E="Number",C="String",S="Object",T="[object Function]",k="[object Boolean]",O="[object Number]",N="[object String]",D="[object Array]",A="[object Date]",j=window.JSON&&"function"==typeof JSON.stringify&&"0"===JSON.stringify(0)&&"undefined"==typeof JSON.stringify(Prototype.K),P="function"==typeof Array.isArray&&Array.isArray([])&&!Array.isArray({});P&&(d=Array.isArray),t(Object,{extend:t,inspect:i,toJSON:j?o:n,toQueryString:r,toHTML:a,keys:Object.keys||l,values:c,clone:u,isElement:h,isArray:d,isHash:p,isFunction:f,isString:m,isNumber:g,isDate:v,isUndefined:b})}(),Object.extend(Function.prototype,function(){function e(e,t){for(var i=e.length,n=t.length;n--;)e[i+n]=t[n];return e}function t(t,i){return t=u.call(t,0),e(t,i)}function i(){var e=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function n(e){if(arguments.length<2&&Object.isUndefined(arguments[0]))return this;var i=this,n=u.call(arguments,1);return function(){var s=t(n,arguments);return i.apply(e,s)}}function s(t){var i=this,n=u.call(arguments,1);return function(s){var o=e([s||window.event],n);return i.apply(t,o)}}function o(){if(!arguments.length)return this;var e=this,i=u.call(arguments,0);return function(){var n=t(i,arguments);return e.apply(this,n)}}function r(e){var t=this,i=u.call(arguments,1);return e*=1e3,window.setTimeout(function(){return t.apply(t,i)},e)}function a(){var t=e([.01],arguments);return this.delay.apply(this,t)}function l(t){var i=this;return function(){var n=e([i.bind(this)],arguments);return t.apply(this,n)}}function c(){if(this._methodized)return this._methodized;var t=this;return this._methodized=function(){var i=e([this],arguments);return t.apply(null,i)}}var u=Array.prototype.slice;return{argumentNames:i,bind:n,bindAsEventListener:s,curry:o,delay:r,defer:a,wrap:l,methodize:c}}()),function(e){function t(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+"Z"}function i(){return this.toISOString()}e.toISOString||(e.toISOString=t),e.toJSON||(e.toJSON=i)}(Date.prototype),RegExp.prototype.match=RegExp.prototype.test,RegExp.escape=function(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};var PeriodicalExecuter=Class.create({initialize:function(e,t){this.callback=e,this.frequency=t,this.currentlyExecuting=!1,this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),1e3*this.frequency)},execute:function(){this.callback(this)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onTimerEvent:function(){if(!this.currentlyExecuting)try{this.currentlyExecuting=!0,this.execute(),this.currentlyExecuting=!1}catch(e){throw this.currentlyExecuting=!1,e}}});Object.extend(String,{interpret:function(e){return null==e?"":String(e)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}}),Object.extend(String.prototype,function(){function prepareReplacement(e){if(Object.isFunction(e))return e;var t=new Template(e);return function(e){return t.evaluate(e)}}function gsub(e,t){var i,n="",s=this;if(t=prepareReplacement(t),Object.isString(e)&&(e=RegExp.escape(e)),!e.length&&!e.source)return t=t(""),t+s.split("").join(t)+t;for(;s.length>0;)(i=s.match(e))?(n+=s.slice(0,i.index),n+=String.interpret(t(i)),s=s.slice(i.index+i[0].length)):(n+=s,s="");return n}function sub(e,t,i){return t=prepareReplacement(t),i=Object.isUndefined(i)?1:i,this.gsub(e,function(e){return--i<0?e[0]:t(e)})}function scan(e,t){return this.gsub(e,t),String(this)}function truncate(e,t){return e=e||30,t=Object.isUndefined(t)?"...":t,this.length>e?this.slice(0,e-t.length)+t:String(this)}function strip(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function stripTags(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function stripScripts(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")}function extractScripts(){var e=new RegExp(Prototype.ScriptFragment,"img"),t=new RegExp(Prototype.ScriptFragment,"im");return(this.match(e)||[]).map(function(e){return(e.match(t)||["",""])[1]})}function evalScripts(){return this.extractScripts().map(function(script){return eval(script)})}function escapeHTML(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function unescapeHTML(){return this.stripTags().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function toQueryParams(e){var t=this.strip().match(/([^?#]*)(#.*)?$/);return t?t[1].split(e||"&").inject({},function(e,t){if((t=t.split("="))[0]){var i=decodeURIComponent(t.shift()),n=t.length>1?t.join("="):t[0];void 0!=n&&(n=decodeURIComponent(n)),i in e?(Object.isArray(e[i])||(e[i]=[e[i]]),e[i].push(n)):e[i]=n}return e}):{}}function toArray(){return this.split("")}function succ(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)}function times(e){return e<1?"":new Array(e+1).join(this)}function camelize(){return this.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function capitalize(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}function underscore(){return this.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()}function dasherize(){return this.replace(/_/g,"-")}function inspect(e){var t=this.replace(/[\x00-\x1f\\]/g,function(e){return e in String.specialChar?String.specialChar[e]:"\\u00"+e.charCodeAt().toPaddedString(2,16)});return e?'"'+t.replace(/"/g,'\\"')+'"':"'"+t.replace(/'/g,"\\'")+"'"}function unfilterJSON(e){return this.replace(e||Prototype.JSONFilter,"$1")}function isJSON(){var e=this;return!e.blank()&&(e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@"),e=e.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),e=e.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e))}function evalJSON(sanitize){var json=this.unfilterJSON(),cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;cx.test(json)&&(json=json.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));try{if(!sanitize||json.isJSON())return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())}function parseJSON(){var e=this.unfilterJSON();return JSON.parse(e)}function include(e){return this.indexOf(e)>-1}function startsWith(e){return 0===this.lastIndexOf(e,0)}function endsWith(e){var t=this.length-e.length;return t>=0&&this.indexOf(e,t)===t}function empty(){return""==this}function blank(){return/^\s*$/.test(this)}function interpolate(e,t){return new Template(this,t).evaluate(e)}var NATIVE_JSON_PARSE_SUPPORT=window.JSON&&"function"==typeof JSON.parse&&JSON.parse('{"test": true}').test;return{gsub:gsub,sub:sub,scan:scan,truncate:truncate,strip:String.prototype.trim||strip,stripTags:stripTags,stripScripts:stripScripts,extractScripts:extractScripts,evalScripts:evalScripts,escapeHTML:escapeHTML,unescapeHTML:unescapeHTML,toQueryParams:toQueryParams,parseQuery:toQueryParams,toArray:toArray,succ:succ,times:times,camelize:camelize,capitalize:capitalize,underscore:underscore,dasherize:dasherize,inspect:inspect,unfilterJSON:unfilterJSON,isJSON:isJSON,evalJSON:NATIVE_JSON_PARSE_SUPPORT?parseJSON:evalJSON,include:include,startsWith:startsWith,endsWith:endsWith,empty:empty,blank:blank,interpolate:interpolate}}());var Template=Class.create({initialize:function(e,t){this.template=e.toString(),this.pattern=t||Template.Pattern},evaluate:function(e){return e&&Object.isFunction(e.toTemplateReplacements)&&(e=e.toTemplateReplacements()),this.template.gsub(this.pattern,function(t){if(null==e)return t[1]+"";var i=t[1]||"";if("\\"==i)return t[2];var n=e,s=t[3],o=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;if(t=o.exec(s),null==t)return i;for(;null!=t;){var r=t[1].startsWith("[")?t[2].replace(/\\\\]/g,"]"):t[1];if(n=n[r],null==n||""==t[3])break;s=s.substring("["==t[3]?t[1].length:t[0].length),t=o.exec(s)}return i+String.interpret(n)})}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={},Enumerable=function(){function e(e,t){var i=0;try{this._each(function(n){e.call(t,n,i++)})}catch(e){if(e!=$break)throw e}return this}function t(e,t,i){var n=-e,s=[],o=this.toArray();if(e<1)return o;for(;(n+=e)<o.length;)s.push(o.slice(n,n+e));return s.collect(t,i)}function i(e,t){e=e||Prototype.K;var i=!0;return this.each(function(n,s){if(i=i&&!!e.call(t,n,s),!i)throw $break}),i}function n(e,t){e=e||Prototype.K;var i=!1;return this.each(function(n,s){if(i=!!e.call(t,n,s))throw $break}),i}function s(e,t){e=e||Prototype.K;var i=[];return this.each(function(n,s){i.push(e.call(t,n,s))}),i}function o(e,t){var i;return this.each(function(n,s){if(e.call(t,n,s))throw i=n,$break}),i}function r(e,t){var i=[];return this.each(function(n,s){e.call(t,n,s)&&i.push(n)}),i}function a(e,t,i){t=t||Prototype.K;var n=[];return Object.isString(e)&&(e=new RegExp(RegExp.escape(e))),this.each(function(s,o){e.match(s)&&n.push(t.call(i,s,o))}),n}function l(e){if(Object.isFunction(this.indexOf)&&this.indexOf(e)!=-1)return!0;var t=!1;return this.each(function(i){if(i==e)throw t=!0,$break}),t}function c(e,t){return t=Object.isUndefined(t)?null:t,this.eachSlice(e,function(i){for(;i.length<e;)i.push(t);return i})}function u(e,t,i){return this.each(function(n,s){e=t.call(i,e,n,s)}),e}function h(e){var t=$A(arguments).slice(1);return this.map(function(i){return i[e].apply(i,t)})}function d(e,t){e=e||Prototype.K;var i;return this.each(function(n,s){n=e.call(t,n,s),(null==i||n>=i)&&(i=n)}),i}function p(e,t){e=e||Prototype.K;var i;return this.each(function(n,s){n=e.call(t,n,s),(null==i||n<i)&&(i=n)}),i}function f(e,t){e=e||Prototype.K;var i=[],n=[];return this.each(function(s,o){(e.call(t,s,o)?i:n).push(s)}),[i,n]}function m(e){var t=[];return this.each(function(i){t.push(i[e])}),t}function g(e,t){var i=[];return this.each(function(n,s){e.call(t,n,s)||i.push(n)}),i}function v(e,t){return this.map(function(i,n){return{value:i,criteria:e.call(t,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;return i<n?-1:i>n?1:0}).pluck("value")}function b(){return this.map()}function y(){var e=Prototype.K,t=$A(arguments);Object.isFunction(t.last())&&(e=t.pop());var i=[this].concat(t).map($A);return this.map(function(t,n){return e(i.pluck(n))})}function _(){return this.toArray().length}function x(){return"#<Enumerable:"+this.toArray().inspect()+">"}return{each:e,eachSlice:t,all:i,every:i,any:n,some:n,collect:s,map:s,detect:o,findAll:r,select:r,filter:r,grep:a,include:l,member:l,inGroupsOf:c,inject:u,invoke:h,max:d,min:p,partition:f,pluck:m,reject:g,sortBy:v,toArray:b,entries:b,zip:y,size:_,inspect:x,find:o}}();Array.from=$A,function(){function e(e,t){for(var i=0,n=this.length>>>0;i<n;i++)i in this&&e.call(t,this[i],i,this)}function t(){return this.length=0,this}function i(){return this[0]}function n(){return this[this.length-1]}function s(){return this.select(function(e){return null!=e})}function o(){return this.inject([],function(e,t){return Object.isArray(t)?e.concat(t.flatten()):(e.push(t),e)})}function r(){var e=v.call(arguments,0);return this.select(function(t){return!e.include(t)})}function a(e){return(e===!1?this.toArray():this)._reverse()}function l(e){return this.inject([],function(t,i,n){return 0!=n&&(e?t.last()==i:t.include(i))||t.push(i),t})}function c(e){return this.uniq().findAll(function(t){return e.detect(function(e){return t===e})})}function u(){return v.call(this,0)}function h(){return this.length}function d(){return"["+this.map(Object.inspect).join(", ")+"]"}function p(e,t){t||(t=0);var i=this.length;for(t<0&&(t=i+t);t<i;t++)if(this[t]===e)return t;return-1}function f(e,t){t=isNaN(t)?this.length:(t<0?this.length+t:t)+1;var i=this.slice(0,t).reverse().indexOf(e);return i<0?i:t-i-1}function m(){for(var e,t=v.call(this,0),i=0,n=arguments.length;i<n;i++)if(e=arguments[i],!Object.isArray(e)||"callee"in e)t.push(e);else for(var s=0,o=e.length;s<o;s++)t.push(e[s]);return t}var g=Array.prototype,v=g.slice,b=g.forEach;b||(b=e),Object.extend(g,Enumerable),g._reverse||(g._reverse=g.reverse),Object.extend(g,{_each:b,clear:t,first:i,last:n,compact:s,flatten:o,without:r,reverse:a,uniq:l,intersect:c,clone:u,toArray:u,size:h,inspect:d});var y=function(){return 1!==[].concat(arguments)[0][0]}(1,2);y&&(g.concat=m),g.indexOf||(g.indexOf=p),g.lastIndexOf||(g.lastIndexOf=f)}();var Hash=Class.create(Enumerable,function(){function e(e){this._object=Object.isHash(e)?e.toObject():Object.clone(e)}function t(e){for(var t in this._object){var i=this._object[t],n=[t,i];n.key=t,n.value=i,e(n)}}function i(e,t){return this._object[e]=t}function n(e){if(this._object[e]!==Object.prototype[e])return this._object[e]}function s(e){var t=this._object[e];return delete this._object[e],t}function o(){return Object.clone(this._object)}function r(){return this.pluck("key")}function a(){return this.pluck("value")}function l(e){var t=this.detect(function(t){return t.value===e});return t&&t.key}function c(e){return this.clone().update(e)}function u(e){return new Hash(e).inject(this,function(e,t){return e.set(t.key,t.value),e})}function h(e,t){return Object.isUndefined(t)?e:e+"="+encodeURIComponent(String.interpret(t))}function d(){return this.inject([],function(e,t){var i=encodeURIComponent(t.key),n=t.value;if(n&&"object"==typeof n){if(Object.isArray(n)){for(var s,o=[],r=0,a=n.length;r<a;r++)s=n[r],o.push(h(i,s));return e.concat(o)}}else e.push(h(i,n));return e}).join("&")}function p(){return"#<Hash:{"+this.map(function(e){return e.map(Object.inspect).join(": ")}).join(", ")+"}>"}function f(){return new Hash(this)}return{initialize:e,_each:t,set:i,get:n,unset:s,toObject:o,toTemplateReplacements:o,keys:r,values:a,index:l,merge:c,update:u,toQueryString:d,inspect:p,toJSON:o,clone:f}}());Hash.from=$H,Object.extend(Number.prototype,function(){function e(){return this.toPaddedString(2,16)}function t(){return this+1}function i(e,t){return $R(0,this,!0).each(e,t),this}function n(e,t){var i=this.toString(t||10);return"0".times(e-i.length)+i}function s(){return Math.abs(this)}function o(){return Math.round(this)}function r(){return Math.ceil(this)}function a(){return Math.floor(this)}return{toColorPart:e,succ:t,times:i,toPaddedString:n,abs:s,round:o,ceil:r,floor:a}}());var ObjectRange=Class.create(Enumerable,function(){function e(e,t,i){this.start=e,this.end=t,this.exclusive=i}function t(e){for(var t=this.start;this.include(t);)e(t),t=t.succ()}function i(e){return!(e<this.start)&&(this.exclusive?e<this.end:e<=this.end)}return{initialize:e,_each:t,include:i}}()),Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||!1},activeRequestCount:0};if(Ajax.Responders={responders:[],_each:function(e){this.responders._each(e)},register:function(e){this.include(e)||this.responders.push(e)},unregister:function(e){this.responders=this.responders.without(e)},dispatch:function(e,t,i,n){this.each(function(s){if(Object.isFunction(s[e]))try{s[e].apply(s,[t,i,n])}catch(e){}})}},Object.extend(Ajax.Responders,Enumerable),Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}}),Ajax.Base=Class.create({initialize:function(e){this.options={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:!0,evalJS:!0},Object.extend(this.options,e||{}),this.options.method=this.options.method.toLowerCase(),Object.isHash(this.options.parameters)&&(this.options.parameters=this.options.parameters.toObject())}}),Ajax.Request=Class.create(Ajax.Base,{_complete:!1,initialize:function($super,e,t){$super(t),this.transport=Ajax.getTransport(),this.request(e)},request:function(e){this.url=e,this.method=this.options.method;var t=Object.isString(this.options.parameters)?this.options.parameters:Object.toQueryString(this.options.parameters);["get","post"].include(this.method)||(t+=(t?"&":"")+"_method="+this.method,this.method="post"),t&&"get"===this.method&&(this.url+=(this.url.include("?")?"&":"?")+t),this.parameters=t.toQueryParams();try{var i=new Ajax.Response(this);this.options.onCreate&&this.options.onCreate(i),Ajax.Responders.dispatch("onCreate",this,i),this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous),this.options.asynchronous&&this.respondToReadyState.bind(this).defer(1),this.transport.onreadystatechange=this.onStateChange.bind(this),this.setRequestHeaders(),this.body="post"==this.method?this.options.postBody||t:null,this.transport.send(this.body),!this.options.asynchronous&&this.transport.overrideMimeType&&this.onStateChange()}catch(e){this.dispatchException(e)}},onStateChange:function(){var e=this.transport.readyState;e>1&&(4!=e||!this._complete)&&this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if("post"==this.method&&(e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:""),this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(e.Connection="close")),"object"==typeof this.options.requestHeaders){var t=this.options.requestHeaders;if(Object.isFunction(t.push))for(var i=0,n=t.length;i<n;i+=2)e[t[i]]=t[i+1];else $H(t).each(function(t){e[t.key]=t.value})}for(var s in e)this.transport.setRequestHeader(s,e[s])},success:function(){var e=this.getStatus();return!e||e>=200&&e<300||304==e},getStatus:function(){try{return 1223===this.transport.status?204:this.transport.status||0}catch(e){return 0}},respondToReadyState:function(e){var t=Ajax.Request.Events[e],i=new Ajax.Response(this);if("Complete"==t){try{this._complete=!0,(this.options["on"+i.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(i,i.headerJSON)}catch(e){this.dispatchException(e)}var n=i.getHeader("Content-type");("force"==this.options.evalJS||this.options.evalJS&&this.isSameOrigin()&&n&&n.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))&&this.evalResponse()}try{(this.options["on"+t]||Prototype.emptyFunction)(i,i.headerJSON),Ajax.Responders.dispatch("on"+t,this,i,i.headerJSON)}catch(e){this.dispatchException(e)}"Complete"==t&&(this.transport.onreadystatechange=Prototype.emptyFunction)},isSameOrigin:function(){var e=this.url.match(/^\s*https?:\/\/[^\/]*/);return!e||e[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""})},getHeader:function(e){try{return this.transport.getResponseHeader(e)||null}catch(e){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(e){(this.options.onException||Prototype.emptyFunction)(this,e),Ajax.Responders.dispatch("onException",this,e)}}),Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"],Ajax.Response=Class.create({initialize:function(e){this.request=e;var t=this.transport=e.transport,i=this.readyState=t.readyState;if((i>2&&!Prototype.Browser.IE||4==i)&&(this.status=this.getStatus(),this.statusText=this.getStatusText(),this.responseText=String.interpret(t.responseText),this.headerJSON=this._getHeaderJSON()),4==i){var n=t.responseXML;this.responseXML=Object.isUndefined(n)?null:n,this.responseJSON=this._getResponseJSON()}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(e){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(e){return null}},getResponseHeader:function(e){return this.transport.getResponseHeader(e)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var e=this.getHeader("X-JSON");if(!e)return null;e=decodeURIComponent(escape(e));try{return e.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}},_getResponseJSON:function(){var e=this.request.options;if(!e.evalJSON||"force"!=e.evalJSON&&!(this.getHeader("Content-type")||"").include("application/json")||this.responseText.blank())return null;try{return this.responseText.evalJSON(e.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}}}),Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,e,t,i){this.container={success:e.success||e,failure:e.failure||(e.success?null:e)},i=Object.clone(i);var n=i.onComplete;i.onComplete=function(e,t){this.updateContent(e.responseText),Object.isFunction(n)&&n(e,t)}.bind(this),$super(t,i)},updateContent:function(e){var t=this.container[this.success()?"success":"failure"],i=this.options;if(i.evalScripts||(e=e.stripScripts()),t=$(t))if(i.insertion)if(Object.isString(i.insertion)){var n={};n[i.insertion]=e,t.insert(n)}else i.insertion(t,e);else t.update(e)}}),Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,e,t,i){$super(i),this.onComplete=this.options.onComplete,this.frequency=this.options.frequency||2,this.decay=this.options.decay||1,this.updater={},this.container=e,this.url=t,this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this),this.onTimerEvent()},stop:function(){this.updater.options.onComplete=void 0,clearTimeout(this.timer),(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(e){this.options.decay&&(this.decay=e.responseText==this.lastText?this.decay*this.options.decay:1,this.lastText=e.responseText),this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}}),Prototype.BrowserFeatures.XPath&&(document._getElementsByXPath=function(e,t){for(var i=[],n=document.evaluate(e,$(t)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),s=0,o=n.snapshotLength;s<o;s++)i.push(Element.extend(n.snapshotItem(s)));return i}),!Node)var Node={};Node.ELEMENT_NODE||Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),function(e){function t(e,t){return"select"!==e&&!("type"in t)}var i=function(){try{var e=document.createElement('<input name="x">');return"input"===e.tagName.toLowerCase()&&"x"===e.name}catch(e){return!1}}(),n=e.Element;e.Element=function(e,n){n=n||{},e=e.toLowerCase();var s=Element.cache;if(i&&n.name)return e="<"+e+' name="'+n.name+'">',delete n.name,Element.writeAttribute(document.createElement(e),n);s[e]||(s[e]=Element.extend(document.createElement(e)));var o=t(e,n)?s[e].cloneNode(!1):document.createElement(e);return Element.writeAttribute(o,n)},Object.extend(e.Element,n||{}),n&&(e.Element.prototype=n.prototype)}(this),Element.idCounter=1,Element.cache={},Element._purgeElement=function(e){var t=e._prototypeUID;t&&(Element.stopObserving(e),e._prototypeUID=void 0,delete Element.Storage[t])},Element.Methods={visible:function(e){return"none"!=$(e).style.display},toggle:function(e){return e=$(e),Element[Element.visible(e)?"hide":"show"](e),e},hide:function(e){return e=$(e),e.style.display="none",e},show:function(e){return e=$(e),e.style.display="",e},remove:function(e){return e=$(e),e.parentNode.removeChild(e),e},update:function(){function e(e,t){e=$(e);for(var i=Element._purgeElement,r=e.getElementsByTagName("*"),a=r.length;a--;)i(r[a]);if(t&&t.toElement&&(t=t.toElement()),Object.isElement(t))return e.update().insert(t);t=Object.toHTML(t);var l=e.tagName.toUpperCase();if("SCRIPT"===l&&o)return e.text=t,e;if(s)if(l in Element._insertionTranslations.tags){for(;e.firstChild;)e.removeChild(e.firstChild);Element._getContentFromAnonymousElement(l,t.stripScripts()).each(function(t){e.appendChild(t)})}else if(n&&Object.isString(t)&&t.indexOf("<link")>-1){for(;e.firstChild;)e.removeChild(e.firstChild);var c=Element._getContentFromAnonymousElement(l,t.stripScripts(),!0);c.each(function(t){e.appendChild(t)})}else e.innerHTML=t.stripScripts();else e.innerHTML=t.stripScripts();return t.evalScripts.bind(t).defer(),e}var t=function(){var e=document.createElement("select"),t=!0;return e.innerHTML='<option value="test">test</option>',e.options&&e.options[0]&&(t="OPTION"!==e.options[0].nodeName.toUpperCase()),e=null,t}(),i=function(){try{var e=document.createElement("table");if(e&&e.tBodies){e.innerHTML="<tbody><tr><td>test</td></tr></tbody>";var t="undefined"==typeof e.tBodies[0];return e=null,t}}catch(e){return!0}}(),n=function(){try{var e=document.createElement("div");e.innerHTML="<link>";var t=0===e.childNodes.length;return e=null,t}catch(e){return!0}}(),s=t||i||n,o=function(){var e=document.createElement("script"),t=!1;try{e.appendChild(document.createTextNode("")),t=!e.firstChild||e.firstChild&&3!==e.firstChild.nodeType}catch(e){t=!0}return e=null,t}();return e}(),replace:function(e,t){if(e=$(e),t&&t.toElement)t=t.toElement();else if(!Object.isElement(t)){t=Object.toHTML(t);var i=e.ownerDocument.createRange();i.selectNode(e),t.evalScripts.bind(t).defer(),t=i.createContextualFragment(t.stripScripts())}return e.parentNode.replaceChild(t,e),e},insert:function(e,t){e=$(e),(Object.isString(t)||Object.isNumber(t)||Object.isElement(t)||t&&(t.toElement||t.toHTML))&&(t={bottom:t});var i,n,s,o;for(var r in t)i=t[r],r=r.toLowerCase(),n=Element._insertionTranslations[r],i&&i.toElement&&(i=i.toElement()),Object.isElement(i)?n(e,i):(i=Object.toHTML(i),s=("before"==r||"after"==r?e.parentNode:e).tagName.toUpperCase(),o=Element._getContentFromAnonymousElement(s,i.stripScripts()),"top"!=r&&"after"!=r||o.reverse(),o.each(n.curry(e)),i.evalScripts.bind(i).defer());return e},wrap:function(e,t,i){return e=$(e),Object.isElement(t)?$(t).writeAttribute(i||{}):t=Object.isString(t)?new Element(t,i):new Element("div",t),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},inspect:function(e){e=$(e);var t="<"+e.tagName.toLowerCase();return $H({id:"id",className:"class"}).each(function(i){var n=i.first(),s=i.last(),o=(e[n]||"").toString();o&&(t+=" "+s+"="+o.inspect(!0))}),t+">"},recursivelyCollect:function(e,t,i){e=$(e),i=i||-1;for(var n=[];(e=e[t])&&(1==e.nodeType&&n.push(Element.extend(e)),n.length!=i););return n},ancestors:function(e){return Element.recursivelyCollect(e,"parentNode")},descendants:function(e){return Element.select(e,"*")},firstDescendant:function(e){for(e=$(e).firstChild;e&&1!=e.nodeType;)e=e.nextSibling;return $(e)},immediateDescendants:function(e){for(var t=[],i=$(e).firstChild;i;)1===i.nodeType&&t.push(Element.extend(i)),i=i.nextSibling;return t},previousSiblings:function(e){return Element.recursivelyCollect(e,"previousSibling")},nextSiblings:function(e){return Element.recursivelyCollect(e,"nextSibling")},siblings:function(e){return e=$(e),Element.previousSiblings(e).reverse().concat(Element.nextSiblings(e))},match:function(e,t){return e=$(e),Object.isString(t)?Prototype.Selector.match(e,t):t.match(e)},up:function(e,t,i){if(e=$(e),1==arguments.length)return $(e.parentNode);var n=Element.ancestors(e);return Object.isNumber(t)?n[t]:Prototype.Selector.find(n,t,i)},down:function(e,t,i){return e=$(e),1==arguments.length?Element.firstDescendant(e):Object.isNumber(t)?Element.descendants(e)[t]:Element.select(e,t)[i||0]},previous:function(e,t,i){return e=$(e),
Object.isNumber(t)&&(i=t,t=!1),Object.isNumber(i)||(i=0),t?Prototype.Selector.find(e.previousSiblings(),t,i):e.recursivelyCollect("previousSibling",i+1)[i]},next:function(e,t,i){if(e=$(e),Object.isNumber(t)&&(i=t,t=!1),Object.isNumber(i)||(i=0),t)return Prototype.Selector.find(e.nextSiblings(),t,i);Object.isNumber(i)?i+1:1;return e.recursivelyCollect("nextSibling",i+1)[i]},select:function(e){e=$(e);var t=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(t,e)},adjacent:function(e){e=$(e);var t=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(t,e.parentNode).without(e)},identify:function(e){e=$(e);var t=Element.readAttribute(e,"id");if(t)return t;do t="anonymous_element_"+Element.idCounter++;while($(t));return Element.writeAttribute(e,"id",t),t},readAttribute:function(e,t){if(e=$(e),Prototype.Browser.IE){var i=Element._attributeTranslations.read;if(i.values[t])return i.values[t](e,t);if(i.names[t]&&(t=i.names[t]),t.include(":"))return e.attributes&&e.attributes[t]?e.attributes[t].value:null}return e.getAttribute(t)},writeAttribute:function(e,t,i){e=$(e);var n={},s=Element._attributeTranslations.write;"object"==typeof t?n=t:n[t]=!!Object.isUndefined(i)||i;for(var o in n)t=s.names[o]||o,i=n[o],s.values[o]&&(t=s.values[o](e,i)),i===!1||null===i?e.removeAttribute(t):i===!0?e.setAttribute(t,t):e.setAttribute(t,i);return e},getHeight:function(e){return Element.getDimensions(e).height},getWidth:function(e){return Element.getDimensions(e).width},classNames:function(e){return new Element.ClassNames(e)},hasClassName:function(e,t){if(e=$(e)){var i=e.className;return i.length>0&&(i==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(i))}},addClassName:function(e,t){if(e=$(e))return Element.hasClassName(e,t)||(e.className+=(e.className?" ":"")+t),e},removeClassName:function(e,t){if(e=$(e))return e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").strip(),e},toggleClassName:function(e,t){if(e=$(e))return Element[Element.hasClassName(e,t)?"removeClassName":"addClassName"](e,t)},cleanWhitespace:function(e){e=$(e);for(var t=e.firstChild;t;){var i=t.nextSibling;3!=t.nodeType||/\S/.test(t.nodeValue)||e.removeChild(t),t=i}return e},empty:function(e){return $(e).innerHTML.blank()},descendantOf:function(e,t){if(e=$(e),t=$(t),e.compareDocumentPosition)return 8===(8&e.compareDocumentPosition(t));if(t.contains)return t.contains(e)&&t!==e;for(;e=e.parentNode;)if(e==t)return!0;return!1},scrollTo:function(e){e=$(e);var t=Element.cumulativeOffset(e);return window.scrollTo(t[0],t[1]),e},getStyle:function(e,t){e=$(e),t="float"==t?"cssFloat":t.camelize();var i=e.style[t];if(!i||"auto"==i){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return"opacity"==t?i?parseFloat(i):1:"auto"==i?null:i},getOpacity:function(e){return $(e).getStyle("opacity")},setStyle:function(e,t){e=$(e);var i=e.style;if(Object.isString(t))return e.style.cssText+=";"+t,t.include("opacity")?e.setOpacity(t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var n in t)"opacity"==n?e.setOpacity(t[n]):i["float"==n||"cssFloat"==n?Object.isUndefined(i.styleFloat)?"cssFloat":"styleFloat":n]=t[n];return e},setOpacity:function(e,t){return e=$(e),e.style.opacity=1==t||""===t?"":t<1e-5?0:t,e},makePositioned:function(e){e=$(e);var t=Element.getStyle(e,"position");return"static"!=t&&t||(e._madePositioned=!0,e.style.position="relative",Prototype.Browser.Opera&&(e.style.top=0,e.style.left=0)),e},undoPositioned:function(e){return e=$(e),e._madePositioned&&(e._madePositioned=void 0,e.style.position=e.style.top=e.style.left=e.style.bottom=e.style.right=""),e},makeClipping:function(e){return e=$(e),e._overflow?e:(e._overflow=Element.getStyle(e,"overflow")||"auto","hidden"!==e._overflow&&(e.style.overflow="hidden"),e)},undoClipping:function(e){return e=$(e),e._overflow?(e.style.overflow="auto"==e._overflow?"":e._overflow,e._overflow=null,e):e},clonePosition:function(e,t){var i=Object.extend({setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0},arguments[2]||{});t=$(t);var n=Element.viewportOffset(t),s=[0,0],o=null;return e=$(e),"absolute"==Element.getStyle(e,"position")&&(o=Element.getOffsetParent(e),s=Element.viewportOffset(o)),o==document.body&&(s[0]-=document.body.offsetLeft,s[1]-=document.body.offsetTop),i.setLeft&&(e.style.left=n[0]-s[0]+i.offsetLeft+"px"),i.setTop&&(e.style.top=n[1]-s[1]+i.offsetTop+"px"),i.setWidth&&(e.style.width=t.offsetWidth+"px"),i.setHeight&&(e.style.height=t.offsetHeight+"px"),e}},Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants}),Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}},Prototype.Browser.Opera?(Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(e,t,i){switch(i){case"height":case"width":if(!Element.visible(t))return null;var n=parseInt(e(t,i),10);if(n!==t["offset"+i.capitalize()])return n+"px";var s;return s="height"===i?["border-top-width","padding-top","padding-bottom","border-bottom-width"]:["border-left-width","padding-left","padding-right","border-right-width"],s.inject(n,function(i,n){var s=e(t,n);return null===s?i:i-parseInt(s,10)})+"px";default:return e(t,i)}}),Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(e,t,i){return"title"===i?t.title:e(t,i)})):Prototype.Browser.IE?(Element.Methods.getStyle=function(e,t){e=$(e),t="float"==t||"cssFloat"==t?"styleFloat":t.camelize();var i=e.style[t];return!i&&e.currentStyle&&(i=e.currentStyle[t]),"opacity"==t?(i=(e.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/))&&i[1]?parseFloat(i[1])/100:1:"auto"==i?"width"!=t&&"height"!=t||"none"==e.getStyle("display")?null:e["offset"+t.capitalize()]+"px":i},Element.Methods.setOpacity=function(e,t){function i(e){return e.replace(/alpha\([^\)]*\)/gi,"")}e=$(e);var n=e.currentStyle;(n&&!n.hasLayout||!n&&"normal"==e.style.zoom)&&(e.style.zoom=1);var s=e.getStyle("filter"),o=e.style;return 1==t||""===t?((s=i(s))?o.filter=s:o.removeAttribute("filter"),e):(t<1e-5&&(t=0),o.filter=i(s)+"alpha(opacity="+100*t+")",e)},Element._attributeTranslations=function(){var e="className",t="for",i=document.createElement("div");return i.setAttribute(e,"x"),"x"!==i.className&&(i.setAttribute("class","x"),"x"===i.className&&(e="class")),i=null,i=document.createElement("label"),i.setAttribute(t,"x"),"x"!==i.htmlFor&&(i.setAttribute("htmlFor","x"),"x"===i.htmlFor&&(t="htmlFor")),i=null,{read:{names:{"class":e,className:e,"for":t,htmlFor:t},values:{_getAttr:function(e,t){return e.getAttribute(t)},_getAttr2:function(e,t){return e.getAttribute(t,2)},_getAttrNode:function(e,t){var i=e.getAttributeNode(t);return i?i.value:""},_getEv:function(){var e,t=document.createElement("div");t.onclick=Prototype.emptyFunction;var i=t.getAttribute("onclick");return String(i).indexOf("{")>-1?e=function(e,t){return(t=e.getAttribute(t))?(t=t.toString(),t=t.split("{")[1],t=t.split("}")[0],t.strip()):null}:""===i&&(e=function(e,t){return t=e.getAttribute(t),t?t.strip():null}),t=null,e}(),_flag:function(e,t){return $(e).hasAttribute(t)?t:null},style:function(e){return e.style.cssText.toLowerCase()},title:function(e){return e.title}}}}}(),Element._attributeTranslations.write={names:Object.extend({cellpadding:"cellPadding",cellspacing:"cellSpacing"},Element._attributeTranslations.read.names),values:{checked:function(e,t){e.checked=!!t},style:function(e,t){e.style.cssText=t?t:""}}},Element._attributeTranslations.has={},$w("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc frameBorder").each(function(e){Element._attributeTranslations.write.names[e.toLowerCase()]=e,Element._attributeTranslations.has[e.toLowerCase()]=e}),function(e){Object.extend(e,{href:e._getAttr2,src:e._getAttr2,type:e._getAttr,action:e._getAttrNode,disabled:e._flag,checked:e._flag,readonly:e._flag,multiple:e._flag,onload:e._getEv,onunload:e._getEv,onclick:e._getEv,ondblclick:e._getEv,onmousedown:e._getEv,onmouseup:e._getEv,onmouseover:e._getEv,onmousemove:e._getEv,onmouseout:e._getEv,onfocus:e._getEv,onblur:e._getEv,onkeypress:e._getEv,onkeydown:e._getEv,onkeyup:e._getEv,onsubmit:e._getEv,onreset:e._getEv,onselect:e._getEv,onchange:e._getEv})}(Element._attributeTranslations.read.values),Prototype.BrowserFeatures.ElementExtensions&&!function(){function e(e){for(var t,i=e.getElementsByTagName("*"),n=[],s=0;t=i[s];s++)"!"!==t.tagName&&n.push(t);return n}Element.Methods.down=function(t,i,n){return t=$(t),1==arguments.length?t.firstDescendant():Object.isNumber(i)?e(t)[i]:Element.select(t,i)[n||0]}}()):Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)?Element.Methods.setOpacity=function(e,t){return e=$(e),e.style.opacity=1==t?.999999:""===t?"":t<1e-5?0:t,e}:Prototype.Browser.WebKit&&(Element.Methods.setOpacity=function(e,t){if(e=$(e),e.style.opacity=1==t||""===t?"":t<1e-5?0:t,1==t)if("IMG"==e.tagName.toUpperCase()&&e.width)e.width++,e.width--;else try{var i=document.createTextNode(" ");e.appendChild(i),e.removeChild(i)}catch(e){}return e}),"outerHTML"in document.documentElement&&(Element.Methods.replace=function(e,t){if(e=$(e),t&&t.toElement&&(t=t.toElement()),Object.isElement(t))return e.parentNode.replaceChild(t,e),e;t=Object.toHTML(t);var i=e.parentNode,n=i.tagName.toUpperCase();if(Element._insertionTranslations.tags[n]){var s=e.next(),o=Element._getContentFromAnonymousElement(n,t.stripScripts());i.removeChild(e),s?o.each(function(e){i.insertBefore(e,s)}):o.each(function(e){i.appendChild(e)})}else e.outerHTML=t.stripScripts();return t.evalScripts.bind(t).defer(),e}),Element._returnOffset=function(e,t){var i=[e,t];return i.left=e,i.top=t,i},Element._getContentFromAnonymousElement=function(e,t,i){var n=new Element("div"),s=Element._insertionTranslations.tags[e],o=!1;if(s?o=!0:i&&(o=!0,s=["","",0]),o){n.innerHTML="&nbsp;"+s[0]+t+s[1],n.removeChild(n.firstChild);for(var r=s[2];r--;)n=n.firstChild}else n.innerHTML=t;return $A(n.childNodes)},Element._insertionTranslations={before:function(e,t){e.parentNode.insertBefore(t,e)},top:function(e,t){e.insertBefore(t,e.firstChild)},bottom:function(e,t){e.appendChild(t)},after:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}},function(){var e=Element._insertionTranslations.tags;Object.extend(e,{THEAD:e.TBODY,TFOOT:e.TBODY,TH:e.TD})}(),Element.Methods.Simulated={hasAttribute:function(e,t){t=Element._attributeTranslations.has[t]||t;var i=$(e).getAttributeNode(t);return!(!i||!i.specified)}},Element.Methods.ByTag={},Object.extend(Element,Element.Methods),function(e){!Prototype.BrowserFeatures.ElementExtensions&&e.__proto__&&(window.HTMLElement={},window.HTMLElement.prototype=e.__proto__,Prototype.BrowserFeatures.ElementExtensions=!0),e=null}(document.createElement("div")),Element.extend=function(){function e(e){if("undefined"!=typeof window.Element){var t=window.Element.prototype;if(t){var i="_"+(Math.random()+"").slice(2),n=document.createElement(e);t[i]="x";var s="x"!==n[i];return delete t[i],n=null,s}}return!1}function t(e,t){for(var i in t){var n=t[i];!Object.isFunction(n)||i in e||(e[i]=n.methodize())}}var i=e("object");if(Prototype.BrowserFeatures.SpecificElementExtensions)return i?function(e){if(e&&"undefined"==typeof e._extendedByPrototype){var i=e.tagName;i&&/^(?:object|applet|embed)$/i.test(i)&&(t(e,Element.Methods),t(e,Element.Methods.Simulated),t(e,Element.Methods.ByTag[i.toUpperCase()]))}return e}:Prototype.K;var n={},s=Element.Methods.ByTag,o=Object.extend(function(e){if(!e||"undefined"!=typeof e._extendedByPrototype||1!=e.nodeType||e==window)return e;var i=Object.clone(n),o=e.tagName.toUpperCase();return s[o]&&Object.extend(i,s[o]),t(e,i),e._extendedByPrototype=Prototype.emptyFunction,e},{refresh:function(){Prototype.BrowserFeatures.ElementExtensions||(Object.extend(n,Element.Methods),Object.extend(n,Element.Methods.Simulated))}});return o.refresh(),o}(),document.documentElement.hasAttribute?Element.hasAttribute=function(e,t){return e.hasAttribute(t)}:Element.hasAttribute=Element.Methods.Simulated.hasAttribute,Element.addMethods=function(e){function t(t){t=t.toUpperCase(),Element.Methods.ByTag[t]||(Element.Methods.ByTag[t]={}),Object.extend(Element.Methods.ByTag[t],e)}function i(e,t,i){i=i||!1;for(var n in e){var s=e[n];Object.isFunction(s)&&(i&&n in t||(t[n]=s.methodize()))}}function n(e){var t,i={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(i[e]&&(t="HTML"+i[e]+"Element"),window[t])return window[t];if(t="HTML"+e+"Element",window[t])return window[t];if(t="HTML"+e.capitalize()+"Element",window[t])return window[t];var n=document.createElement(e),s=n.__proto__||n.constructor.prototype;return n=null,s}var s=Prototype.BrowserFeatures,o=Element.Methods.ByTag;if(e||(Object.extend(Form,Form.Methods),Object.extend(Form.Element,Form.Element.Methods),Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods),BUTTON:Object.clone(Form.Element.Methods)})),2==arguments.length){var r=e;e=arguments[1]}r?Object.isArray(r)?r.each(t):t(r):Object.extend(Element.Methods,e||{});var a=window.HTMLElement?HTMLElement.prototype:Element.prototype;if(s.ElementExtensions&&(i(Element.Methods,a),i(Element.Methods.Simulated,a,!0)),s.SpecificElementExtensions)for(var l in Element.Methods.ByTag){var c=n(l);Object.isUndefined(c)||i(o[l],c.prototype)}Object.extend(Element,Element.Methods),delete Element.ByTag,Element.extend.refresh&&Element.extend.refresh(),Element.cache={}},document.viewport={getDimensions:function(){return{width:this.getWidth(),height:this.getHeight()}},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}},function(e){function t(){return s.WebKit&&!o.evaluate?document:s.Opera&&window.parseFloat(window.opera.version())<9.5?document.body:document.documentElement}function i(i){return n||(n=t()),r[i]="client"+i,e["get"+i]=function(){return n[r[i]]},e["get"+i]()}var n,s=Prototype.Browser,o=document,r={};e.getWidth=i.curry("Width"),e.getHeight=i.curry("Height")}(document.viewport),Element.Storage={UID:1},Element.addMethods({getStorage:function(e){if(e=$(e)){var t;return e===window?t=0:("undefined"==typeof e._prototypeUID&&(e._prototypeUID=Element.Storage.UID++),t=e._prototypeUID),Element.Storage[t]||(Element.Storage[t]=$H()),Element.Storage[t]}},store:function(e,t,i){if(e=$(e))return 2===arguments.length?Element.getStorage(e).update(t):Element.getStorage(e).set(t,i),e},retrieve:function(e,t,i){if(e=$(e)){var n=Element.getStorage(e),s=n.get(t);return Object.isUndefined(s)&&(n.set(t,i),s=i),s}},clone:function(e,t){if(e=$(e)){var i=e.cloneNode(t);if(i._prototypeUID=void 0,t)for(var n=Element.select(i,"*"),s=n.length;s--;)n[s]._prototypeUID=void 0;return Element.extend(i)}},purge:function(e){if(e=$(e)){var t=Element._purgeElement;t(e);for(var i=e.getElementsByTagName("*"),n=i.length;n--;)t(i[n]);return null}}}),function(){function e(e){var t=e.match(/^(\d+)%?$/i);return t?Number(t[1])/100:null}function t(t,i,n){var s=null;if(Object.isElement(t)&&(s=t,t=s.getStyle(i)),null===t)return null;if(/^(?:-)?\d+(\.\d+)?(px)?$/i.test(t))return window.parseFloat(t);var o=t.include("%"),r=n===document.viewport;if(/\d/.test(t)&&s&&s.runtimeStyle&&(!o||!r)){var a=s.style.left,l=s.runtimeStyle.left;return s.runtimeStyle.left=s.currentStyle.left,s.style.left=t||0,t=s.style.pixelLeft,s.style.left=a,s.runtimeStyle.left=l,t}if(s&&o){n=n||s.parentNode;var c=e(t),u=null,h=(s.getStyle("position"),i.include("left")||i.include("right")||i.include("width")),d=i.include("top")||i.include("bottom")||i.include("height");return n===document.viewport?h?u=document.viewport.getWidth():d&&(u=document.viewport.getHeight()):h?u=$(n).measure("width"):d&&(u=$(n).measure("height")),null===u?0:u*c}return 0}function i(e){for(;e&&e.parentNode;){var t=e.getStyle("display");if("none"===t)return!1;e=$(e.parentNode)}return!0}function n(e){return e.include("border")&&(e+="-width"),e.camelize()}function s(e,t){return new Element.Layout(e,t)}function o(e,t){return $(e).getLayout().get(t)}function r(e){e=$(e);var t=Element.getStyle(e,"display");if(t&&"none"!==t)return{width:e.offsetWidth,height:e.offsetHeight};var i=e.style,n={visibility:i.visibility,position:i.position,display:i.display},s={visibility:"hidden",display:"block"};"fixed"!==n.position&&(s.position="absolute"),Element.setStyle(e,s);var o={width:e.offsetWidth,height:e.offsetHeight};return Element.setStyle(e,n),o}function a(e){if(e=$(e),g(e)||v(e)||f(e)||m(e))return $(document.body);var t="inline"===Element.getStyle(e,"display");if(!t&&e.offsetParent)return $(e.offsetParent);for(;(e=e.parentNode)&&e!==document.body;)if("static"!==Element.getStyle(e,"position"))return $(m(e)?document.body:e);return $(document.body)}function l(e){e=$(e);var t=0,i=0;if(e.parentNode)do t+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent;while(e);return new Element.Offset(i,t)}function c(e){e=$(e);var t=e.getLayout(),i=0,n=0;do if(i+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent){if(f(e))break;var s=Element.getStyle(e,"position");if("static"!==s)break}while(e);return n-=t.get("margin-top"),i-=t.get("margin-left"),new Element.Offset(n,i)}function u(e){var t=0,i=0;do t+=e.scrollTop||0,i+=e.scrollLeft||0,e=e.parentNode;while(e);return new Element.Offset(i,t)}function h(e){s=$(s);var t=0,i=0,n=document.body,s=e;do if(t+=s.offsetTop||0,i+=s.offsetLeft||0,s.offsetParent==n&&"absolute"==Element.getStyle(s,"position"))break;while(s=s.offsetParent);s=e;do s!=n&&(t-=s.scrollTop||0,i-=s.scrollLeft||0);while(s=s.parentNode);return new Element.Offset(i,t)}function d(e){if(e=$(e),"absolute"===Element.getStyle(e,"position"))return e;var t=a(e),i=e.viewportOffset(),n=t.viewportOffset(),s=i.relativeTo(n),o=e.getLayout();return e.store("prototype_absolutize_original_styles",{left:e.getStyle("left"),top:e.getStyle("top"),width:e.getStyle("width"),height:e.getStyle("height")}),e.setStyle({position:"absolute",top:s.top+"px",left:s.left+"px",width:o.get("width")+"px",height:o.get("height")+"px"}),e}function p(e){if(e=$(e),"relative"===Element.getStyle(e,"position"))return e;var t=e.retrieve("prototype_absolutize_original_styles");return t&&e.setStyle(t),e}function f(e){return"BODY"===e.nodeName.toUpperCase()}function m(e){return"HTML"===e.nodeName.toUpperCase()}function g(e){return e.nodeType===Node.DOCUMENT_NODE}function v(e){return e!==document.body&&!Element.descendantOf(e,document.body)}var b=Prototype.K;"currentStyle"in document.documentElement&&(b=function(e){return e.currentStyle.hasLayout||(e.style.zoom=1),e}),Element.Layout=Class.create(Hash,{initialize:function($super,e,t){$super(),this.element=$(e),Element.Layout.PROPERTIES.each(function(e){this._set(e,null)},this),t&&(this._preComputing=!0,this._begin(),Element.Layout.PROPERTIES.each(this._compute,this),this._end(),this._preComputing=!1)},_set:function(e,t){return Hash.prototype.set.call(this,e,t)},set:function(){throw"Properties of Element.Layout are read-only."},get:function($super,e){var t=$super(e);return null===t?this._compute(e):t},_begin:function(){if(!this._prepared){var e=this.element;if(i(e))return void(this._prepared=!0);var n={position:e.style.position||"",width:e.style.width||"",visibility:e.style.visibility||"",display:e.style.display||""};e.store("prototype_original_styles",n);var s=e.getStyle("position"),o=e.getStyle("width");"0px"!==o&&null!==o||(e.style.display="block",o=e.getStyle("width"));var r="fixed"===s?document.viewport:e.parentNode;e.setStyle({position:"absolute",visibility:"hidden",display:"block"});var a,l=e.getStyle("width");if(o&&l===o)a=t(e,"width",r);else if("absolute"===s||"fixed"===s)a=t(e,"width",r);else{var c=e.parentNode,u=$(c).getLayout();a=u.get("width")-this.get("margin-left")-this.get("border-left")-this.get("padding-left")-this.get("padding-right")-this.get("border-right")-this.get("margin-right")}e.setStyle({width:a+"px"}),this._prepared=!0}},_end:function(){var e=this.element,t=e.retrieve("prototype_original_styles");e.store("prototype_original_styles",null),e.setStyle(t),this._prepared=!1},_compute:function(e){var t=Element.Layout.COMPUTATIONS;if(!(e in t))throw"Property not found.";return this._set(e,t[e].call(this,this.element))},toObject:function(){var e=$A(arguments),t=0===e.length?Element.Layout.PROPERTIES:e.join(" ").split(" "),i={};return t.each(function(e){if(Element.Layout.PROPERTIES.include(e)){var t=this.get(e);null!=t&&(i[e]=t)}},this),i},toHash:function(){var e=this.toObject.apply(this,arguments);return new Hash(e)},toCSS:function(){var e=$A(arguments),t=0===e.length?Element.Layout.PROPERTIES:e.join(" ").split(" "),i={};return t.each(function(e){if(Element.Layout.PROPERTIES.include(e)&&!Element.Layout.COMPOSITE_PROPERTIES.include(e)){var t=this.get(e);null!=t&&(i[n(e)]=t+"px")}},this),i},inspect:function(){return"#<Element.Layout>"}}),Object.extend(Element.Layout,{PROPERTIES:$w("height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height"),COMPOSITE_PROPERTIES:$w("padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height"),COMPUTATIONS:{height:function(){this._preComputing||this._begin();var e=this.get("border-box-height");if(e<=0)return this._preComputing||this._end(),0;var t=this.get("border-top"),i=this.get("border-bottom"),n=this.get("padding-top"),s=this.get("padding-bottom");return this._preComputing||this._end(),e-t-i-n-s},width:function(){this._preComputing||this._begin();var e=this.get("border-box-width");if(e<=0)return this._preComputing||this._end(),0;var t=this.get("border-left"),i=this.get("border-right"),n=this.get("padding-left"),s=this.get("padding-right");return this._preComputing||this._end(),e-t-i-n-s},"padding-box-height":function(){var e=this.get("height"),t=this.get("padding-top"),i=this.get("padding-bottom");return e+t+i},"padding-box-width":function(){var e=this.get("width"),t=this.get("padding-left"),i=this.get("padding-right");return e+t+i},"border-box-height":function(e){this._preComputing||this._begin();var t=e.offsetHeight;return this._preComputing||this._end(),t},"border-box-width":function(e){this._preComputing||this._begin();var t=e.offsetWidth;return this._preComputing||this._end(),t},"margin-box-height":function(){var e=this.get("border-box-height"),t=this.get("margin-top"),i=this.get("margin-bottom");return e<=0?0:e+t+i},"margin-box-width":function(){var e=this.get("border-box-width"),t=this.get("margin-left"),i=this.get("margin-right");return e<=0?0:e+t+i},top:function(e){var t=e.positionedOffset();return t.top},bottom:function(e){var t=e.positionedOffset(),i=e.getOffsetParent(),n=i.measure("height"),s=this.get("border-box-height");return n-s-t.top},left:function(e){var t=e.positionedOffset();return t.left},right:function(e){var t=e.positionedOffset(),i=e.getOffsetParent(),n=i.measure("width"),s=this.get("border-box-width");return n-s-t.left},"padding-top":function(e){return t(e,"paddingTop")},"padding-bottom":function(e){return t(e,"paddingBottom")},"padding-left":function(e){return t(e,"paddingLeft")},"padding-right":function(e){return t(e,"paddingRight")},"border-top":function(e){return t(e,"borderTopWidth")},"border-bottom":function(e){return t(e,"borderBottomWidth")},"border-left":function(e){return t(e,"borderLeftWidth")},"border-right":function(e){return t(e,"borderRightWidth")},"margin-top":function(e){return t(e,"marginTop")},"margin-bottom":function(e){return t(e,"marginBottom")},"margin-left":function(e){return t(e,"marginLeft")},"margin-right":function(e){return t(e,"marginRight")}}}),"getBoundingClientRect"in document.documentElement&&Object.extend(Element.Layout.COMPUTATIONS,{right:function(e){var t=b(e.getOffsetParent()),i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return(n.right-i.right).round()},bottom:function(e){var t=b(e.getOffsetParent()),i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return(n.bottom-i.bottom).round()}}),Element.Offset=Class.create({initialize:function(e,t){this.left=e.round(),this.top=t.round(),this[0]=this.left,this[1]=this.top},relativeTo:function(e){return new Element.Offset(this.left-e.left,this.top-e.top)},inspect:function(){return"#<Element.Offset left: #{left} top: #{top}>".interpolate(this)},toString:function(){return"[#{left}, #{top}]".interpolate(this)},toArray:function(){return[this.left,this.top]}}),Prototype.Browser.IE?(a=a.wrap(function(e,t){if(t=$(t),g(t)||v(t)||f(t)||m(t))return $(document.body);var i=t.getStyle("position");if("static"!==i)return e(t);t.setStyle({position:"relative"});var n=e(t);return t.setStyle({position:i}),n}),c=c.wrap(function(e,t){if(t=$(t),!t.parentNode)return new Element.Offset(0,0);var i=t.getStyle("position");if("static"!==i)return e(t);var n=t.getOffsetParent();n&&"fixed"===n.getStyle("position")&&b(n),t.setStyle({position:"relative"});var s=e(t);return t.setStyle({position:i}),s})):Prototype.Browser.Webkit&&(l=function(e){e=$(e);var t=0,i=0;do{if(t+=e.offsetTop||0,i+=e.offsetLeft||0,e.offsetParent==document.body&&"absolute"==Element.getStyle(e,"position"))break;e=e.offsetParent}while(e);return new Element.Offset(i,t)}),Element.addMethods({getLayout:s,measure:o,getDimensions:r,getOffsetParent:a,cumulativeOffset:l,positionedOffset:c,cumulativeScrollOffset:u,viewportOffset:h,absolutize:d,relativize:p}),"getBoundingClientRect"in document.documentElement&&Element.addMethods({viewportOffset:function(e){if(e=$(e),v(e))return new Element.Offset(0,0);var t=e.getBoundingClientRect(),i=document.documentElement;return new Element.Offset(t.left-i.clientLeft,t.top-i.clientTop)}})}(),window.$$=function(){var e=$A(arguments).join(", ");return Prototype.Selector.select(e,document)},Prototype.Selector=function(){function e(){throw new Error('Method "Prototype.Selector.select" must be defined.')}function t(){throw new Error('Method "Prototype.Selector.match" must be defined.')}function i(e,t,i){i=i||0;var n,s=Prototype.Selector.match,o=e.length,r=0;for(n=0;n<o;n++)if(s(e[n],t)&&i==r++)return Element.extend(e[n])}function n(e){for(var t=0,i=e.length;t<i;t++)Element.extend(e[t]);return e}var s=Prototype.K;return{select:e,match:t,find:i,extendElements:Element.extend===s?s:n,extendElement:Element.extend}}(),Prototype._original_property=window.Sizzle,/*!
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function e(e,t,i,n,s,o){for(var r="previousSibling"==e&&!o,a=0,l=n.length;a<l;a++){var c=n[a];if(c){r&&1===c.nodeType&&(c.sizcache=i,c.sizset=a),c=c[e];for(var u=!1;c;){if(c.sizcache===i){u=n[c.sizset];break}if(1!==c.nodeType||o||(c.sizcache=i,c.sizset=a),c.nodeName===t){u=c;break}c=c[e]}n[a]=u}}}function t(e,t,i,n,s,o){for(var r="previousSibling"==e&&!o,l=0,c=n.length;l<c;l++){var u=n[l];if(u){r&&1===u.nodeType&&(u.sizcache=i,u.sizset=l),u=u[e];for(var h=!1;u;){if(u.sizcache===i){h=n[u.sizset];break}if(1===u.nodeType)if(o||(u.sizcache=i,u.sizset=l),"string"!=typeof t){if(u===t){h=!0;break}}else if(a.filter(t,[u]).length>0){h=u;break}u=u[e]}n[l]=h}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,n=0,s=Object.prototype.toString,o=!1,r=!0;[0,0].sort(function(){return r=!1,0});var a=function(e,t,n,o){n=n||[];var r=t=t||document;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;for(var u,d,g,v,b=[],y=!0,_=f(t),x=e;null!==(i.exec(""),u=i.exec(x));)if(x=u[3],b.push(u[1]),u[2]){v=u[3];break}if(b.length>1&&c.exec(e))if(2===b.length&&l.relative[b[0]])d=m(b[0]+b[1],t);else for(d=l.relative[b[0]]?[t]:a(b.shift(),t);b.length;)e=b.shift(),l.relative[e]&&(e+=b.shift()),d=m(e,d);else{if(!o&&b.length>1&&9===t.nodeType&&!_&&l.match.ID.test(b[0])&&!l.match.ID.test(b[b.length-1])){var w=a.find(b.shift(),t,_);t=w.expr?a.filter(w.expr,w.set)[0]:w.set[0]}if(t){var w=o?{expr:b.pop(),set:h(o)}:a.find(b.pop(),1!==b.length||"~"!==b[0]&&"+"!==b[0]||!t.parentNode?t:t.parentNode,_);for(d=w.expr?a.filter(w.expr,w.set):w.set,b.length>0?g=h(d):y=!1;b.length;){var E=b.pop(),C=E;l.relative[E]?C=b.pop():E="",null==C&&(C=t),l.relative[E](g,C,_)}}else g=b=[]}if(g||(g=d),!g)throw"Syntax error, unrecognized expression: "+(E||e);if("[object Array]"===s.call(g))if(y)if(t&&1===t.nodeType)for(var S=0;null!=g[S];S++)g[S]&&(g[S]===!0||1===g[S].nodeType&&p(t,g[S]))&&n.push(d[S]);else for(var S=0;null!=g[S];S++)g[S]&&1===g[S].nodeType&&n.push(d[S]);else n.push.apply(n,g);else h(g,n);return v&&(a(v,r,n,o),a.uniqueSort(n)),n};a.uniqueSort=function(e){if(d&&(o=r,e.sort(d),o))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},a.matches=function(e,t){return a(e,null,null,t)},a.find=function(e,t,i){var n,s;if(!e)return[];for(var o=0,r=l.order.length;o<r;o++){var s,a=l.order[o];if(s=l.leftMatch[a].exec(e)){var c=s[1];if(s.splice(1,1),"\\"!==c.substr(c.length-1)&&(s[1]=(s[1]||"").replace(/\\/g,""),n=l.find[a](s,t,i),null!=n)){e=e.replace(l.match[a],"");break}}}return n||(n=t.getElementsByTagName("*")),{set:n,expr:e}},a.filter=function(e,t,i,n){for(var s,o,r=e,a=[],c=t,u=t&&t[0]&&f(t[0]);e&&t.length;){for(var h in l.filter)if(null!=(s=l.match[h].exec(e))){var d,p,m=l.filter[h];if(o=!1,c==a&&(a=[]),l.preFilter[h])if(s=l.preFilter[h](s,c,i,a,n,u)){if(s===!0)continue}else o=d=!0;if(s)for(var g=0;null!=(p=c[g]);g++)if(p){d=m(p,s,g,c);var v=n^!!d;i&&null!=d?v?o=!0:c[g]=!1:v&&(a.push(p),o=!0)}if(void 0!==d){if(i||(c=a),e=e.replace(l.match[h],""),!o)return[];break}}if(e==r){if(null==o)throw"Syntax error, unrecognized expression: "+e;break}r=e}return c};var l=a.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,i){var n="string"==typeof t,s=n&&!/\W/.test(t),o=n&&!s;s&&!i&&(t=t.toUpperCase());for(var r,l=0,c=e.length;l<c;l++)if(r=e[l]){for(;(r=r.previousSibling)&&1!==r.nodeType;);e[l]=o||r&&r.nodeName===t?r||!1:r===t}o&&a.filter(t,e,!0)},">":function(e,t,i){var n="string"==typeof t;if(n&&!/\W/.test(t)){t=i?t:t.toUpperCase();for(var s=0,o=e.length;s<o;s++){var r=e[s];if(r){var l=r.parentNode;e[s]=l.nodeName===t&&l}}}else{for(var s=0,o=e.length;s<o;s++){var r=e[s];r&&(e[s]=n?r.parentNode:r.parentNode===t)}n&&a.filter(t,e,!0)}},"":function(i,s,o){var r=n++,a=t;if(!/\W/.test(s)){var l=s=o?s:s.toUpperCase();a=e}a("parentNode",s,r,i,l,o)},"~":function(i,s,o){var r=n++,a=t;if("string"==typeof s&&!/\W/.test(s)){var l=s=o?s:s.toUpperCase();a=e}a("previousSibling",s,r,i,l,o)}},find:{ID:function(e,t,i){if("undefined"!=typeof t.getElementById&&!i){var n=t.getElementById(e[1]);return n?[n]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var i=[],n=t.getElementsByName(e[1]),s=0,o=n.length;s<o;s++)n[s].getAttribute("name")===e[1]&&i.push(n[s]);return 0===i.length?null:i}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,i,n,s,o){if(e=" "+e[1].replace(/\\/g,"")+" ",o)return e;for(var r,a=0;null!=(r=t[a]);a++)r&&(s^(r.className&&(" "+r.className+" ").indexOf(e)>=0)?i||n.push(r):i&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(e,t){for(var i=0;t[i]===!1;i++);return t[i]&&f(t[i])?e[1]:e[1].toUpperCase()},CHILD:function(e){if("nth"==e[1]){var t=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"==e[2]&&"2n"||"odd"==e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}return e[0]=n++,e},ATTR:function(e,t,i,n,s,o){var r=e[1].replace(/\\/g,"");return!o&&l.attrMap[r]&&(e[1]=l.attrMap[r]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,s,o){if("not"===e[1]){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var r=a.filter(e[3],t,n,!0^o);return n||s.push.apply(s,r),!1}e[3]=a(e[3],null,null,t)}else if(l.match.POS.test(e[0])||l.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!a(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"BUTTON"===e.nodeName.toUpperCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,i,n){return t===n.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,i){return t<i[3]-0},gt:function(e,t,i){return t>i[3]-0},nth:function(e,t,i){return i[3]-0==t},eq:function(e,t,i){return i[3]-0==t}},filter:{PSEUDO:function(e,t,i,n){var s=t[1],o=l.filters[s];if(o)return o(e,i,t,n);if("contains"===s)return(e.textContent||e.innerText||"").indexOf(t[3])>=0;if("not"===s){for(var r=t[3],i=0,a=r.length;i<a;i++)if(r[i]===e)return!1;return!0}},CHILD:function(e,t){var i=t[1],n=e;switch(i){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"==i)return!0;n=e;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0;case"nth":var s=t[2],o=t[3];if(1==s&&0==o)return!0;var r=t[0],a=e.parentNode;if(a&&(a.sizcache!==r||!e.nodeIndex)){var l=0;for(n=a.firstChild;n;n=n.nextSibling)1===n.nodeType&&(n.nodeIndex=++l);a.sizcache=r}var c=e.nodeIndex-o;return 0==s?0==c:c%s==0&&c/s>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var i=t[1],n=l.attrHandle[i]?l.attrHandle[i](e):null!=e[i]?e[i]:e.getAttribute(i),s=n+"",o=t[2],r=t[4];return null==n?"!="===o:"="===o?s===r:"*="===o?s.indexOf(r)>=0:"~="===o?(" "+s+" ").indexOf(r)>=0:r?"!="===o?s!=r:"^="===o?0===s.indexOf(r):"$="===o?s.substr(s.length-r.length)===r:"|="===o&&(s===r||s.substr(0,r.length+1)===r+"-"):s&&n!==!1},POS:function(e,t,i,n){var s=t[2],o=l.setFilters[s];if(o)return o(e,i,t,n)}}},c=l.match.POS;for(var u in l.match)l.match[u]=new RegExp(l.match[u].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[u]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[u].source);var h=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(e){h=function(e,t){var i=t||[];if("[object Array]"===s.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++)i.push(e[n]);else for(var n=0;e[n];n++)i.push(e[n]);return i}}var d;document.documentElement.compareDocumentPosition?d=function(e,t){if(!e.compareDocumentPosition||!t.compareDocumentPosition)return e==t&&(o=!0),0;var i=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0===i&&(o=!0),i}:"sourceIndex"in document.documentElement?d=function(e,t){if(!e.sourceIndex||!t.sourceIndex)return e==t&&(o=!0),0;var i=e.sourceIndex-t.sourceIndex;return 0===i&&(o=!0),i}:document.createRange&&(d=function(e,t){if(!e.ownerDocument||!t.ownerDocument)return e==t&&(o=!0),0;var i=e.ownerDocument.createRange(),n=t.ownerDocument.createRange();i.setStart(e,0),i.setEnd(e,0),n.setStart(t,0),n.setEnd(t,0);var s=i.compareBoundaryPoints(Range.START_TO_END,n);return 0===s&&(o=!0),s}),function(){var e=document.createElement("div"),t="script"+(new Date).getTime();e.innerHTML="<a name='"+t+"'/>";var i=document.documentElement;i.insertBefore(e,i.firstChild),document.getElementById(t)&&(l.find.ID=function(e,t,i){if("undefined"!=typeof t.getElementById&&!i){var n=t.getElementById(e[1]);return n?n.id===e[1]||"undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id").nodeValue===e[1]?[n]:void 0:[]}},l.filter.ID=function(e,t){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&i&&i.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(l.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var n=[],s=0;i[s];s++)1===i[s].nodeType&&n.push(i[s]);i=n}return i}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(l.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&function(){var e=a,t=document.createElement("div");if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){a=function(t,i,n,s){if(i=i||document,!s&&9===i.nodeType&&!f(i))try{return h(i.querySelectorAll(t),n)}catch(e){}return e(t,i,n,s)};for(var i in e)a[i]=e[i];t=null}}(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(l.order.splice(1,0,"CLASS"),l.find.CLASS=function(e,t,i){if("undefined"!=typeof t.getElementsByClassName&&!i)return t.getElementsByClassName(e[1])},e=null))}();var p=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(!e.contains||e.contains(t))},f=function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&"HTML"!==e.ownerDocument.documentElement.nodeName},m=function(e,t){for(var i,n=[],s="",o=t.nodeType?[t]:t;i=l.match.PSEUDO.exec(e);)s+=i[0],e=e.replace(l.match.PSEUDO,"");e=l.relative[e]?e+"*":e;for(var r=0,c=o.length;r<c;r++)a(e,o[r],n);return a.filter(s,n)};window.Sizzle=a}(),function(e){function t(t,i){return n(e(t,i||document))}function i(t,i){return 1==e.matches(i,[t]).length}var n=Prototype.Selector.extendElements;Prototype.Selector.engine=e,Prototype.Selector.select=t,Prototype.Selector.match=i}(Sizzle),window.Sizzle=Prototype._original_property,delete Prototype._original_property;var Form={reset:function(e){return e=$(e),e.reset(),e},serializeElements:function(e,t){"object"!=typeof t?t={hash:!!t}:Object.isUndefined(t.hash)&&(t.hash=!0);var i,n,s,o,r=!1,a=t.submit;return t.hash?(o={},s=function(e,t,i){return t in e?(Object.isArray(e[t])||(e[t]=[e[t]]),e[t].push(i)):e[t]=i,e}):(o="",s=function(e,t,i){return e+(e?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(i)}),e.inject(o,function(e,t){return!t.disabled&&t.name&&(i=t.name,n=$(t).getValue(),null==n||"file"==t.type||"submit"==t.type&&(r||a===!1||a&&i!=a||!(r=!0))||(e=s(e,i,n))),e})}};Form.Methods={serialize:function(e,t){return Form.serializeElements(Form.getElements(e),t)},getElements:function(e){for(var t,i=$(e).getElementsByTagName("*"),n=[],s=Form.Element.Serializers,o=0;t=i[o];o++)n.push(t);return n.inject([],function(e,t){return s[t.tagName.toLowerCase()]&&e.push(Element.extend(t)),e})},getInputs:function(e,t,i){e=$(e);var n=e.getElementsByTagName("input");if(!t&&!i)return $A(n).map(Element.extend);for(var s=0,o=[],r=n.length;s<r;s++){var a=n[s];t&&a.type!=t||i&&a.name!=i||o.push(Element.extend(a))}return o},disable:function(e){return e=$(e),Form.getElements(e).invoke("disable"),e},enable:function(e){return e=$(e),Form.getElements(e).invoke("enable"),e},findFirstElement:function(e){var t=$(e).getElements().findAll(function(e){return"hidden"!=e.type&&!e.disabled}),i=t.findAll(function(e){return e.hasAttribute("tabIndex")&&e.tabIndex>=0}).sortBy(function(e){return e.tabIndex}).first();return i?i:t.find(function(e){return/^(?:input|select|textarea)$/i.test(e.tagName)})},focusFirstElement:function(e){e=$(e);var t=e.findFirstElement();return t&&t.activate(),e},request:function(e,t){e=$(e),t=Object.clone(t||{});var i=t.parameters,n=e.readAttribute("action")||"";return n.blank()&&(n=window.location.href),t.parameters=e.serialize(!0),i&&(Object.isString(i)&&(i=i.toQueryParams()),Object.extend(t.parameters,i)),e.hasAttribute("method")&&!t.method&&(t.method=e.method),new Ajax.Request(n,t)}},Form.Element={focus:function(e){return $(e).focus(),e},select:function(e){return $(e).select(),e}},Form.Element.Methods={serialize:function(e){if(e=$(e),!e.disabled&&e.name){var t=e.getValue();if(void 0!=t){var i={};return i[e.name]=t,Object.toQueryString(i)}}return""},getValue:function(e){e=$(e);var t=e.tagName.toLowerCase();return Form.Element.Serializers[t](e)},setValue:function(e,t){e=$(e);var i=e.tagName.toLowerCase();return Form.Element.Serializers[i](e,t),e},clear:function(e){return $(e).value="",e},present:function(e){return""!=$(e).value},activate:function(e){e=$(e);try{e.focus(),!e.select||"input"==e.tagName.toLowerCase()&&/^(?:button|reset|submit)$/i.test(e.type)||e.select()}catch(e){}return e},disable:function(e){return e=$(e),e.disabled=!0,e},enable:function(e){return e=$(e),e.disabled=!1,e}};var Field=Form.Element,$F=Form.Element.Methods.getValue;Form.Element.Serializers=function(){function e(e,n){switch(e.type.toLowerCase()){case"checkbox":case"radio":return t(e,n);default:return i(e,n)}}function t(e,t){return Object.isUndefined(t)?e.checked?e.value:null:void(e.checked=!!t)}function i(e,t){return Object.isUndefined(t)?e.value:void(e.value=t)}function n(e,t){if(Object.isUndefined(t))return("select-one"===e.type?s:o)(e);for(var i,n,r=!Object.isArray(t),a=0,l=e.length;a<l;a++)if(i=e.options[a],n=this.optionValue(i),r){if(n==t)return void(i.selected=!0)}else i.selected=t.include(n)}function s(e){var t=e.selectedIndex;return t>=0?r(e.options[t]):null}function o(e){var t,i=e.length;if(!i)return null;for(var n=0,t=[];n<i;n++){var s=e.options[n];s.selected&&t.push(r(s))}return t}function r(e){return Element.hasAttribute(e,"value")?e.value:e.text}return{input:e,inputSelector:t,textarea:i,select:n,selectOne:s,selectMany:o,optionValue:r,button:i}}(),Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,e,t,i){$super(i,t),this.element=$(e),this.lastValue=this.getValue()},execute:function(){var e=this.getValue();(Object.isString(this.lastValue)&&Object.isString(e)?this.lastValue!=e:String(this.lastValue)!=String(e))&&(this.callback(this.element,e),this.lastValue=e)}}),Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}}),Abstract.EventObserver=Class.create({initialize:function(e,t){this.element=$(e),this.callback=t,this.lastValue=this.getValue(),"form"==this.element.tagName.toLowerCase()?this.registerFormCallbacks():this.registerCallback(this.element)},onElementEvent:function(){var e=this.getValue();this.lastValue!=e&&(this.callback(this.element,e),this.lastValue=e)},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(e){if(e.type)switch(e.type.toLowerCase()){case"checkbox":case"radio":Event.observe(e,"click",this.onElementEvent.bind(this));break;default:Event.observe(e,"change",this.onElementEvent.bind(this))}}}),Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}}),function(){function e(e,t){return e.which?e.which===t+1:e.button===t}function t(e,t){return e.button===C[t]}function i(e,t){switch(t){case 0:return 1==e.which&&!e.metaKey;case 1:return 2==e.which||1==e.which&&e.metaKey;case 2:return 3==e.which;default:return!1}}function n(e){return E(e,0)}function s(e){return E(e,1)}function o(e){return E(e,2)}function r(e){e=y.extend(e);var t=e.target,i=e.type,n=e.currentTarget;return n&&n.tagName&&("load"===i||"error"===i||"click"===i&&"input"===n.tagName.toLowerCase()&&"radio"===n.type)&&(t=n),t.nodeType==Node.TEXT_NODE&&(t=t.parentNode),Element.extend(t)}function a(e,t){var i=y.element(e);if(!t)return i;for(;i;){if(Object.isElement(i)&&Prototype.Selector.match(i,t))return Element.extend(i);i=i.parentNode}}function l(e){return{x:c(e),y:u(e)}}function c(e){var t=document.documentElement,i=document.body||{scrollLeft:0};return e.pageX||e.clientX+(t.scrollLeft||i.scrollLeft)-(t.clientLeft||0)}function u(e){var t=document.documentElement,i=document.body||{scrollTop:0};return e.pageY||e.clientY+(t.scrollTop||i.scrollTop)-(t.clientTop||0)}function h(e){y.extend(e),e.preventDefault(),e.stopPropagation(),e.stopped=!0}function d(e){var t;switch(e.type){case"mouseover":case"mouseenter":t=e.fromElement;break;case"mouseout":case"mouseleave":t=e.toElement;break;default:return null}return Element.extend(t)}function p(e,t,i){var n=Element.retrieve(e,"prototype_event_registry");Object.isUndefined(n)&&(k.push(e),n=Element.retrieve(e,"prototype_event_registry",$H()));var s=n.get(t);if(Object.isUndefined(s)&&(s=[],n.set(t,s)),s.pluck("handler").include(i))return!1;var o;return t.include(":")?o=function(n){return!Object.isUndefined(n.eventName)&&(n.eventName===t&&(y.extend(n,e),void i.call(e,n)))}:x||"mouseenter"!==t&&"mouseleave"!==t?o=function(t){y.extend(t,e),i.call(e,t)}:"mouseenter"!==t&&"mouseleave"!==t||(o=function(t){y.extend(t,e);for(var n=t.relatedTarget;n&&n!==e;)try{n=n.parentNode}catch(t){n=e}n!==e&&i.call(e,t)}),o.handler=i,s.push(o),o}function f(){for(var e=0,t=k.length;e<t;e++)y.stopObserving(k[e]),k[e]=null}function m(e,t,i){e=$(e);var n=p(e,t,i);if(!n)return e;if(t.include(":"))e.addEventListener?e.addEventListener("dataavailable",n,!1):(e.attachEvent("ondataavailable",n),e.attachEvent("onlosecapture",n));else{var s=O(t);e.addEventListener?e.addEventListener(s,n,!1):e.attachEvent("on"+s,n)}return e}function g(e,t,i){e=$(e);var n=Element.retrieve(e,"prototype_event_registry");if(!n)return e;if(!t)return n.each(function(t){var i=t.key;g(e,i)}),e;var s=n.get(t);if(!s)return e;if(!i)return s.each(function(i){g(e,t,i.handler)}),e;for(var o,r=s.length;r--;)if(s[r].handler===i){o=s[r];break}if(!o)return e;if(t.include(":"))e.removeEventListener?e.removeEventListener("dataavailable",o,!1):(e.detachEvent("ondataavailable",o),e.detachEvent("onlosecapture",o));else{var a=O(t);e.removeEventListener?e.removeEventListener(a,o,!1):e.detachEvent("on"+a,o)}return n.set(t,s.without(o)),e}function v(e,t,i,n){e=$(e),Object.isUndefined(n)&&(n=!0),e==document&&document.createEvent&&!e.dispatchEvent&&(e=document.documentElement);var s;return document.createEvent?(s=document.createEvent("HTMLEvents"),s.initEvent("dataavailable",n,!0)):(s=document.createEventObject(),s.eventType=n?"ondataavailable":"onlosecapture"),s.eventName=t,s.memo=i||{},document.createEvent?e.dispatchEvent(s):e.fireEvent(s.eventType,s),y.extend(s)}function b(e,t,i,n){return e=$(e),Object.isFunction(i)&&Object.isUndefined(n)&&(n=i,i=null),new y.Handler(e,t,i,n).start()}var y={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{}},_=document.documentElement,x="onmouseenter"in _&&"onmouseleave"in _,w=function(){return!1};window.attachEvent&&(w=window.addEventListener?function(e){return!(e instanceof window.Event)}:function(){return!0});var E,C={0:1,1:4,2:2};E=window.attachEvent?window.addEventListener?function(i,n){return w(i)?t(i,n):e(i,n)}:t:Prototype.Browser.WebKit?i:e,y.Methods={isLeftClick:n,isMiddleClick:s,isRightClick:o,element:r,findElement:a,pointer:l,pointerX:c,pointerY:u,stop:h};var S=Object.keys(y.Methods).inject({},function(e,t){return e[t]=y.Methods[t].methodize(),e});if(window.attachEvent){var T={stopPropagation:function(){this.cancelBubble=!0},preventDefault:function(){this.returnValue=!1},inspect:function(){return"[object Event]"}};y.extend=function(e,t){if(!e)return!1;if(!w(e))return e;if(e._extendedByPrototype)return e;e._extendedByPrototype=Prototype.emptyFunction;var i=y.pointer(e);return Object.extend(e,{target:e.srcElement||t,relatedTarget:d(e),pageX:i.x,pageY:i.y}),Object.extend(e,S),Object.extend(e,T),e}}else y.extend=Prototype.K;window.addEventListener&&(y.prototype=window.Event.prototype||document.createEvent("HTMLEvents").__proto__,Object.extend(y.prototype,S));var k=[];Prototype.Browser.IE&&window.attachEvent("onunload",f),Prototype.Browser.WebKit&&window.addEventListener("unload",Prototype.emptyFunction,!1);var O=Prototype.K,N={mouseenter:"mouseover",mouseleave:"mouseout"};x||(O=function(e){return N[e]||e}),y.Handler=Class.create({initialize:function(e,t,i,n){this.element=$(e),this.eventName=t,this.selector=i,this.callback=n,this.handler=this.handleEvent.bind(this)},start:function(){return y.observe(this.element,this.eventName,this.handler),this},stop:function(){return y.stopObserving(this.element,this.eventName,this.handler),this},handleEvent:function(e){var t=y.findElement(e,this.selector);t&&this.callback.call(this.element,e,t)}}),Object.extend(y,y.Methods),Object.extend(y,{fire:v,observe:m,stopObserving:g,on:b}),Element.addMethods({fire:v,observe:m,stopObserving:g,on:b}),Object.extend(document,{fire:v.methodize(),observe:m.methodize(),stopObserving:g.methodize(),on:b.methodize(),loaded:!1}),window.Event?Object.extend(window.Event,y):window.Event=y}(),function(){function e(){document.loaded||(n&&window.clearTimeout(n),document.loaded=!0,document.fire("dom:loaded"))}function t(){"complete"===document.readyState&&(document.stopObserving("readystatechange",t),e())}function i(){try{document.documentElement.doScroll("left")}catch(e){return void(n=i.defer())}e()}var n;document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):(document.observe("readystatechange",t),window==top&&(n=i.defer())),Event.observe(window,"load",e)}(),Element.addMethods(),Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(e,t){return Element.insert(e,{before:t})},Top:function(e,t){return Element.insert(e,{top:t})},Bottom:function(e,t){return Element.insert(e,{bottom:t})},After:function(e,t){return Element.insert(e,{after:t})}},$continue=new Error('"throw $continue" is deprecated, use "return" instead'),Position={includeScrollOffsets:!1,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},within:function(e,t,i){return this.includeScrollOffsets?this.withinIncludingScrolloffsets(e,t,i):(this.xcomp=t,this.ycomp=i,this.offset=Element.cumulativeOffset(e),i>=this.offset[1]&&i<this.offset[1]+e.offsetHeight&&t>=this.offset[0]&&t<this.offset[0]+e.offsetWidth)},withinIncludingScrolloffsets:function(e,t,i){var n=Element.cumulativeScrollOffset(e);return this.xcomp=t+n[0]-this.deltaX,this.ycomp=i+n[1]-this.deltaY,this.offset=Element.cumulativeOffset(e),this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+e.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+e.offsetWidth},overlap:function(e,t){return e?"vertical"==e?(this.offset[1]+t.offsetHeight-this.ycomp)/t.offsetHeight:"horizontal"==e?(this.offset[0]+t.offsetWidth-this.xcomp)/t.offsetWidth:void 0:0},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(e){return Position.prepare(),Element.absolutize(e)},relativize:function(e){return Position.prepare(),Element.relativize(e)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(e,t,i){return i=i||{},Element.clonePosition(t,e,i)}};document.getElementsByClassName||(document.getElementsByClassName=function(e){function t(e){return e.blank()?null:"[contains(concat(' ', @class, ' '), ' "+e+" ')]"}return e.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(e,i){i=i.toString().strip();var n=/\s/.test(i)?$w(i).map(t).join(""):t(i);return n?document._getElementsByXPath(".//*"+n,e):[]}:function(e,t){t=t.toString().strip();var i=[],n=/\s/.test(t)?$w(t):null;if(!n&&!t)return i;var s=$(e).getElementsByTagName("*");t=" "+t+" ";for(var o,r,a=0;o=s[a];a++)o.className&&(r=" "+o.className+" ")&&(r.include(t)||n&&n.all(function(e){return!e.toString().blank()&&r.include(" "+e+" ")}))&&i.push(Element.extend(o));return i},function(e,t){return $(t||document.body).getElementsByClassName(e)}}(Element.Methods)),Element.ClassNames=Class.create(),Element.ClassNames.prototype={initialize:function(e){this.element=$(e)},_each:function(e){this.element.className.split(/\s+/).select(function(e){return e.length>0})._each(e)},set:function(e){this.element.className=e},add:function(e){this.include(e)||this.set($A(this).concat(e).join(" "))},remove:function(e){this.include(e)&&this.set($A(this).without(e).join(" "))},toString:function(){return $A(this).join(" ")}},Object.extend(Element.ClassNames.prototype,Enumerable),function(){window.Selector=Class.create({initialize:function(e){this.expression=e.strip()},findElements:function(e){return Prototype.Selector.select(this.expression,e)},match:function(e){return Prototype.Selector.match(e,this.expression)},toString:function(){return this.expression},inspect:function(){return"#<Selector: "+this.expression+">"}}),Object.extend(Selector,{matchElements:function(e,t){for(var i=Prototype.Selector.match,n=[],s=0,o=e.length;s<o;s++){var r=e[s];i(r,t)&&n.push(Element.extend(r))}return n},findElement:function(e,t,i){i=i||0;for(var n,s=0,o=0,r=e.length;o<r;o++)if(n=e[o],Prototype.Selector.match(n,t)&&i===s++)return Element.extend(n)},findChildElements:function(e,t){var i=t.toArray().join(", ");return Prototype.Selector.select(i,e||document)}})}(),function(){function e(e){var t=document.createElement("div");e="on"+e;var i=e in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),t=null,i}function t(e){return Object.isElement(e)&&"FORM"==e.nodeName.toUpperCase()}function i(e){if(Object.isElement(e)){var t=e.nodeName.toUpperCase();return"INPUT"==t||"SELECT"==t||"TEXTAREA"==t}return!1}function n(e){var t,i,n,s=e.fire("ajax:before");return!s.stopped&&("form"===e.tagName.toLowerCase()?(t=e.readAttribute("method")||"post",i=e.readAttribute("action"),n=e.serialize({submit:e.retrieve("rails:submit-button")}),e.store("rails:submit-button",null)):(t=e.readAttribute("data-method")||"get",i=e.readAttribute("href"),n={}),new Ajax.Request(i,{method:t,parameters:n,evalScripts:!0,onCreate:function(t){e.fire("ajax:create",t)},onComplete:function(t){e.fire("ajax:complete",t)},onSuccess:function(t){e.fire("ajax:success",t)},onFailure:function(t){e.fire("ajax:failure",t)}}),void e.fire("ajax:after"))}function s(e,t,i){e.insert(new Element("input",{type:"hidden",name:t,value:i}))}function o(e){var t=e.readAttribute("data-method"),i=e.readAttribute("href"),n=$$("meta[name=csrf-param]")[0],o=$$("meta[name=csrf-token]")[0],r=new Element("form",{method:"POST",action:i,style:"display: none;"});$(e.parentNode).insert(r),"post"!==t&&s(r,"_method",t),n&&s(r,n.readAttribute("content"),o.readAttribute("content")),r.submit()}function r(e){e.select("input[type=submit][data-disable-with]").each(function(e){e.store("rails:original-value",e.getValue()),e.setValue(e.readAttribute("data-disable-with")).disable()})}function a(e){e.select("input[type=submit][data-disable-with]").each(function(e){e.setValue(e.retrieve("rails:original-value")).enable()})}function l(e){var t=e.readAttribute("data-confirm");return!t||confirm(t)}var c=e("submit"),u=e("change");c&&u||(Event.Handler.prototype.initialize=Event.Handler.prototype.initialize.wrap(function(e,n,s,o,r){e(n,s,o,r),(c||"submit"!=this.eventName||t(this.element))&&(u||"change"!=this.eventName||i(this.element))||(this.eventName="emulated:"+this.eventName)})),c||document.on("focusin","form",function(e,t){t.retrieve("emulated:submit")||(t.on("submit",function(e){var i=t.fire("emulated:submit",e,!0);i.returnValue===!1&&e.preventDefault()}),t.store("emulated:submit",!0))}),u||document.on("focusin","input, select, textarea",function(e,t){t.retrieve("emulated:change")||(t.on("change",function(e){t.fire("emulated:change",e,!0)}),t.store("emulated:change",!0))}),document.on("click","a[data-confirm], a[data-remote], a[data-method]",function(e,t){return l(t)?void(t.readAttribute("data-remote")?(n(t),e.stop()):t.readAttribute("data-method")&&(o(t),e.stop())):(e.stop(),!1)}),document.on("click","form input[type=submit], form button[type=submit], form button:not([type])",function(e,t){e.findElement("form").store("rails:submit-button",t.name||!1)}),document.on("submit",function(e){var t=e.findElement();return l(t)?void(t.readAttribute("data-remote")?(n(t),e.stop()):r(t)):(e.stop(),!1)}),document.on("ajax:create","form",function(e,t){t==e.findElement()&&r(t)}),document.on("ajax:complete","form",function(e,t){t==e.findElement()&&a(t)}),Ajax.Responders.register({onCreate:function(e){var t=$$("meta[name=csrf-token]")[0];if(t){var i="X-CSRF-Token",n=t.readAttribute("content");e.options.requestHeaders||(e.options.requestHeaders={}),e.options.requestHeaders[i]=n}}})}(),
// Copyright (c) 2005-2009 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
String.prototype.parseColor=function(){var e="#";if("rgb("==this.slice(0,4)){var t=this.slice(4,this.length-1).split(","),i=0;do e+=parseInt(t[i]).toColorPart();while(++i<3)}else if("#"==this.slice(0,1)){if(4==this.length)for(var i=1;i<4;i++)e+=(this.charAt(i)+this.charAt(i)).toLowerCase();7==this.length&&(e=this.toLowerCase())}return 7==e.length?e:arguments[0]||this},Element.collectTextNodes=function(e){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()?Element.collectTextNodes(e):""}).flatten().join("")},Element.collectTextNodesIgnoreClass=function(e,t){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()&&!Element.hasClassName(e,t)?Element.collectTextNodesIgnoreClass(e,t):""}).flatten().join("")},Element.setContentZoom=function(e,t){return e=$(e),e.setStyle({fontSize:t/100+"em"}),Prototype.Browser.WebKit&&window.scrollBy(0,0),e},Element.getInlineOpacity=function(e){return $(e).style.opacity||""},Element.forceRerendering=function(e){try{e=$(e);var t=document.createTextNode(" ");e.appendChild(t),e.removeChild(t)}catch(e){}};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:Prototype.K,sinoidal:function(e){return-Math.cos(e*Math.PI)/2+.5},reverse:function(e){return 1-e},flicker:function(e){var e=-Math.cos(e*Math.PI)/4+.75+Math.random()/4;return e>1?1:e},wobble:function(e){return-Math.cos(e*Math.PI*(9*e))/2+.5},pulse:function(e,t){return-Math.cos(e*((t||5)-.5)*2*Math.PI)/2+.5},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)},none:function(){return 0},full:function(){return 1}},DefaultOptions:{duration:1,fps:100,sync:!1,from:0,to:1,delay:0,queue:"parallel"},tagifyText:function(e){var t="position:relative";Prototype.Browser.IE&&(t+=";zoom:1"),e=$(e),$A(e.childNodes).each(function(i){3==i.nodeType&&(i.nodeValue.toArray().each(function(n){e.insertBefore(new Element("span",{style:t}).update(" "==n?String.fromCharCode(160):n),i)}),Element.remove(i))})},multiple:function(e,t){var i;i=("object"==typeof e||Object.isFunction(e))&&e.length?e:$(e).childNodes;var n=Object.extend({speed:.1,delay:0},arguments[2]||{}),s=n.delay;$A(i).each(function(e,i){new t(e,Object.extend(n,{delay:i*n.speed+s}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(e,t,i){return e=$(e),t=(t||"appear").toLowerCase(),Effect[Effect.PAIRS[t][e.visible()?1:0]](e,Object.extend({queue:{position:"end",scope:e.id||"global",limit:1}},i||{}))}};
// Copyright (c) 2005-2009 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
if(Effect.DefaultOptions.transition=Effect.Transitions.sinoidal,Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[],this.interval=null},_each:function(e){this.effects._each(e)},add:function(e){var t=(new Date).getTime(),i=Object.isString(e.options.queue)?e.options.queue:e.options.queue.position;switch(i){case"front":this.effects.findAll(function(e){return"idle"==e.state}).each(function(t){t.startOn+=e.finishOn,t.finishOn+=e.finishOn});break;case"with-last":t=this.effects.pluck("startOn").max()||t;break;case"end":t=this.effects.pluck("finishOn").max()||t}e.startOn+=t,e.finishOn+=t,(!e.options.queue.limit||this.effects.length<e.options.queue.limit)&&this.effects.push(e),this.interval||(this.interval=setInterval(this.loop.bind(this),15))},remove:function(e){this.effects=this.effects.reject(function(t){return t==e}),0==this.effects.length&&(clearInterval(this.interval),this.interval=null)},loop:function(){for(var e=(new Date).getTime(),t=0,i=this.effects.length;t<i;t++)this.effects[t]&&this.effects[t].loop(e)}}),Effect.Queues={instances:$H(),get:function(e){return Object.isString(e)?this.instances.get(e)||this.instances.set(e,new Effect.ScopedQueue):e}},Effect.Queue=Effect.Queues.get("global"),Effect.Base=Class.create({position:null,start:function(e){e&&e.transition===!1&&(e.transition=Effect.Transitions.linear),this.options=Object.extend(Object.extend({},Effect.DefaultOptions),e||{}),this.currentFrame=0,this.state="idle",this.startOn=1e3*this.options.delay,this.finishOn=this.startOn+1e3*this.options.duration,this.fromToDelta=this.options.to-this.options.from,this.totalTime=this.finishOn-this.startOn,this.totalFrames=this.options.fps*this.options.duration,this.render=function(){function e(e,t){e.options[t+"Internal"]&&e.options[t+"Internal"](e),e.options[t]&&e.options[t](e)}return function(t){"idle"===this.state&&(this.state="running",e(this,"beforeSetup"),this.setup&&this.setup(),e(this,"afterSetup")),"running"===this.state&&(t=this.options.transition(t)*this.fromToDelta+this.options.from,this.position=t,e(this,"beforeUpdate"),this.update&&this.update(t),e(this,"afterUpdate"))}}(),this.event("beforeStart"),this.options.sync||Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).add(this)},loop:function(e){if(e>=this.startOn){if(e>=this.finishOn)return this.render(1),this.cancel(),this.event("beforeFinish"),this.finish&&this.finish(),void this.event("afterFinish");var t=(e-this.startOn)/this.totalTime,i=(t*this.totalFrames).round();i>this.currentFrame&&(this.render(t),this.currentFrame=i)}},cancel:function(){this.options.sync||Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).remove(this),this.state="finished"},event:function(e){this.options[e+"Internal"]&&this.options[e+"Internal"](this),this.options[e]&&this.options[e](this)},inspect:function(){var e=$H();for(property in this)Object.isFunction(this[property])||e.set(property,this[property]);return"#<Effect:"+e.inspect()+",options:"+$H(this.options).inspect()+">"}}),Effect.Parallel=Class.create(Effect.Base,{initialize:function(e){this.effects=e||[],this.start(arguments[1])},update:function(e){this.effects.invoke("render",e)},finish:function(e){this.effects.each(function(t){t.render(1),t.cancel(),t.event("beforeFinish"),t.finish&&t.finish(e),t.event("afterFinish")})}}),Effect.Tween=Class.create(Effect.Base,{initialize:function(e,t,i){e=Object.isString(e)?$(e):e;var n=$A(arguments),s=n.last(),o=5==n.length?n[3]:null;this.method=Object.isFunction(s)?s.bind(e):Object.isFunction(e[s])?e[s].bind(e):function(t){e[s]=t},this.start(Object.extend({from:t,to:i},o||{}))},update:function(e){this.method(e)}}),Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}))},update:Prototype.emptyFunction}),Effect.Opacity=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});var t=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(t)},update:function(e){this.element.setOpacity(e)}}),Effect.Move=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(t)},setup:function(){this.element.makePositioned(),this.originalLeft=parseFloat(this.element.getStyle("left")||"0"),this.originalTop=parseFloat(this.element.getStyle("top")||"0"),"absolute"==this.options.mode&&(this.options.x=this.options.x-this.originalLeft,this.options.y=this.options.y-this.originalTop)},update:function(e){this.element.setStyle({left:(this.options.x*e+this.originalLeft).round()+"px",top:(this.options.y*e+this.originalTop).round()+"px"})}}),Effect.MoveBy=function(e,t,i){return new Effect.Move(e,Object.extend({x:i,y:t},arguments[3]||{}))},Effect.Scale=Class.create(Effect.Base,{initialize:function(e,t){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var i=Object.extend({scaleX:!0,scaleY:!0,scaleContent:!0,scaleFromCenter:!1,scaleMode:"box",scaleFrom:100,scaleTo:t},arguments[2]||{});this.start(i)},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||!1,this.elementPositioning=this.element.getStyle("position"),this.originalStyle={},["top","left","width","height","fontSize"].each(function(e){this.originalStyle[e]=this.element.style[e]}.bind(this)),this.originalTop=this.element.offsetTop,this.originalLeft=this.element.offsetLeft;var e=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(t){e.indexOf(t)>0&&(this.fontSize=parseFloat(e),this.fontSizeType=t)}.bind(this)),this.factor=(this.options.scaleTo-this.options.scaleFrom)/100,this.dims=null,"box"==this.options.scaleMode&&(this.dims=[this.element.offsetHeight,this.element.offsetWidth]),/^content/.test(this.options.scaleMode)&&(this.dims=[this.element.scrollHeight,this.element.scrollWidth]),this.dims||(this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth])},update:function(e){var t=this.options.scaleFrom/100+this.factor*e;this.options.scaleContent&&this.fontSize&&this.element.setStyle({fontSize:this.fontSize*t+this.fontSizeType}),this.setDimensions(this.dims[0]*t,this.dims[1]*t)},finish:function(){this.restoreAfterFinish&&this.element.setStyle(this.originalStyle)},setDimensions:function(e,t){var i={};if(this.options.scaleX&&(i.width=t.round()+"px"),this.options.scaleY&&(i.height=e.round()+"px"),this.options.scaleFromCenter){var n=(e-this.dims[0])/2,s=(t-this.dims[1])/2;"absolute"==this.elementPositioning?(this.options.scaleY&&(i.top=this.originalTop-n+"px"),this.options.scaleX&&(i.left=this.originalLeft-s+"px")):(this.options.scaleY&&(i.top=-n+"px"),this.options.scaleX&&(i.left=-s+"px"))}this.element.setStyle(i)}}),Effect.Highlight=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(t)},setup:function(){return"none"==this.element.getStyle("display")?void this.cancel():(this.oldStyle={},this.options.keepBackgroundImage||(this.oldStyle.backgroundImage=this.element.getStyle("background-image"),this.element.setStyle({backgroundImage:"none"})),this.options.endcolor||(this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff")),this.options.restorecolor||(this.options.restorecolor=this.element.getStyle("background-color")),this._base=$R(0,2).map(function(e){return parseInt(this.options.startcolor.slice(2*e+1,2*e+3),16)}.bind(this)),void(this._delta=$R(0,2).map(function(e){return parseInt(this.options.endcolor.slice(2*e+1,2*e+3),16)-this._base[e]}.bind(this))))},update:function(e){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(t,i,n){return t+(this._base[n]+this._delta[n]*e).round().toColorPart()}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}}),Effect.ScrollTo=function(e){var t=arguments[1]||{},i=document.viewport.getScrollOffsets(),n=$(e).cumulativeOffset();return t.offset&&(n[1]+=t.offset),new Effect.Tween(null,i.top,n[1],t,function(e){scrollTo(i.left,e.round())})},Effect.Fade=function(e){e=$(e);var t=e.getInlineOpacity(),i=Object.extend({from:e.getOpacity()||1,to:0,afterFinishInternal:function(e){0==e.options.to&&e.element.hide().setStyle({opacity:t})}},arguments[1]||{});return new Effect.Opacity(e,i)},Effect.Appear=function(e){e=$(e);var t=Object.extend({from:"none"==e.getStyle("display")?0:e.getOpacity()||0,to:1,afterFinishInternal:function(e){e.element.forceRerendering()},beforeSetup:function(e){e.element.setOpacity(e.options.from).show()}},arguments[1]||{});return new Effect.Opacity(e,t)},Effect.Puff=function(e){e=$(e);var t={opacity:e.getInlineOpacity(),position:e.getStyle("position"),top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return new Effect.Parallel([new Effect.Scale(e,200,{sync:!0,scaleFromCenter:!0,scaleContent:!0,restoreAfterFinish:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:1,beforeSetupInternal:function(e){Position.absolutize(e.effects[0].element)},afterFinishInternal:function(e){e.effects[0].element.hide().setStyle(t)}},arguments[1]||{}))},Effect.BlindUp=function(e){return e=$(e),e.makeClipping(),new Effect.Scale(e,0,Object.extend({scaleContent:!1,scaleX:!1,restoreAfterFinish:!0,afterFinishInternal:function(e){e.element.hide().undoClipping()}},arguments[1]||{}))},Effect.BlindDown=function(e){e=$(e);var t=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:0,scaleMode:{originalHeight:t.height,originalWidth:t.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.element.undoClipping()}},arguments[1]||{}))},Effect.SwitchOff=function(e){e=$(e);var t=e.getInlineOpacity();return new Effect.Appear(e,Object.extend({duration:.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(e){new Effect.Scale(e.element,1,{duration:.3,scaleFromCenter:!0,scaleX:!1,scaleContent:!1,restoreAfterFinish:!0,beforeSetup:function(e){e.element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned().setStyle({opacity:t})}})}},arguments[1]||{}))},Effect.DropOut=function(e){e=$(e);var t={top:e.getStyle("top"),left:e.getStyle("left"),opacity:e.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(e,{x:0,y:100,sync:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:.5,beforeSetup:function(e){e.effects[0].element.makePositioned()},afterFinishInternal:function(e){e.effects[0].element.hide().undoPositioned().setStyle(t)}},arguments[1]||{}))},Effect.Shake=function(e){e=$(e);var t=Object.extend({distance:20,duration:.5},arguments[1]||{}),i=parseFloat(t.distance),n=parseFloat(t.duration)/10,s={top:e.getStyle("top"),left:e.getStyle("left")};return new Effect.Move(e,{x:i,y:0,duration:n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*-i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*-i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*i,y:0,duration:2*n,afterFinishInternal:function(e){new Effect.Move(e.element,{x:-i,y:0,duration:n,afterFinishInternal:function(e){e.element.undoPositioned().setStyle(s)}})}})}})}})}})}})},Effect.SlideDown=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom"),i=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:i.height,originalWidth:i.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.undoClipping().undoPositioned(),e.element.down().undoPositioned().setStyle({bottom:t})}},arguments[1]||{}))},Effect.SlideUp=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom"),i=e.getDimensions();return new Effect.Scale(e,window.opera?0:1,Object.extend({scaleContent:!1,scaleX:!1,scaleMode:"box",scaleFrom:100,scaleMode:{originalHeight:i.height,originalWidth:i.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned(),e.element.down().undoPositioned().setStyle({bottom:t})}},arguments[1]||{}))},Effect.Squish=function(e){return new Effect.Scale(e,window.opera?1:0,{restoreAfterFinish:!0,beforeSetup:function(e){e.element.makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping()}})},Effect.Grow=function(e){e=$(e);var t,i,n,s,o=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{}),r={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},a=e.getDimensions();switch(o.direction){case"top-left":t=i=n=s=0;break;case"top-right":t=a.width,i=s=0,n=-a.width;break;case"bottom-left":t=n=0,i=a.height,s=-a.height;break;case"bottom-right":t=a.width,i=a.height,n=-a.width,s=-a.height;break;case"center":t=a.width/2,i=a.height/2,n=-a.width/2,s=-a.height/2}return new Effect.Move(e,{x:t,y:i,duration:.01,beforeSetup:function(e){e.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(e){new Effect.Parallel([new Effect.Opacity(e.element,{sync:!0,to:1,from:0,transition:o.opacityTransition}),new Effect.Move(e.element,{x:n,y:s,sync:!0,transition:o.moveTransition}),new Effect.Scale(e.element,100,{scaleMode:{originalHeight:a.height,originalWidth:a.width},sync:!0,scaleFrom:window.opera?1:0,transition:o.scaleTransition,restoreAfterFinish:!0})],Object.extend({beforeSetup:function(e){e.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.effects[0].element.undoClipping().undoPositioned().setStyle(r)}},o))}})},Effect.Shrink=function(e){e=$(e);var t,i,n=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{}),s={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},o=e.getDimensions();switch(n.direction){case"top-left":t=i=0;break;case"top-right":t=o.width,i=0;break;case"bottom-left":t=0,i=o.height;break;case"bottom-right":t=o.width,i=o.height;break;case"center":t=o.width/2,i=o.height/2}return new Effect.Parallel([new Effect.Opacity(e,{sync:!0,to:0,from:1,transition:n.opacityTransition}),new Effect.Scale(e,window.opera?1:0,{sync:!0,transition:n.scaleTransition,restoreAfterFinish:!0}),new Effect.Move(e,{x:t,y:i,sync:!0,transition:n.moveTransition})],Object.extend({beforeStartInternal:function(e){e.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.effects[0].element.hide().undoClipping().undoPositioned().setStyle(s)}},n))},Effect.Pulsate=function(e){e=$(e);var t=arguments[1]||{},i=e.getInlineOpacity(),n=t.transition||Effect.Transitions.linear,s=function(e){return 1-n(-Math.cos(e*(t.pulses||5)*2*Math.PI)/2+.5)};return new Effect.Opacity(e,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(e){e.element.setStyle({opacity:i})}},t),{transition:s}))},Effect.Fold=function(e){e=$(e);var t={top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return e.makeClipping(),new Effect.Scale(e,5,Object.extend({scaleContent:!1,scaleX:!1,afterFinishInternal:function(){new Effect.Scale(e,1,{scaleContent:!1,scaleY:!1,afterFinishInternal:function(e){e.element.hide().undoClipping().setStyle(t)}})}},arguments[1]||{}))},Effect.Morph=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({style:{}},arguments[1]||{});if(Object.isString(t.style))if(t.style.include(":"))this.style=t.style.parseStyle();else{this.element.addClassName(t.style),this.style=$H(this.element.getStyles()),this.element.removeClassName(t.style);var i=this.element.getStyles();this.style=this.style.reject(function(e){return e.value==i[e.key]}),t.afterFinishInternal=function(e){e.element.addClassName(e.options.style),e.transforms.each(function(t){e.element.style[t.style]=""})}}else this.style=$H(t.style);this.start(t)},setup:function(){function e(e){return e&&!["rgba(0, 0, 0, 0)","transparent"].include(e)||(e="#ffffff"),e=e.parseColor(),$R(0,2).map(function(t){return parseInt(e.slice(2*t+1,2*t+3),16)})}this.transforms=this.style.map(function(t){var i=t[0],n=t[1],s=null;if("#zzzzzz"!=n.parseColor("#zzzzzz"))n=n.parseColor(),s="color";else if("opacity"==i)n=parseFloat(n),Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});else if(Element.CSS_LENGTH.test(n)){var o=n.match(/^([\+\-]?[0-9\.]+)(.*)$/);n=parseFloat(o[1]),s=3==o.length?o[2]:null}var r=this.element.getStyle(i);return{style:i.camelize(),originalValue:"color"==s?e(r):parseFloat(r||0),targetValue:"color"==s?e(n):n,unit:s}}.bind(this)).reject(function(e){return e.originalValue==e.targetValue||"color"!=e.unit&&(isNaN(e.originalValue)||isNaN(e.targetValue))})},update:function(e){for(var t,i={},n=this.transforms.length;n--;)i[(t=this.transforms[n]).style]="color"==t.unit?"#"+Math.round(t.originalValue[0]+(t.targetValue[0]-t.originalValue[0])*e).toColorPart()+Math.round(t.originalValue[1]+(t.targetValue[1]-t.originalValue[1])*e).toColorPart()+Math.round(t.originalValue[2]+(t.targetValue[2]-t.originalValue[2])*e).toColorPart():(t.originalValue+(t.targetValue-t.originalValue)*e).toFixed(3)+(null===t.unit?"":t.unit);this.element.setStyle(i,!0)}}),Effect.Transform=Class.create({initialize:function(e){this.tracks=[],this.options=arguments[1]||{},this.addTracks(e)},addTracks:function(e){return e.each(function(e){e=$H(e);var t=e.values().first();this.tracks.push($H({ids:e.keys().first(),effect:Effect.Morph,options:{style:t}}))}.bind(this)),this},play:function(){return new Effect.Parallel(this.tracks.map(function(e){var t=e.get("ids"),i=e.get("effect"),n=e.get("options"),s=[$(t)||$$(t)].flatten();return s.map(function(e){return new i(e,Object.extend({sync:!0},n))})}).flatten(),this.options)}}),Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex"),Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/,String.__parseStyleElement=document.createElement("div"),String.prototype.parseStyle=function(){var e,t=$H();return Prototype.Browser.WebKit?e=new Element("div",{style:this}).style:(String.__parseStyleElement.innerHTML='<div style="'+this+'"></div>',e=String.__parseStyleElement.childNodes[0].style),Element.CSS_PROPERTIES.each(function(i){e[i]&&t.set(i,e[i])}),Prototype.Browser.IE&&this.include("opacity")&&t.set("opacity",this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]),t},document.defaultView&&document.defaultView.getComputedStyle?Element.getStyles=function(e){var t=document.defaultView.getComputedStyle($(e),null);return Element.CSS_PROPERTIES.inject({},function(e,i){return e[i]=t[i],e})}:Element.getStyles=function(e){e=$(e);var t,i=e.currentStyle;return t=Element.CSS_PROPERTIES.inject({},function(e,t){return e[t]=i[t],e}),t.opacity||(t.opacity=e.getOpacity()),t},Effect.Methods={morph:function(e,t){return e=$(e),new Effect.Morph(e,Object.extend({style:t},arguments[2]||{})),e},visualEffect:function(e,t,i){e=$(e);var n=t.dasherize().camelize(),s=n.charAt(0).toUpperCase()+n.substring(1);return new Effect[s](e,i),e},highlight:function(e,t){return e=$(e),new Effect.Highlight(e,t),e}},$w("fade appear grow shrink fold blindUp blindDown slideUp slideDown pulsate shake puff squish switchOff dropOut").each(function(e){Effect.Methods[e]=function(t,i){return t=$(t),Effect[e.charAt(0).toUpperCase()+e.substring(1)](t,i),t}}),$w("getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles").each(function(e){Effect.Methods[e]=Element[e]}),Element.addMethods(Effect.Methods),Object.isUndefined(Effect))throw"dragdrop.js requires including script.aculo.us' effects.js library";var Droppables={drops:[],remove:function(e){this.drops=this.drops.reject(function(t){return t.element==$(e)})},add:function(e){e=$(e);var t=Object.extend({greedy:!0,hoverclass:null,tree:!1},arguments[1]||{});if(t.containment){t._containers=[];var i=t.containment;Object.isArray(i)?i.each(function(e){t._containers.push($(e))}):t._containers.push($(i))}t.accept&&(t.accept=[t.accept].flatten()),Element.makePositioned(e),t.element=e,this.drops.push(t)},findDeepestChild:function(e){for(deepest=e[0],i=1;i<e.length;++i)Element.isParent(e[i].element,deepest.element)&&(deepest=e[i]);return deepest},isContained:function(e,t){var i;return i=t.tree?e.treeNode:e.parentNode,t._containers.detect(function(e){return i==e})},isAffected:function(e,t,i){return i.element!=t&&(!i._containers||this.isContained(t,i))&&(!i.accept||Element.classNames(t).detect(function(e){return i.accept.include(e)}))&&Position.within(i.element,e[0],e[1])},deactivate:function(e){e.hoverclass&&Element.removeClassName(e.element,e.hoverclass),this.last_active=null},activate:function(e){e.hoverclass&&Element.addClassName(e.element,e.hoverclass),this.last_active=e},show:function(e,t){if(this.drops.length){var i,n=[];this.drops.each(function(i){Droppables.isAffected(e,t,i)&&n.push(i)}),n.length>0&&(i=Droppables.findDeepestChild(n)),this.last_active&&this.last_active!=i&&this.deactivate(this.last_active),i&&(Position.within(i.element,e[0],e[1]),i.onHover&&i.onHover(t,i.element,Position.overlap(i.overlap,i.element)),i!=this.last_active&&Droppables.activate(i))}},fire:function(e,t){if(this.last_active)return Position.prepare(),this.isAffected([Event.pointerX(e),Event.pointerY(e)],t,this.last_active)&&this.last_active.onDrop?(this.last_active.onDrop(t,this.last_active.element,e),!0):void 0},reset:function(){this.last_active&&this.deactivate(this.last_active)}},Draggables={drags:[],observers:[],register:function(e){0==this.drags.length&&(this.eventMouseUp=this.endDrag.bindAsEventListener(this),this.eventMouseMove=this.updateDrag.bindAsEventListener(this),this.eventKeypress=this.keyPress.bindAsEventListener(this),Event.observe(document,"mouseup",this.eventMouseUp),Event.observe(document,"mousemove",this.eventMouseMove),Event.observe(document,"keypress",this.eventKeypress)),this.drags.push(e)},unregister:function(e){this.drags=this.drags.reject(function(t){return t==e}),0==this.drags.length&&(Event.stopObserving(document,"mouseup",this.eventMouseUp),Event.stopObserving(document,"mousemove",this.eventMouseMove),Event.stopObserving(document,"keypress",this.eventKeypress))},activate:function(e){e.options.delay?this._timeout=setTimeout(function(){Draggables._timeout=null,window.focus(),Draggables.activeDraggable=e}.bind(this),e.options.delay):(window.focus(),this.activeDraggable=e)},deactivate:function(){this.activeDraggable=null},updateDrag:function(e){if(this.activeDraggable){var t=[Event.pointerX(e),Event.pointerY(e)];this._lastPointer&&this._lastPointer.inspect()==t.inspect()||(this._lastPointer=t,this.activeDraggable.updateDrag(e,t))}},endDrag:function(e){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.activeDraggable&&(this._lastPointer=null,this.activeDraggable.endDrag(e),this.activeDraggable=null)},keyPress:function(e){this.activeDraggable&&this.activeDraggable.keyPress(e)},addObserver:function(e){this.observers.push(e),this._cacheObserverCallbacks()},removeObserver:function(e){this.observers=this.observers.reject(function(t){return t.element==e}),this._cacheObserverCallbacks()},notify:function(e,t,i){this[e+"Count"]>0&&this.observers.each(function(n){n[e]&&n[e](e,t,i)}),t.options[e]&&t.options[e](t,i)},_cacheObserverCallbacks:function(){["onStart","onEnd","onDrag"].each(function(e){Draggables[e+"Count"]=Draggables.observers.select(function(t){return t[e]}).length})}},Draggable=Class.create({initialize:function(e){var t={handle:!1,reverteffect:function(e,t,i){var n=.02*Math.sqrt(Math.abs(2^t)+Math.abs(2^i));new Effect.Move(e,{x:-i,y:-t,duration:n,queue:{scope:"_draggable",position:"end"}})},endeffect:function(e){var t=Object.isNumber(e._opacity)?e._opacity:1;new Effect.Opacity(e,{duration:.2,from:.7,to:t,queue:{scope:"_draggable",position:"end"},afterFinish:function(){Draggable._dragging[e]=!1}})},zindex:1e3,revert:!1,quiet:!1,scroll:!1,scrollSensitivity:20,scrollSpeed:15,snap:!1,delay:0};arguments[1]&&!Object.isUndefined(arguments[1].endeffect)||Object.extend(t,{starteffect:function(e){e._opacity=Element.getOpacity(e),Draggable._dragging[e]=!0,new Effect.Opacity(e,{duration:.2,from:e._opacity,to:.7})}});var i=Object.extend(t,arguments[1]||{});this.element=$(e),i.handle&&Object.isString(i.handle)&&(this.handle=this.element.down("."+i.handle,0)),this.handle||(this.handle=$(i.handle)),this.handle||(this.handle=this.element),!i.scroll||i.scroll.scrollTo||i.scroll.outerHTML||(i.scroll=$(i.scroll),this._isScrollChild=Element.childOf(this.element,i.scroll)),Element.makePositioned(this.element),this.options=i,this.dragging=!1,this.eventMouseDown=this.initDrag.bindAsEventListener(this),Event.observe(this.handle,"mousedown",this.eventMouseDown),Draggables.register(this)},destroy:function(){Event.stopObserving(this.handle,"mousedown",this.eventMouseDown),Draggables.unregister(this)},currentDelta:function(){return[parseInt(Element.getStyle(this.element,"left")||"0"),parseInt(Element.getStyle(this.element,"top")||"0")]},initDrag:function(e){if((Object.isUndefined(Draggable._dragging[this.element])||!Draggable._dragging[this.element])&&Event.isLeftClick(e)){var t=Event.element(e);if((tag_name=t.tagName.toUpperCase())&&("INPUT"==tag_name||"SELECT"==tag_name||"OPTION"==tag_name||"BUTTON"==tag_name||"TEXTAREA"==tag_name))return;var i=[Event.pointerX(e),Event.pointerY(e)],n=this.element.cumulativeOffset();this.offset=[0,1].map(function(e){return i[e]-n[e]}),Draggables.activate(this),Event.stop(e)}},startDrag:function(e){if(this.dragging=!0,this.delta||(this.delta=this.currentDelta()),this.options.zindex&&(this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0),this.element.style.zIndex=this.options.zindex),this.options.ghosting&&(this._clone=this.element.cloneNode(!0),this._originallyAbsolute="absolute"==this.element.getStyle("position"),this._originallyAbsolute||Position.absolutize(this.element),this.element.parentNode.insertBefore(this._clone,this.element)),this.options.scroll)if(this.options.scroll==window){var t=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=t.left,this.originalScrollTop=t.top}else this.originalScrollLeft=this.options.scroll.scrollLeft,this.originalScrollTop=this.options.scroll.scrollTop;Draggables.notify("onStart",this,e),this.options.starteffect&&this.options.starteffect(this.element)},updateDrag:function(event,pointer){if(this.dragging||this.startDrag(event),this.options.quiet||(Position.prepare(),Droppables.show(pointer,this.element)),Draggables.notify("onDrag",this,event),this.draw(pointer),this.options.change&&this.options.change(this),this.options.scroll){this.stopScrolling();var p;if(this.options.scroll==window)with(this._getWindowScroll(this.options.scroll))p=[left,top,left+width,top+height];else p=Position.page(this.options.scroll),p[0]+=this.options.scroll.scrollLeft+Position.deltaX,p[1]+=this.options.scroll.scrollTop+Position.deltaY,p.push(p[0]+this.options.scroll.offsetWidth),p.push(p[1]+this.options.scroll.offsetHeight);var speed=[0,0];pointer[0]<p[0]+this.options.scrollSensitivity&&(speed[0]=pointer[0]-(p[0]+this.options.scrollSensitivity)),pointer[1]<p[1]+this.options.scrollSensitivity&&(speed[1]=pointer[1]-(p[1]+this.options.scrollSensitivity)),pointer[0]>p[2]-this.options.scrollSensitivity&&(speed[0]=pointer[0]-(p[2]-this.options.scrollSensitivity)),pointer[1]>p[3]-this.options.scrollSensitivity&&(speed[1]=pointer[1]-(p[3]-this.options.scrollSensitivity)),this.startScrolling(speed)}Prototype.Browser.WebKit&&window.scrollBy(0,0),Event.stop(event)},finishDrag:function(e,t){if(this.dragging=!1,this.options.quiet){Position.prepare();var i=[Event.pointerX(e),Event.pointerY(e)];Droppables.show(i,this.element)}this.options.ghosting&&(this._originallyAbsolute||Position.relativize(this.element),delete this._originallyAbsolute,Element.remove(this._clone),this._clone=null);var n=!1;t&&(n=Droppables.fire(e,this.element),n||(n=!1)),n&&this.options.onDropped&&this.options.onDropped(this.element),Draggables.notify("onEnd",this,e);var s=this.options.revert;s&&Object.isFunction(s)&&(s=s(this.element));var o=this.currentDelta();s&&this.options.reverteffect?0!=n&&"failure"==s||this.options.reverteffect(this.element,o[1]-this.delta[1],o[0]-this.delta[0]):this.delta=o,this.options.zindex&&(this.element.style.zIndex=this.originalZ),this.options.endeffect&&this.options.endeffect(this.element),Draggables.deactivate(this),Droppables.reset()},keyPress:function(e){e.keyCode==Event.KEY_ESC&&(this.finishDrag(e,!1),Event.stop(e))},endDrag:function(e){this.dragging&&(this.stopScrolling(),this.finishDrag(e,!0),Event.stop(e))},draw:function(e){var t=this.element.cumulativeOffset();if(this.options.ghosting){var i=Position.realOffset(this.element);t[0]+=i[0]-Position.deltaX,t[1]+=i[1]-Position.deltaY}var n=this.currentDelta();t[0]-=n[0],t[1]-=n[1],this.options.scroll&&this.options.scroll!=window&&this._isScrollChild&&(t[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft,t[1]-=this.options.scroll.scrollTop-this.originalScrollTop);var s=[0,1].map(function(i){return e[i]-t[i]-this.offset[i]}.bind(this));this.options.snap&&(s=Object.isFunction(this.options.snap)?this.options.snap(s[0],s[1],this):Object.isArray(this.options.snap)?s.map(function(e,t){return(e/this.options.snap[t]).round()*this.options.snap[t]}.bind(this)):s.map(function(e){return(e/this.options.snap).round()*this.options.snap}.bind(this)));var o=this.element.style;this.options.constraint&&"horizontal"!=this.options.constraint||(o.left=s[0]+"px"),this.options.constraint&&"vertical"!=this.options.constraint||(o.top=s[1]+"px"),"hidden"==o.visibility&&(o.visibility="")},stopScrolling:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null,Draggables._lastScrollPointer=null)},startScrolling:function(e){(e[0]||e[1])&&(this.scrollSpeed=[e[0]*this.options.scrollSpeed,e[1]*this.options.scrollSpeed],this.lastScrolled=new Date,this.scrollInterval=setInterval(this.scroll.bind(this),10))},scroll:function(){var current=new Date,delta=current-this.lastScrolled;if(this.lastScrolled=current,this.options.scroll==window){with(this._getWindowScroll(this.options.scroll))if(this.scrollSpeed[0]||this.scrollSpeed[1]){var d=delta/1e3;this.options.scroll.scrollTo(left+d*this.scrollSpeed[0],top+d*this.scrollSpeed[1])}}else this.options.scroll.scrollLeft+=this.scrollSpeed[0]*delta/1e3,this.options.scroll.scrollTop+=this.scrollSpeed[1]*delta/1e3;Position.prepare(),Droppables.show(Draggables._lastPointer,this.element),Draggables.notify("onDrag",this),this._isScrollChild&&(Draggables._lastScrollPointer=Draggables._lastScrollPointer||$A(Draggables._lastPointer),Draggables._lastScrollPointer[0]+=this.scrollSpeed[0]*delta/1e3,Draggables._lastScrollPointer[1]+=this.scrollSpeed[1]*delta/1e3,Draggables._lastScrollPointer[0]<0&&(Draggables._lastScrollPointer[0]=0),Draggables._lastScrollPointer[1]<0&&(Draggables._lastScrollPointer[1]=0),
this.draw(Draggables._lastScrollPointer)),this.options.change&&this.options.change(this)},_getWindowScroll:function(w){var T,L,W,H;with(w.document)w.document.documentElement&&documentElement.scrollTop?(T=documentElement.scrollTop,L=documentElement.scrollLeft):w.document.body&&(T=body.scrollTop,L=body.scrollLeft),w.innerWidth?(W=w.innerWidth,H=w.innerHeight):w.document.documentElement&&documentElement.clientWidth?(W=documentElement.clientWidth,H=documentElement.clientHeight):(W=body.offsetWidth,H=body.offsetHeight);return{top:T,left:L,width:W,height:H}}});Draggable._dragging={};var SortableObserver=Class.create({initialize:function(e,t){this.element=$(e),this.observer=t,this.lastValue=Sortable.serialize(this.element)},onStart:function(){this.lastValue=Sortable.serialize(this.element)},onEnd:function(){Sortable.unmark(),this.lastValue!=Sortable.serialize(this.element)&&this.observer(this.element)}}),Sortable={SERIALIZE_RULE:/^[^_\-](?:[A-Za-z0-9\-\_]*)[_](.*)$/,sortables:{},_findRootElement:function(e){for(;"BODY"!=e.tagName.toUpperCase();){if(e.id&&Sortable.sortables[e.id])return e;e=e.parentNode}},options:function(e){if(e=Sortable._findRootElement($(e)))return Sortable.sortables[e.id]},destroy:function(e){e=$(e);var t=Sortable.sortables[e.id];t&&(Draggables.removeObserver(t.element),t.droppables.each(function(e){Droppables.remove(e)}),t.draggables.invoke("destroy"),delete Sortable.sortables[t.element.id])},create:function(e){e=$(e);var t=Object.extend({element:e,tag:"li",dropOnEmpty:!1,tree:!1,treeTag:"ul",overlap:"vertical",constraint:"vertical",containment:e,handle:!1,only:!1,delay:0,hoverclass:null,ghosting:!1,quiet:!1,scroll:!1,scrollSensitivity:20,scrollSpeed:15,format:this.SERIALIZE_RULE,elements:!1,handles:!1,onChange:Prototype.emptyFunction,onUpdate:Prototype.emptyFunction},arguments[1]||{});this.destroy(e);var i={revert:!0,quiet:t.quiet,scroll:t.scroll,scrollSpeed:t.scrollSpeed,scrollSensitivity:t.scrollSensitivity,delay:t.delay,ghosting:t.ghosting,constraint:t.constraint,handle:t.handle};t.starteffect&&(i.starteffect=t.starteffect),t.reverteffect?i.reverteffect=t.reverteffect:t.ghosting&&(i.reverteffect=function(e){e.style.top=0,e.style.left=0}),t.endeffect&&(i.endeffect=t.endeffect),t.zindex&&(i.zindex=t.zindex);var n={overlap:t.overlap,containment:t.containment,tree:t.tree,hoverclass:t.hoverclass,onHover:Sortable.onHover},s={onHover:Sortable.onEmptyHover,overlap:t.overlap,containment:t.containment,hoverclass:t.hoverclass};Element.cleanWhitespace(e),t.draggables=[],t.droppables=[],(t.dropOnEmpty||t.tree)&&(Droppables.add(e,s),t.droppables.push(e)),(t.elements||this.findElements(e,t)||[]).each(function(s,o){var r=t.handles?$(t.handles[o]):t.handle?$(s).select("."+t.handle)[0]:s;t.draggables.push(new Draggable(s,Object.extend(i,{handle:r}))),Droppables.add(s,n),t.tree&&(s.treeNode=e),t.droppables.push(s)}),t.tree&&(Sortable.findTreeElements(e,t)||[]).each(function(i){Droppables.add(i,s),i.treeNode=e,t.droppables.push(i)}),this.sortables[e.identify()]=t,Draggables.addObserver(new SortableObserver(e,t.onUpdate))},findElements:function(e,t){return Element.findChildren(e,t.only,!!t.tree,t.tag)},findTreeElements:function(e,t){return Element.findChildren(e,t.only,!!t.tree,t.treeTag)},onHover:function(e,t,i){if(!(Element.isParent(t,e)||i>.33&&i<.66&&Sortable.options(t).tree))if(i>.5){if(Sortable.mark(t,"before"),t.previousSibling!=e){var n=e.parentNode;e.style.visibility="hidden",t.parentNode.insertBefore(e,t),t.parentNode!=n&&Sortable.options(n).onChange(e),Sortable.options(t.parentNode).onChange(e)}}else{Sortable.mark(t,"after");var s=t.nextSibling||null;if(s!=e){var n=e.parentNode;e.style.visibility="hidden",t.parentNode.insertBefore(e,s),t.parentNode!=n&&Sortable.options(n).onChange(e),Sortable.options(t.parentNode).onChange(e)}}},onEmptyHover:function(e,t,i){var n=e.parentNode,s=Sortable.options(t);if(!Element.isParent(t,e)){var o,r=Sortable.findElements(t,{tag:s.tag,only:s.only}),a=null;if(r){var l=Element.offsetSize(t,s.overlap)*(1-i);for(o=0;o<r.length;o+=1){if(!(l-Element.offsetSize(r[o],s.overlap)>=0)){if(l-Element.offsetSize(r[o],s.overlap)/2>=0){a=o+1<r.length?r[o+1]:null;break}a=r[o];break}l-=Element.offsetSize(r[o],s.overlap)}}t.insertBefore(e,a),Sortable.options(n).onChange(e),s.onChange(e)}},unmark:function(){Sortable._marker&&Sortable._marker.hide()},mark:function(e,t){var i=Sortable.options(e.parentNode);if(!i||i.ghosting){Sortable._marker||(Sortable._marker=($("dropmarker")||Element.extend(document.createElement("DIV"))).hide().addClassName("dropmarker").setStyle({position:"absolute"}),document.getElementsByTagName("body").item(0).appendChild(Sortable._marker));var n=e.cumulativeOffset();Sortable._marker.setStyle({left:n[0]+"px",top:n[1]+"px"}),"after"==t&&("horizontal"==i.overlap?Sortable._marker.setStyle({left:n[0]+e.clientWidth+"px"}):Sortable._marker.setStyle({top:n[1]+e.clientHeight+"px"})),Sortable._marker.show()}},_tree:function(e,t,i){for(var n=Sortable.findElements(e,t)||[],s=0;s<n.length;++s){var o=n[s].id.match(t.format);if(o){var r={id:encodeURIComponent(o?o[1]:null),element:e,parent:i,children:[],position:i.children.length,container:$(n[s]).down(t.treeTag)};r.container&&this._tree(r.container,t,r),i.children.push(r)}}return i},tree:function(e){e=$(e);var t=this.options(e),i=Object.extend({tag:t.tag,treeTag:t.treeTag,only:t.only,name:e.id,format:t.format},arguments[1]||{}),n={id:null,parent:null,children:[],container:e,position:0};return Sortable._tree(e,i,n)},_constructIndex:function(e){var t="";do e.id&&(t="["+e.position+"]"+t);while(null!=(e=e.parent));return t},sequence:function(e){e=$(e);var t=Object.extend(this.options(e),arguments[1]||{});return $(this.findElements(e,t)||[]).map(function(e){return e.id.match(t.format)?e.id.match(t.format)[1]:""})},setSequence:function(e,t){e=$(e);var i=Object.extend(this.options(e),arguments[2]||{}),n={};this.findElements(e,i).each(function(e){e.id.match(i.format)&&(n[e.id.match(i.format)[1]]=[e,e.parentNode]),e.parentNode.removeChild(e)}),t.each(function(e){var t=n[e];t&&(t[1].appendChild(t[0]),delete n[e])})},serialize:function(e){e=$(e);var t=Object.extend(Sortable.options(e),arguments[1]||{}),i=encodeURIComponent(arguments[1]&&arguments[1].name?arguments[1].name:e.id);return t.tree?Sortable.tree(e,arguments[1]).children.map(function(e){return[i+Sortable._constructIndex(e)+"[id]="+encodeURIComponent(e.id)].concat(e.children.map(arguments.callee))}).flatten().join("&"):Sortable.sequence(e,arguments[1]).map(function(e){return i+"[]="+encodeURIComponent(e)}).join("&")}};
// Copyright (c) 2005-2009 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
if(Element.isParent=function(e,t){return!(!e.parentNode||e==t)&&(e.parentNode==t||Element.isParent(e.parentNode,t))},Element.findChildren=function(e,t,i,n){if(!e.hasChildNodes())return null;n=n.toUpperCase(),t&&(t=[t].flatten());var s=[];return $A(e.childNodes).each(function(e){if(!e.tagName||e.tagName.toUpperCase()!=n||t&&!Element.classNames(e).detect(function(e){return t.include(e)})||s.push(e),i){var o=Element.findChildren(e,t,i,n);o&&s.push(o)}}),s.length>0?s.flatten():[]},Element.offsetSize=function(e,t){return e["offset"+("vertical"==t||"height"==t?"Height":"Width")]},"undefined"==typeof Effect)throw"controls.js requires including script.aculo.us' effects.js library";var Autocompleter={};Autocompleter.Base=Class.create({baseInitialize:function(e,t,i){e=$(e),this.element=e,this.update=$(t),this.hasFocus=!1,this.changed=!1,this.active=!1,this.index=0,this.entryCount=0,this.oldElementValue=this.element.value,this.setOptions?this.setOptions(i):this.options=i||{},this.options.paramName=this.options.paramName||this.element.name,this.options.tokens=this.options.tokens||[],this.options.frequency=this.options.frequency||.4,this.options.minChars=this.options.minChars||1,this.options.onShow=this.options.onShow||function(e,t){t.style.position&&"absolute"!=t.style.position||(t.style.position="absolute",Position.clone(e,t,{setHeight:!1,offsetTop:e.offsetHeight})),Effect.Appear(t,{duration:.15})},this.options.onHide=this.options.onHide||function(e,t){new Effect.Fade(t,{duration:.15})},"string"==typeof this.options.tokens&&(this.options.tokens=new Array(this.options.tokens)),this.options.tokens.include("\n")||this.options.tokens.push("\n"),this.observer=null,this.element.setAttribute("autocomplete","off"),Element.hide(this.update),Event.observe(this.element,"blur",this.onBlur.bindAsEventListener(this)),Event.observe(this.element,"keydown",this.onKeyPress.bindAsEventListener(this))},show:function(){"none"==Element.getStyle(this.update,"display")&&this.options.onShow(this.element,this.update),!this.iefix&&Prototype.Browser.IE&&"absolute"==Element.getStyle(this.update,"position")&&(new Insertion.After(this.update,'<iframe id="'+this.update.id+'_iefix" style="display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);" src="javascript:false;" frameborder="0" scrolling="no"></iframe>'),this.iefix=$(this.update.id+"_iefix")),this.iefix&&setTimeout(this.fixIEOverlapping.bind(this),50)},fixIEOverlapping:function(){Position.clone(this.update,this.iefix,{setTop:!this.update.style.height}),this.iefix.style.zIndex=1,this.update.style.zIndex=2,Element.show(this.iefix)},hide:function(){this.stopIndicator(),"none"!=Element.getStyle(this.update,"display")&&this.options.onHide(this.element,this.update),this.iefix&&Element.hide(this.iefix)},startIndicator:function(){this.options.indicator&&Element.show(this.options.indicator)},stopIndicator:function(){this.options.indicator&&Element.hide(this.options.indicator)},onKeyPress:function(e){if(this.active)switch(e.keyCode){case Event.KEY_TAB:case Event.KEY_RETURN:this.selectEntry(),Event.stop(e);case Event.KEY_ESC:return this.hide(),this.active=!1,void Event.stop(e);case Event.KEY_LEFT:case Event.KEY_RIGHT:return;case Event.KEY_UP:return this.markPrevious(),this.render(),void Event.stop(e);case Event.KEY_DOWN:return this.markNext(),this.render(),void Event.stop(e)}else if(e.keyCode==Event.KEY_TAB||e.keyCode==Event.KEY_RETURN||Prototype.Browser.WebKit>0&&0==e.keyCode)return;this.changed=!0,this.hasFocus=!0,this.observer&&clearTimeout(this.observer),this.observer=setTimeout(this.onObserverEvent.bind(this),1e3*this.options.frequency)},activate:function(){this.changed=!1,this.hasFocus=!0,this.getUpdatedChoices()},onHover:function(e){var t=Event.findElement(e,"LI");this.index!=t.autocompleteIndex&&(this.index=t.autocompleteIndex,this.render()),Event.stop(e)},onClick:function(e){var t=Event.findElement(e,"LI");this.index=t.autocompleteIndex,this.selectEntry(),this.hide()},onBlur:function(){setTimeout(this.hide.bind(this),250),this.hasFocus=!1,this.active=!1},render:function(){if(this.entryCount>0){for(var e=0;e<this.entryCount;e++)this.index==e?Element.addClassName(this.getEntry(e),"selected"):Element.removeClassName(this.getEntry(e),"selected");this.hasFocus&&(this.show(),this.active=!0)}else this.active=!1,this.hide()},markPrevious:function(){this.index>0?this.index--:this.index=this.entryCount-1,this.getEntry(this.index).scrollIntoView(!0)},markNext:function(){this.index<this.entryCount-1?this.index++:this.index=0,this.getEntry(this.index).scrollIntoView(!1)},getEntry:function(e){return this.update.firstChild.childNodes[e]},getCurrentEntry:function(){return this.getEntry(this.index)},selectEntry:function(){this.active=!1,this.updateElement(this.getCurrentEntry())},updateElement:function(e){if(this.options.updateElement)return void this.options.updateElement(e);var t="";if(this.options.select){var i=$(e).select("."+this.options.select)||[];i.length>0&&(t=Element.collectTextNodes(i[0],this.options.select))}else t=Element.collectTextNodesIgnoreClass(e,"informal");var n=this.getTokenBounds();if(n[0]!=-1){var s=this.element.value.substr(0,n[0]),o=this.element.value.substr(n[0]).match(/^\s+/);o&&(s+=o[0]),this.element.value=s+t+this.element.value.substr(n[1])}else this.element.value=t;this.oldElementValue=this.element.value,this.element.focus(),this.options.afterUpdateElement&&this.options.afterUpdateElement(this.element,e)},updateChoices:function(e){if(!this.changed&&this.hasFocus){if(this.update.innerHTML=e,Element.cleanWhitespace(this.update),Element.cleanWhitespace(this.update.down()),this.update.firstChild&&this.update.down().childNodes){this.entryCount=this.update.down().childNodes.length;for(var t=0;t<this.entryCount;t++){var i=this.getEntry(t);i.autocompleteIndex=t,this.addObservers(i)}}else this.entryCount=0;this.stopIndicator(),this.index=0,1==this.entryCount&&this.options.autoSelect?(this.selectEntry(),this.hide()):this.render()}},addObservers:function(e){Event.observe(e,"mouseover",this.onHover.bindAsEventListener(this)),Event.observe(e,"click",this.onClick.bindAsEventListener(this))},onObserverEvent:function(){this.changed=!1,this.tokenBounds=null,this.getToken().length>=this.options.minChars?this.getUpdatedChoices():(this.active=!1,this.hide()),this.oldElementValue=this.element.value},getToken:function(){var e=this.getTokenBounds();return this.element.value.substring(e[0],e[1]).strip()},getTokenBounds:function(){if(null!=this.tokenBounds)return this.tokenBounds;var e=this.element.value;if(e.strip().empty())return[-1,0];for(var t,i=arguments.callee.getFirstDifferencePos(e,this.oldElementValue),n=i==this.oldElementValue.length?1:0,s=-1,o=e.length,r=0,a=this.options.tokens.length;r<a;++r)t=e.lastIndexOf(this.options.tokens[r],i+n-1),t>s&&(s=t),t=e.indexOf(this.options.tokens[r],i+n),-1!=t&&t<o&&(o=t);return this.tokenBounds=[s+1,o]}}),Autocompleter.Base.prototype.getTokenBounds.getFirstDifferencePos=function(e,t){for(var i=Math.min(e.length,t.length),n=0;n<i;++n)if(e[n]!=t[n])return n;return i},Ajax.Autocompleter=Class.create(Autocompleter.Base,{initialize:function(e,t,i,n){this.baseInitialize(e,t,n),this.options.asynchronous=!0,this.options.onComplete=this.onComplete.bind(this),this.options.defaultParams=this.options.parameters||null,this.url=i},getUpdatedChoices:function(){this.startIndicator();var e=encodeURIComponent(this.options.paramName)+"="+encodeURIComponent(this.getToken());this.options.parameters=this.options.callback?this.options.callback(this.element,e):e,this.options.defaultParams&&(this.options.parameters+="&"+this.options.defaultParams),new Ajax.Request(this.url,this.options)},onComplete:function(e){this.updateChoices(e.responseText)}}),Autocompleter.Local=Class.create(Autocompleter.Base,{initialize:function(e,t,i,n){this.baseInitialize(e,t,n),this.options.array=i},getUpdatedChoices:function(){this.updateChoices(this.options.selector(this))},setOptions:function(e){this.options=Object.extend({choices:10,partialSearch:!0,partialChars:2,ignoreCase:!0,fullSearch:!1,selector:function(e){for(var t=[],i=[],n=e.getToken(),s=0;s<e.options.array.length&&t.length<e.options.choices;s++)for(var o=e.options.array[s],r=e.options.ignoreCase?o.toLowerCase().indexOf(n.toLowerCase()):o.indexOf(n);r!=-1;){if(0==r&&o.length!=n.length){t.push("<li><strong>"+o.substr(0,n.length)+"</strong>"+o.substr(n.length)+"</li>");break}if(n.length>=e.options.partialChars&&e.options.partialSearch&&r!=-1&&(e.options.fullSearch||/\s/.test(o.substr(r-1,1)))){i.push("<li>"+o.substr(0,r)+"<strong>"+o.substr(r,n.length)+"</strong>"+o.substr(r+n.length)+"</li>");break}r=e.options.ignoreCase?o.toLowerCase().indexOf(n.toLowerCase(),r+1):o.indexOf(n,r+1)}return i.length&&(t=t.concat(i.slice(0,e.options.choices-t.length))),"<ul>"+t.join("")+"</ul>"}},e||{})}}),Field.scrollFreeActivate=function(e){setTimeout(function(){Field.activate(e)},1)},Ajax.InPlaceEditor=Class.create({initialize:function(e,t,i){this.url=t,this.element=e=$(e),this.prepareOptions(),this._controls={},arguments.callee.dealWithDeprecatedOptions(i),Object.extend(this.options,i||{}),!this.options.formId&&this.element.id&&(this.options.formId=this.element.id+"-inplaceeditor",$(this.options.formId)&&(this.options.formId="")),this.options.externalControl&&(this.options.externalControl=$(this.options.externalControl)),this.options.externalControl||(this.options.externalControlOnly=!1),this._originalBackground=this.element.getStyle("background-color")||"transparent",this.element.title=this.options.clickToEditText,this._boundCancelHandler=this.handleFormCancellation.bind(this),this._boundComplete=(this.options.onComplete||Prototype.emptyFunction).bind(this),this._boundFailureHandler=this.handleAJAXFailure.bind(this),this._boundSubmitHandler=this.handleFormSubmission.bind(this),this._boundWrapperHandler=this.wrapUp.bind(this),this.registerListeners()},checkForEscapeOrReturn:function(e){!this._editing||e.ctrlKey||e.altKey||e.shiftKey||(Event.KEY_ESC==e.keyCode?this.handleFormCancellation(e):Event.KEY_RETURN==e.keyCode&&this.handleFormSubmission(e))},createControl:function(e,t,i){var n=this.options[e+"Control"],s=this.options[e+"Text"];if("button"==n){var o=document.createElement("input");o.type="submit",o.value=s,o.className="editor_"+e+"_button","cancel"==e&&(o.onclick=this._boundCancelHandler),this._form.appendChild(o),this._controls[e]=o}else if("link"==n){var r=document.createElement("a");r.href="#",r.appendChild(document.createTextNode(s)),r.onclick="cancel"==e?this._boundCancelHandler:this._boundSubmitHandler,r.className="editor_"+e+"_link",i&&(r.className+=" "+i),this._form.appendChild(r),this._controls[e]=r}},createEditField:function(){var e,t=this.options.loadTextURL?this.options.loadingText:this.getText();if(1>=this.options.rows&&!/\r|\n/.test(this.getText())){e=document.createElement("input"),e.type="text";var i=this.options.size||this.options.cols||0;0<i&&(e.size=i)}else e=document.createElement("textarea"),e.rows=1>=this.options.rows?this.options.autoRows:this.options.rows,e.cols=this.options.cols||40;e.name=this.options.paramName,e.value=t,e.className="editor_field",this.options.submitOnBlur&&(e.onblur=this._boundSubmitHandler),this._controls.editor=e,this.options.loadTextURL&&this.loadExternalText(),this._form.appendChild(this._controls.editor)},createForm:function(){function e(e,i){var n=t.options["text"+e+"Controls"];n&&i!==!1&&t._form.appendChild(document.createTextNode(n))}var t=this;this._form=$(document.createElement("form")),this._form.id=this.options.formId,this._form.addClassName(this.options.formClassName),this._form.onsubmit=this._boundSubmitHandler,this.createEditField(),"textarea"==this._controls.editor.tagName.toLowerCase()&&this._form.appendChild(document.createElement("br")),this.options.onFormCustomization&&this.options.onFormCustomization(this,this._form),e("Before",this.options.okControl||this.options.cancelControl),this.createControl("ok",this._boundSubmitHandler),e("Between",this.options.okControl&&this.options.cancelControl),this.createControl("cancel",this._boundCancelHandler,"editor_cancel"),e("After",this.options.okControl||this.options.cancelControl)},destroy:function(){this._oldInnerHTML&&(this.element.innerHTML=this._oldInnerHTML),this.leaveEditMode(),this.unregisterListeners()},enterEditMode:function(e){this._saving||this._editing||(this._editing=!0,this.triggerCallback("onEnterEditMode"),this.options.externalControl&&this.options.externalControl.hide(),this.element.hide(),this.createForm(),this.element.parentNode.insertBefore(this._form,this.element),this.options.loadTextURL||this.postProcessEditField(),e&&Event.stop(e))},enterHover:function(){this.options.hoverClassName&&this.element.addClassName(this.options.hoverClassName),this._saving||this.triggerCallback("onEnterHover")},getText:function(){return this.element.innerHTML.unescapeHTML()},handleAJAXFailure:function(e){this.triggerCallback("onFailure",e),this._oldInnerHTML&&(this.element.innerHTML=this._oldInnerHTML,this._oldInnerHTML=null)},handleFormCancellation:function(e){this.wrapUp(),e&&Event.stop(e)},handleFormSubmission:function(e){var t=this._form,i=$F(this._controls.editor);this.prepareSubmission();var n=this.options.callback(t,i)||"";if(Object.isString(n)&&(n=n.toQueryParams()),n.editorId=this.element.id,this.options.htmlResponse){var s=Object.extend({evalScripts:!0},this.options.ajaxOptions);Object.extend(s,{parameters:n,onComplete:this._boundWrapperHandler,onFailure:this._boundFailureHandler}),new Ajax.Updater({success:this.element},this.url,s)}else{var s=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(s,{parameters:n,onComplete:this._boundWrapperHandler,onFailure:this._boundFailureHandler}),new Ajax.Request(this.url,s)}e&&Event.stop(e)},leaveEditMode:function(){this.element.removeClassName(this.options.savingClassName),this.removeForm(),this.leaveHover(),this.element.style.backgroundColor=this._originalBackground,this.element.show(),this.options.externalControl&&this.options.externalControl.show(),this._saving=!1,this._editing=!1,this._oldInnerHTML=null,this.triggerCallback("onLeaveEditMode")},leaveHover:function(){this.options.hoverClassName&&this.element.removeClassName(this.options.hoverClassName),this._saving||this.triggerCallback("onLeaveHover")},loadExternalText:function(){this._form.addClassName(this.options.loadingClassName),this._controls.editor.disabled=!0;var e=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(e,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(e){this._form.removeClassName(this.options.loadingClassName);var t=e.responseText;this.options.stripLoadedTextTags&&(t=t.stripTags()),this._controls.editor.value=t,this._controls.editor.disabled=!1,this.postProcessEditField()}.bind(this),onFailure:this._boundFailureHandler}),new Ajax.Request(this.options.loadTextURL,e)},postProcessEditField:function(){var e=this.options.fieldPostCreation;e&&$(this._controls.editor)["focus"==e?"focus":"activate"]()},prepareOptions:function(){this.options=Object.clone(Ajax.InPlaceEditor.DefaultOptions),Object.extend(this.options,Ajax.InPlaceEditor.DefaultCallbacks),[this._extraDefaultOptions].flatten().compact().each(function(e){Object.extend(this.options,e)}.bind(this))},prepareSubmission:function(){this._saving=!0,this.removeForm(),this.leaveHover(),this.showSaving()},registerListeners:function(){this._listeners={};var e;$H(Ajax.InPlaceEditor.Listeners).each(function(t){e=this[t.value].bind(this),this._listeners[t.key]=e,this.options.externalControlOnly||this.element.observe(t.key,e),this.options.externalControl&&this.options.externalControl.observe(t.key,e)}.bind(this))},removeForm:function(){this._form&&(this._form.remove(),this._form=null,this._controls={})},showSaving:function(){this._oldInnerHTML=this.element.innerHTML,this.element.innerHTML=this.options.savingText,this.element.addClassName(this.options.savingClassName),this.element.style.backgroundColor=this._originalBackground,this.element.show()},triggerCallback:function(e,t){"function"==typeof this.options[e]&&this.options[e](this,t)},unregisterListeners:function(){$H(this._listeners).each(function(e){this.options.externalControlOnly||this.element.stopObserving(e.key,e.value),this.options.externalControl&&this.options.externalControl.stopObserving(e.key,e.value)}.bind(this))},wrapUp:function(e){this.leaveEditMode(),this._boundComplete(e,this.element)}}),Object.extend(Ajax.InPlaceEditor.prototype,{dispose:Ajax.InPlaceEditor.prototype.destroy}),Ajax.InPlaceCollectionEditor=Class.create(Ajax.InPlaceEditor,{initialize:function($super,e,t,i){this._extraDefaultOptions=Ajax.InPlaceCollectionEditor.DefaultOptions,$super(e,t,i)},createEditField:function(){var e=document.createElement("select");e.name=this.options.paramName,e.size=1,this._controls.editor=e,this._collection=this.options.collection||[],this.options.loadCollectionURL?this.loadCollection():this.checkForExternalText(),this._form.appendChild(this._controls.editor)},loadCollection:function(){this._form.addClassName(this.options.loadingClassName),this.showLoadingText(this.options.loadingCollectionText);var options=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(options,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(transport){var js=transport.responseText.strip();if(!/^\[.*\]$/.test(js))throw"Server returned an invalid collection representation.";this._collection=eval(js),this.checkForExternalText()}.bind(this),onFailure:this.onFailure}),new Ajax.Request(this.options.loadCollectionURL,options)},showLoadingText:function(e){this._controls.editor.disabled=!0;var t=this._controls.editor.firstChild;t||(t=document.createElement("option"),t.value="",this._controls.editor.appendChild(t),t.selected=!0),t.update((e||"").stripScripts().stripTags())},checkForExternalText:function(){this._text=this.getText(),this.options.loadTextURL?this.loadExternalText():this.buildOptionList()},loadExternalText:function(){this.showLoadingText(this.options.loadingText);var e=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(e,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(e){this._text=e.responseText.strip(),this.buildOptionList()}.bind(this),onFailure:this.onFailure}),new Ajax.Request(this.options.loadTextURL,e)},buildOptionList:function(){this._form.removeClassName(this.options.loadingClassName),this._collection=this._collection.map(function(e){return 2===e.length?e:[e,e].flatten()});var e="value"in this.options?this.options.value:this._text,t=this._collection.any(function(t){return t[0]==e}.bind(this));this._controls.editor.update("");var i;this._collection.each(function(n,s){i=document.createElement("option"),i.value=n[0],i.selected=t?n[0]==e:0==s,i.appendChild(document.createTextNode(n[1])),this._controls.editor.appendChild(i)}.bind(this)),this._controls.editor.disabled=!1,Field.scrollFreeActivate(this._controls.editor)}}),Ajax.InPlaceEditor.prototype.initialize.dealWithDeprecatedOptions=function(e){function t(t,i){t in e||void 0===i||(e[t]=i)}e&&(t("cancelControl",e.cancelLink?"link":e.cancelButton?"button":e.cancelLink==e.cancelButton!=0&&void 0),t("okControl",e.okLink?"link":e.okButton?"button":e.okLink==e.okButton!=0&&void 0),t("highlightColor",e.highlightcolor),t("highlightEndColor",e.highlightendcolor))},Object.extend(Ajax.InPlaceEditor,{DefaultOptions:{ajaxOptions:{},autoRows:3,cancelControl:"link",cancelText:"cancel",clickToEditText:"Click to edit",externalControl:null,externalControlOnly:!1,fieldPostCreation:"activate",formClassName:"inplaceeditor-form",formId:null,highlightColor:"#ffff99",highlightEndColor:"#ffffff",hoverClassName:"",htmlResponse:!0,loadingClassName:"inplaceeditor-loading",loadingText:"Loading...",okControl:"button",okText:"ok",paramName:"value",rows:1,savingClassName:"inplaceeditor-saving",savingText:"Saving...",size:0,stripLoadedTextTags:!1,submitOnBlur:!1,textAfterControls:"",textBeforeControls:"",textBetweenControls:""},DefaultCallbacks:{callback:function(e){return Form.serialize(e)},onComplete:function(e,t){new Effect.Highlight(t,{startcolor:this.options.highlightColor,keepBackgroundImage:!0})},onEnterEditMode:null,onEnterHover:function(e){e.element.style.backgroundColor=e.options.highlightColor,e._effect&&e._effect.cancel()},onFailure:function(e){alert("Error communication with the server: "+e.responseText.stripTags())},onFormCustomization:null,onLeaveEditMode:null,onLeaveHover:function(e){e._effect=new Effect.Highlight(e.element,{startcolor:e.options.highlightColor,endcolor:e.options.highlightEndColor,restorecolor:e._originalBackground,keepBackgroundImage:!0})}},Listeners:{click:"enterEditMode",keydown:"checkForEscapeOrReturn",mouseover:"enterHover",mouseout:"leaveHover"}}),Ajax.InPlaceCollectionEditor.DefaultOptions={loadingCollectionText:"Loading options..."},Form.Element.DelayedObserver=Class.create({initialize:function(e,t,i){this.delay=t||.5,this.element=$(e),this.callback=i,this.timer=null,this.lastValue=$F(this.element),Event.observe(this.element,"keyup",this.delayedListener.bindAsEventListener(this))},delayedListener:function(){this.lastValue!=$F(this.element)&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.onTimerEvent.bind(this),1e3*this.delay),this.lastValue=$F(this.element))},onTimerEvent:function(){this.timer=null,this.callback(this.element,$F(this.element))}}),/**
 * @author Ryan Johnson <http://syntacticx.com/>
 * @copyright 2008 PersonalGrid Corporation <http://personalgrid.com/>
 * @package LivePipe UI
 * @license MIT
 * @url http://livepipe.net/core
 * @require prototype.js
 */
"undefined"==typeof Control&&(Control={});var $proc=function(e){return"function"==typeof e?e:function(){return e}},$value=function(e){return"function"==typeof e?e():e};Object.Event={extend:function(e){e._objectEventSetup=function(e){this._observers=this._observers||{},this._observers[e]=this._observers[e]||[]},e.observe=function(e,t){if("string"==typeof e&&"undefined"!=typeof t)this._objectEventSetup(e),this._observers[e].include(t)||this._observers[e].push(t);else for(var i in e)this.observe(i,e[i])},e.stopObserving=function(e,t){this._objectEventSetup(e),e&&t?this._observers[e]=this._observers[e].without(t):e?this._observers[e]=[]:this._observers={}},e.observeOnce=function(e,t){var i=function(){t.apply(this,arguments),this.stopObserving(e,i)}.bind(this);this._objectEventSetup(e),this._observers[e].push(i)},e.notify=function(e){this._objectEventSetup(e);var t=[],i=$A(arguments).slice(1);try{for(var n=0;n<this._observers[e].length;++n)t.push(this._observers[e][n].apply(this,i)||null)}catch(e){if(e==$break)return!1;throw e}return t},e.prototype&&(e.prototype._objectEventSetup=e._objectEventSetup,e.prototype.observe=e.observe,e.prototype.stopObserving=e.stopObserving,e.prototype.observeOnce=e.observeOnce,e.prototype.notify=function(t){if(e.notify){var i=$A(arguments).slice(1);i.unshift(this),i.unshift(t),e.notify.apply(e,i)}this._objectEventSetup(t);var i=$A(arguments).slice(1),n=[];try{this.options&&this.options[t]&&"function"==typeof this.options[t]&&n.push(this.options[t].apply(this,i)||null);for(var s=this._observers[t],o=0;o<s.length;++o)n.push(s[o].apply(this,i)||null)}catch(e){if(e==$break)return!1;throw e}return n})}},Element.addMethods({observeOnce:function(e,t,i){var n=function(){i.apply(this,arguments),Element.stopObserving(e,t,n)};Element.observe(e,t,n)}}),function(){function e(e){var t,i,n;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t)return i=Event.extend(e).target,i=Element.extend(i.nodeType===Node.TEXT_NODE?i.parentNode:i),n=i.fire("mouse:wheel",{delta:t}),n.stopped?(Event.stop(e),!1):void 0}document.observe("mousewheel",e),document.observe("DOMMouseScroll",e)}();var IframeShim=Class.create({initialize:function(){this.element=new Element("iframe",{style:"position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);display:none",src:"javascript:void(0);",frameborder:0}),$(document.body).insert(this.element)},hide:function(){return this.element.hide(),this},show:function(){return this.element.show(),this},positionUnder:function(e){var e=$(e),t=e.cumulativeOffset(),i=e.getDimensions();return this.element.setStyle({left:t[0]+"px",top:t[1]+"px",width:i.width+"px",height:i.height+"px",zIndex:e.getStyle("zIndex")-1}).show(),this},setBounds:function(e){for(prop in e)e[prop]+="px";return this.element.setStyle(e),this},destroy:function(){return this.element&&this.element.remove(),this}});/**
 * @author Ryan Johnson <http://syntacticx.com/>
 * @copyright 2008 PersonalGrid Corporation <http://personalgrid.com/>
 * @package LivePipe UI
 * @license MIT
 * @url http://livepipe.net/control/tabs
 * @require prototype.js, livepipe.js
 */
if("undefined"==typeof Prototype)throw"Control.Tabs requires Prototype to be loaded.";if("undefined"==typeof Object.Event)throw"Control.Tabs requires Object.Event to be loaded.";if(Control.Tabs=Class.create({initialize:function(e,t){if(!$(e))throw"Control.Tabs could not find the element: "+e;this.activeContainer=!1,this.activeLink=!1,this.containers=$H({}),this.links=[],this.options={beforeChange:Prototype.emptyFunction,afterChange:Prototype.emptyFunction,hover:!1,tracked:!0,linkSelector:"li a",linkAttribute:"href",setClassOnContainer:!1,activeClassName:"active",disabledClassName:"disabled",defaultTab:"first",autoLinkExternal:!0,targetRegExp:/#(.+)$/,showFunction:Element.show,hideFunction:Element.hide},Object.extend(this.options,t||{}),this.options.tracked&&Control.Tabs.instances.push(this);var i;switch(this.options.linkAttribute){case"href":case"src":i=function(e){return/^#/.test(e.getAttribute(this.options.linkAttribute).replace(window.location.href.split("#")[0],""))};break;default:i="function"==typeof this.options.linkAttribute?this.options.linkAttribute:function(e){return e.hasAttribute(this.options.linkAttribute)}}("string"==typeof this.options.linkSelector?$(e).select(this.options.linkSelector):this.options.linkSelector($(e))).findAll(i.bind(this)).each(function(e){this.addTab(e)}.bind(this)),this.containers.values().each(Element.hide),"first"==this.options.defaultTab?this.setActiveTab(this.links.first()):"last"==this.options.defaultTab?this.setActiveTab(this.links.last()):this.setActiveTab(this.options.defaultTab);var n=this.options.targetRegExp.exec(window.location);n&&n[1]&&n[1].split(",").each(function(e){this.setActiveTab(this.links.find(function(t){return t.key==e}))}.bind(this)),this.options.autoLinkExternal&&$A(document.getElementsByTagName("a")).each(function(e){if(!this.links.include(e)){var t=e.href.replace(window.location.href.split("#")[0],"");"#"==t.substring(0,1)&&this.containers.keys().include(t.substring(1))&&$(e).observe("click",function(e,t){this.setActiveTab(t.substring(1))}.bindAsEventListener(this,t))}}.bind(this))},addTab:function(e){switch(this.links.push(e),this.options.linkAttribute){case"href":case"src":e.key=e.getAttribute(this.options.linkAttribute).replace(window.location.href.split("#")[0],"").split("#").last().replace(/#/,"");break;default:"function"==typeof this.options.linkAttribute?e.key=this.options.linkAttribute(e):e.key=e.getAttribute(this.options.linkAttribute)}var t=this.options.tabs_container?this.options.tabs_container.down("#"+e.key):$(e.key);if(!t)throw"Control.Tabs: #"+e.key+" was not found on the page.";this.containers.set(e.key,t),e[this.options.hover?"onmouseover":"onclick"]=function(e){return window.event&&Event.stop(window.event),this.setActiveTab(e),!1}.bind(this,e)},getTab:function(e){return e||"undefined"!=typeof e?"string"==typeof e?this.getTab(this.links.find(function(t){return t.key==e})):"number"==typeof e?this.getTab(this.links[e]):this.containers.get(e.key):null},setActiveTab:function(e){if(e||"undefined"!=typeof e)if("string"==typeof e)this.setActiveTab(this.links.find(function(t){return t.key==e}));else if("number"==typeof e)this.setActiveTab(this.links[e]);else if(!(this.options.setClassOnContainer?$(e.parentNode):e).hasClassName(this.options.disabledClassName)){if(e==this.activeLink)return;if(this.notify("beforeChange",this.activeContainer,this.containers.get(e.key))===!1)return;this.activeContainer&&this.options.hideFunction(this.activeContainer),this.links.each(function(e){(this.options.setClassOnContainer?$(e.parentNode):e).removeClassName(this.options.activeClassName)}.bind(this)),(this.options.setClassOnContainer?$(e.parentNode):e).addClassName(this.options.activeClassName),this.activeContainer=this.containers.get(e.key),this.activeLink=e,this.options.showFunction(this.containers.get(e.key)),this.notify("afterChange",this.containers.get(e.key))}},disableTab:function(e){(e||"undefined"!=typeof e)&&("string"==typeof e?this.disableTab(this.links.find(function(t){return t.key==e})):"number"==typeof e?this.disableTab(this.links[e]):({INPUT:!0,BUTTON:!0,SELECT:!0,TEXTAREA:!0}[e.nodeName]&&(e.disabled=!0),(this.options.setClassOnContainer?$(e.parentNode):e).addClassName(this.options.disabledClassName)))},enableTab:function(e){(e||"undefined"!=typeof e)&&("string"==typeof e?this.enableTab(this.links.find(function(t){return t.key==e})):"number"==typeof e?this.enableTab(this.links[e]):({INPUT:!0,BUTTON:!0,SELECT:!0,TEXTAREA:!0}[e.nodeName]&&(e.disabled=!1),(this.options.setClassOnContainer?$(e.parentNode):e).removeClassName(this.options.disabledClassName)))},next:function(){this.links.each(function(e,t){if(this.activeLink==e&&this.links[t+1])throw this.setActiveTab(this.links[t+1]),$break}.bind(this))},previous:function(){this.links.each(function(e,t){if(this.activeLink==e&&this.links[t-1])throw this.setActiveTab(this.links[t-1]),$break}.bind(this))},first:function(){this.setActiveTab(this.links.first())},last:function(){this.setActiveTab(this.links.last())}}),Object.extend(Control.Tabs,{instances:[],findByTabId:function(e){return Control.Tabs.instances.find(function(t){return t.links.find(function(t){return t.key==e})})}}),Object.Event.extend(Control.Tabs),
//  Copyright 2006-2010 okonet.ru. All rights reserved.
Object.isUndefined(Prototype.Browser.IE6)&&(Prototype.Browser.IE6=navigator.appName.indexOf("Microsoft Internet Explorer")!=-1&&navigator.appVersion.indexOf("MSIE 6.0")!=-1&&!window.XMLHttpRequest),!window.Modalbox)var Modalbox={};Modalbox.Methods={overrideAlert:!1,focusableElements:[],currFocused:0,initialized:!1,active:!0,options:{title:"ModalBox Window",overlayClose:!0,width:500,height:90,overlayOpacity:.65,overlayDuration:.25,slideDownDuration:.5,slideUpDuration:.5,resizeDuration:.25,inactiveFade:!0,transitions:!0,loadingString:"Please wait. Loading...",closeString:"Close window",closeValue:"&times;",params:{},method:"get",autoFocusing:!0,aspnet:!1,resizeCSSID:""},_options:{},setOptions:function(e){Object.extend(this.options,e||{})},_init:function(e){Object.extend(this._options,this.options),this.setOptions(e),this.MBoverlay=new Element("div",{id:"MB_overlay",style:"opacity: 0"}),this.MBwindowwrapper=new Element("div",{id:"MB_windowwrapper"}).update(this.MBwindow=new Element("div",{id:"MB_window",style:"display: none"}).update(this.MBframe=new Element("div",{id:"MB_frame"}).update(this.MBheader=new Element("div",{id:"MB_header"}).update(this.MBcaption=new Element("div",{id:"MB_caption"}))))),this.MBclose=new Element("a",{id:"MB_close",title:this.options.closeString,href:"#"}).update("<span>"+this.options.closeValue+"</span>"),this.MBheader.insert({bottom:this.MBclose}),this.MBcontent=new Element("div",{id:"MB_content"}).update(this.MBloading=new Element("div",{id:"MB_loading"}).update(this.options.loadingString)),this.MBframe.insert({bottom:this.MBcontent});var t=this.options.aspnet?$(document.body).down("form"):$(document.body);t.insert({top:this.MBwindowwrapper}),t.insert({top:this.MBoverlay});var i=document.viewport.getScrollOffsets();i[1]>0&&$("MB_window").setStyle({top:i[1]+"px"}),Event.observe(window,"scroll",function(){i=document.viewport.getScrollOffsets(),$("MB_window").setStyle({top:i[1]+"px"})}),this.initScrollX=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,this.initScrollY=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,this.hideObserver=this._hide.bindAsEventListener(this),this.kbdObserver=this._kbdHandler.bindAsEventListener(this),this.resizeObserver=this._setWidthAndPosition.bindAsEventListener(this),this._initObservers(),this.initialized=!0},show:function(e,t){this.initialized||this._init(t),this._cleanUpContentIDs(),this.content=e,this.setOptions(t),this.options.title?this.MBcaption.update(this.options.title):(this.MBheader.hide(),this.MBcaption.hide()),"none"==this.MBwindow.style.display?(this._appear(),this.event("onShow")):(this._update(),this.event("onUpdate"))},hide:function(e){if(!this.initialized)throw"Modalbox is not initialized.";e&&!Object.isFunction(e.element)&&Object.extend(this.options,e),this.event("beforeHide"),this.options.transitions?Effect.SlideUp(this.MBwindow,{duration:this.options.slideUpDuration,transition:Effect.Transitions.sinoidal,afterFinish:this._deinit.bind(this)}):(this.MBwindow.hide(),this._deinit()),Event.stopObserving(window,"scroll")},_hide:function(e){return e.stop(),!("MB_overlay"==e.element().id&&!this.options.overlayClose)&&void this.hide()},alert:function(e){var t='<div class="MB_alert"><p>'+e+'</p><input type="button" onclick="Modalbox.hide()" value="OK" /></div>';Modalbox.show(t,{title:"Alert: "+document.title,width:300})},_appear:function(){Prototype.Browser.IE6&&(window.scrollTo(0,0),this._prepareIEHtml("100%","hidden"),this._prepareIESelects("hidden")),this._setWidth(),this.options.transitions?(this.MBoverlay.setOpacity(0),new Effect.Fade(this.MBoverlay,{from:0,to:this.options.overlayOpacity,duration:this.options.overlayDuration,afterFinish:function(){new Effect.SlideDown(this.MBwindow,{duration:this.options.slideDownDuration,transition:Effect.Transitions.sinoidal,afterFinish:this.loadContent.bind(this)})}.bind(this)})):(this.MBoverlay.setOpacity(this.options.overlayOpacity),this.MBwindow.show(),this.loadContent()),Event.observe(window,"resize",this.resizeObserver)},resize:function(e,t,i){var n=($(this.MBoverlay).getWidth(),$(this.MBwindow).getHeight()),s=$(this.MBwindow).getWidth(),o=$(this.MBheader).getHeight(),r=$(this.MBcontent).getHeight(),a=n-o+t<r?r+o:n+t,l=$(this.MBwindow),c=$(this.MBcontent),u=10;a+=u;var h=parseInt(l.getStyle("margin-top"),0)+parseInt(l.getStyle("margin-bottom"),0)+parseInt(l.getStyle("border-top-width"),0)+parseInt(l.getStyle("border-bottom-width"),0)+u,d=parseInt(c.getStyle("padding-top"))+parseInt(c.getStyle("padding-bottom"));a+h+d>document.viewport.getHeight()?(a=document.viewport.getHeight()-h-u,newcHeight=a-o-parseInt($(this.MBframe).getStyle("padding-bottom"),0)-parseInt($(this.MBcontent).getStyle("padding-bottom"),0),$(this.MBcontent).setStyle({height:newcHeight+"px"})):$(this.MBcontent).getStyle("height")&&$(this.MBcontent).setStyle({height:""});var p=s+e,f={width:p+"px",height:a+"px"};this.options.width=p,i&&this.setOptions(i),this.options.transitions&&!Modalbox.animating?(Modalbox.animating=!0,new Effect.Morph(this.MBwindow,{style:f,duration:this.options.resizeDuration,beforeStart:function(e){e.element.setStyle({overflow:"hidden"})},afterFinish:function(e){e.element.setStyle({overflow:"visible"}),this.event("_afterResize"),this.event("afterResize"),Modalbox.animating=!1}.bind(this)})):(this.MBwindow.setStyle(f),function(){this.event("_afterResize"),this.event("afterResize")}.bind(this).defer())},resizeToContent:function(e){"undefined"==typeof e&&(e={});var t=$("MB_content").select("img"),i=t.length;if(t[0]&&"undefined"==typeof e.imagesloaded){var n=$A(),s=0;t.each(function(o,r){n[r]=new Image,n[r].src=o.src,n[r].onload=function(){if(s++,s==i){var n=!1;t.each(function(e){0==e.height&&(n=!0)}),n||Modalbox.animating?Modalbox.resizeToContent():(e.imagesloaded=!0,Modalbox.resizeToContent(e))}}})}var o=0,r=this.options.height-this.MBwindow.getHeight();e.resizeCSSID&&$(e.resizeCSSID)&&(o=$(e.resizeCSSID).getWidth()-$(this.MBwindow).getWidth()+(parseInt($(this.MBcontent).getStyle("padding-left"),0)+parseInt($(this.MBcontent).getStyle("padding-right"),0))+15),0!=r&&this.resize(o,r,e)},resizeToInclude:function(e,t){var i=$(e),n=i.getHeight()+parseInt(i.getStyle("margin-top"),0)+parseInt(i.getStyle("margin-bottom"),0)+parseInt(i.getStyle("border-top-width"),0)+parseInt(i.getStyle("border-bottom-width"),0);n>0&&this.resize(0,n,t)},_update:function(){this.MBcontent.update($(this.MBloading).update(this.options.loadingString)),this.loadContent()},loadContent:function(){if(0!=this.event("beforeLoad"))if("string"==typeof this.content){var e=new RegExp(/<\/?[^>]+>/gi);e.test(this.content)?this._processContent(this.content):new Ajax.Request(this.content,{method:this.options.method.toLowerCase(),parameters:this.options.params,onComplete:function(e){this._processContent(e.responseText)}.bind(this),onException:function(e,t){throw Modalbox.hide(),"Modalbox Loading Error: "+t}})}else{if("object"!=typeof this.content)throw this.hide(),"Modalbox Parameters Error: Please specify correct URL or HTML element (plain HTML or object)";this._insertContent(this.content)}},_processContent:function(content){var html=content.stripScripts(),scripts=content.extractScripts();this._insertContent(html,function(){scripts.map(function(script){return eval(script.replace("<!--","").replace("// -->",""))},window)})},_insertContent:function(e,t){if(this.MBcontent.hide().update(),"string"==typeof e)this.MBcontent.insert(new Element("div",{style:"display: none"}).update(e)).down().show();else if("object"==typeof e){var i=e.cloneNode(!0);e.id&&(e.id="MB_"+e.id),$(e).select("*[id]").each(function(e){e.id="MB_"+e.id}),this.MBcontent.insert(i).down("div").show(),Prototype.Browser.IE6&&this._prepareIESelects("","#MB_content ")}this.options.height==this._options.height?this.resize(this.options.width-$(this.MBwindow).getWidth(),this.MBcontent.getHeight()-$(this.MBwindow).getHeight()+this.MBheader.getHeight(),{afterResize:function(){this._putContent.bind(this,t).defer()}.bind(this)}):(this._setWidth(),this.MBcontent.setStyle({overflow:"auto",height:this.MBwindow.getHeight()-this.MBheader.getHeight()-13+"px"}),this._putContent.bind(this,t).defer())},_putContent:function(e){this.MBcontent.show(),this._findFocusableElements(),this._setFocus(),Object.isFunction(e)&&e(),this.event("afterLoad")},activate:function(e){this.setOptions(e),this.active=!0,this.options.overlayClose&&this.MBoverlay.observe("click",this.hideObserver),this.MBclose.observe("click",this.hideObserver).show(),this.options.transitions&&this.options.inactiveFade&&new Effect.Appear(this.MBwindow,{duration:this.options.slideUpDuration})},deactivate:function(e){this.setOptions(e),this.active=!1,this.options.overlayClose&&this.MBoverlay.stopObserving("click",this.hideObserver),this.MBclose.stopObserving("click",this.hideObserver).hide(),this.options.transitions&&this.options.inactiveFade&&new Effect.Fade(this.MBwindow,{duration:this.options.slideUpDuration,to:.75})},_initObservers:function(){this.MBclose.observe("click",this.hideObserver),this.options.overlayClose&&this.MBoverlay.observe("click",this.hideObserver);var e=Prototype.Browser.Gecko||Prototype.Browser.Opera?"keypress":"keydown";Event.observe(document,e,this.kbdObserver)},_removeObservers:function(){this.MBclose.stopObserving("click",this.hideObserver),this.options.overlayClose&&this.MBoverlay.stopObserving("click",this.hideObserver);var e=Prototype.Browser.Gecko||Prototype.Browser.Opera?"keypress":"keydown";Event.stopObserving(document,e,this.kbdObserver)},_setFocus:function(){if(this.options.autoFocusing)if(this.focusableElements.length){var e=this.focusableElements.find(function(e){return 1==e.tabIndex})||this.focusableElements.first();this.currFocused=this.focusableElements.toArray().indexOf(e),e.focus()}else this.MBclose.visible()&&this.MBclose.focus()},_findFocusableElements:function(){this.focusableElements=this.MBcontent.select("input:not([type=hidden]):enabled, select, textarea, button, a[href]")},_kbdHandler:function(e){var t=e.element();switch(e.keyCode){case Event.KEY_TAB:if(e.stop(),this._findFocusableElements(),!this.focusableElements.length)return!1;t!=this.focusableElements[this.currFocused]&&(this.currFocused=this.focusableElements.indexOf(t)),e.shiftKey?this.currFocused<=0?this.currFocused=this.focusableElements.length-1:this.currFocused--:this.currFocused>=this.focusableElements.length-1?this.currFocused=0:this.currFocused++,this.focusableElements[this.currFocused].focus();break;case Event.KEY_ESC:this.active&&this._hide(e);break;case 32:this._preventScroll(e);break;case 0:32==e.which&&this._preventScroll(e);break;case Event.KEY_UP:case Event.KEY_DOWN:case Event.KEY_PAGEDOWN:case Event.KEY_PAGEUP:case Event.KEY_HOME:case Event.KEY_END:var i=t.tagName.toLowerCase();Prototype.Browser.WebKit&&!["textarea","select"].include(i)?e.stop():("input"==i&&["submit","button"].include(t.type)||"a"==i)&&e.stop()}},_preventScroll:function(e){["input","textarea","select","button"].include(e.element().tagName.toLowerCase())||e.stop()},_deinit:function(){this._removeObservers(),Event.stopObserving(window,"resize",this.resizeObserver),this.options.transitions?Effect.toggle(this.MBoverlay,"appear",{duration:this.options.overlayDuration,afterFinish:this._removeElements.bind(this)}):(this.MBoverlay.hide(),this._removeElements()),this.MBcontent.setStyle({overflow:"",height:""})},_cleanUpContentIDs:function(){"object"==typeof this.content&&(this.content.id&&this.content.id.match(/MB_/)&&(this.content.id=this.content.id.replace(/MB_/,"")),this.content.select("*[id]").each(function(e){e.id=e.id.replace(/MB_/,"")}))},_removeElements:function(){Prototype.Browser.Opera&&window.scrollBy(0,0),this.MBoverlay.remove(),$(this.MBwindowwrapper).remove(),Prototype.Browser.IE6&&(this._prepareIEHtml("",""),this._prepareIESelects(""),window.scrollTo(this.initScrollX,this.initScrollY)),this._cleanUpContentIDs(),this.initialized=!1,this.event("afterHide"),this.setOptions(this._options)},_setWidth:function(){this.MBwindow.setStyle({width:this.options.width+"px",height:this.options.height+"px"})},_setWidthAndPosition:function(){this.MBwindow.setStyle({width:this.options.width+"px"})},_prepareIEHtml:function(e,t){$$("html, body").invoke("setStyle",{width:e,height:e,overflow:t})},_prepareIESelects:function(e,t){$$((t||"")+"select").invoke("setStyle",{visibility:e})},event:function(e){var t=!0;if(this.options[e]){var i=this.options[e]();this.options[e]=null,Object.isUndefined(i)||(t=i)}return t}},Object.extend(Modalbox,Modalbox.Methods),Modalbox.overrideAlert&&(window.alert=Modalbox.alert);
// Copyright (c) 2005-2008 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
var Builder={NODEMAP:{AREA:"map",CAPTION:"table",COL:"table",COLGROUP:"table",LEGEND:"fieldset",OPTGROUP:"select",OPTION:"select",PARAM:"object",TBODY:"table",TD:"table",TFOOT:"table",TH:"table",THEAD:"table",TR:"table"},node:function(e){e=e.toUpperCase();var t=this.NODEMAP[e]||"div",i=document.createElement(t);try{i.innerHTML="<"+e+"></"+e+">"}catch(e){}var n=i.firstChild||null;if(n&&n.tagName.toUpperCase()!=e&&(n=n.getElementsByTagName(e)[0]),n||(n=document.createElement(e)),n){if(arguments[1])if(this._isStringOrNumber(arguments[1])||arguments[1]instanceof Array||arguments[1].tagName)this._children(n,arguments[1]);else{var s=this._attributes(arguments[1]);if(s.length){try{i.innerHTML="<"+e+" "+s+"></"+e+">"}catch(e){}if(n=i.firstChild||null,!n){n=document.createElement(e);for(attr in arguments[1])n["class"==attr?"className":attr]=arguments[1][attr]}n.tagName.toUpperCase()!=e&&(n=i.getElementsByTagName(e)[0])}}return arguments[2]&&this._children(n,arguments[2]),$(n)}},_text:function(e){return document.createTextNode(e)},ATTR_MAP:{className:"class",htmlFor:"for"},_attributes:function(e){var t=[];for(attribute in e)t.push((attribute in this.ATTR_MAP?this.ATTR_MAP[attribute]:attribute)+'="'+e[attribute].toString().escapeHTML().gsub(/"/,"&quot;")+'"');return t.join(" ")},_children:function(e,t){return t.tagName?void e.appendChild(t):void("object"==typeof t?t.flatten().each(function(t){"object"==typeof t?e.appendChild(t):Builder._isStringOrNumber(t)&&e.appendChild(Builder._text(t))}):Builder._isStringOrNumber(t)&&e.appendChild(Builder._text(t)))},_isStringOrNumber:function(e){return"string"==typeof e||"number"==typeof e},build:function(e){var t=this.node("div");return $(t).update(e.strip()),t.down()},dump:function(e){"object"!=typeof e&&"function"!=typeof e&&(e=window);var t="A ABBR ACRONYM ADDRESS APPLET AREA B BASE BASEFONT BDO BIG BLOCKQUOTE BODY BR BUTTON CAPTION CENTER CITE CODE COL COLGROUP DD DEL DFN DIR DIV DL DT EM FIELDSET FONT FORM FRAME FRAMESET H1 H2 H3 H4 H5 H6 HEAD HR HTML I IFRAME IMG INPUT INS ISINDEX KBD LABEL LEGEND LI LINK MAP MENU META NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION P PARAM PRE Q S SAMP SCRIPT SELECT SMALL SPAN STRIKE STRONG STYLE SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TITLE TR TT U UL VAR".split(/\s+/);t.each(function(t){e[t]=function(){return Builder.node.apply(Builder,[t].concat($A(arguments)))}})}};LightboxOptions=Object.extend({fileLoadingImage:"/assets/spinners/spinner_grande.gif",fileBottomNavCloseImage:"/assets/lightbox/closelabel.gif",overlayOpacity:.8,animate:!0,resizeSpeed:7,borderSize:10,labelImage:"Imagem",labelOf:"de"},window.LightboxOptions||{});var Lightbox=Class.create();Lightbox.prototype={imageArray:[],activeImage:void 0,initialize:function(){this.updateImageList(),this.keyboardAction=this.keyboardAction.bindAsEventListener(this),LightboxOptions.resizeSpeed>10&&(LightboxOptions.resizeSpeed=10),LightboxOptions.resizeSpeed<1&&(LightboxOptions.resizeSpeed=1),this.resizeDuration=LightboxOptions.animate?.15*(11-LightboxOptions.resizeSpeed):0,this.overlayDuration=LightboxOptions.animate?.2:0;var e=(LightboxOptions.animate?250:1)+"px",t=$$("body")[0];t.appendChild(Builder.node("div",{id:"overlay"})),t.appendChild(Builder.node("div",{id:"lightbox"},[Builder.node("div",{id:"outerImageContainer"},Builder.node("div",{id:"imageContainer"},[Builder.node("img",{id:"lightboxImage"}),Builder.node("div",{id:"hoverNav"},[Builder.node("a",{id:"prevLink",href:"#"}),Builder.node("a",{id:"nextLink",href:"#"})]),Builder.node("div",{id:"loading"},Builder.node("a",{id:"loadingLink",href:"#"},Builder.node("img",{src:LightboxOptions.fileLoadingImage})))])),Builder.node("div",{id:"imageDataContainer"},Builder.node("div",{id:"imageData"},[Builder.node("div",{id:"imageDetails"},[Builder.node("span",{id:"caption"}),Builder.node("span",{id:"numberDisplay"})]),Builder.node("div",{id:"bottomNav"},Builder.node("a",{id:"bottomNavClose",href:"#"},Builder.node("img",{src:LightboxOptions.fileBottomNavCloseImage})))]))])),$("overlay").hide().observe("click",function(){this.end()}.bind(this)),$("lightbox").hide().observe("click",function(e){"lightbox"==e.element().id&&this.end()}.bind(this)),$("outerImageContainer").setStyle({width:e,height:e}),$("prevLink").observe("click",function(e){e.stop(),this.changeImage(this.activeImage-1)}.bindAsEventListener(this)),$("nextLink").observe("click",function(e){e.stop(),this.changeImage(this.activeImage+1)}.bindAsEventListener(this)),$("loadingLink").observe("click",function(e){e.stop(),this.end()}.bind(this)),$("bottomNavClose").observe("click",function(e){e.stop(),this.end()}.bind(this));var i=this;(function(){var e="overlay lightbox outerImageContainer imageContainer lightboxImage hoverNav prevLink nextLink loading loadingLink imageDataContainer imageData imageDetails caption numberDisplay bottomNav bottomNavClose";$w(e).each(function(e){i[e]=$(e)})}).defer()},updateImageList:function(){this.updateImageList=Prototype.emptyFunction,document.observe("click",function(e){var t=e.findElement("a[rel^=lightbox]")||e.findElement("area[rel^=lightbox]");t&&(e.stop(),this.start(t))}.bind(this))},start:function(e){$$("select","object","embed").each(function(e){e.style.visibility="hidden"});var t=this.getPageSize();$("overlay").setStyle({width:t[0]+"px",height:t[1]+"px"}),new Effect.Appear(this.overlay,{duration:this.overlayDuration,from:0,to:LightboxOptions.overlayOpacity}),this.imageArray=[];var i=0;if("lightbox"==e.rel)this.imageArray.push([e.href,e.title]);else for(this.imageArray=$$(e.tagName+'[href][rel="'+e.rel+'"]').collect(function(e){return[e.href,e.title]}).uniq();this.imageArray[i][0]!=e.href;)i++;var n=document.viewport.getScrollOffsets(),s=n[1]+document.viewport.getHeight()/10,o=n[0];this.lightbox.setStyle({top:s+"px",left:o+"px"}).show(),this.changeImage(i)},changeImage:function(e){this.activeImage=e,LightboxOptions.animate&&this.loading.show(),this.lightboxImage.hide(),this.hoverNav.hide(),this.prevLink.hide(),this.nextLink.hide(),this.imageDataContainer.setStyle({opacity:1e-4}),this.numberDisplay.hide();var t=new Image;t.onload=function(){this.lightboxImage.src=this.imageArray[this.activeImage][0],this.resizeImageContainer(t.width,t.height)}.bind(this),t.src=this.imageArray[this.activeImage][0]},resizeImageContainer:function(e,t){var i=this.outerImageContainer.getWidth(),n=this.outerImageContainer.getHeight(),s=e+2*LightboxOptions.borderSize,o=t+2*LightboxOptions.borderSize,r=s/i*100,a=o/n*100,l=i-s,c=n-o;0!=c&&new Effect.Scale(this.outerImageContainer,a,{scaleX:!1,duration:this.resizeDuration,queue:"front"}),0!=l&&new Effect.Scale(this.outerImageContainer,r,{scaleY:!1,duration:this.resizeDuration,delay:this.resizeDuration});var u=0;0==c&&0==l&&(u=100,Prototype.Browser.IE&&(u=250)),function(){this.prevLink.setStyle({height:t+"px"}),this.nextLink.setStyle({height:t+"px"}),this.imageDataContainer.setStyle({width:s+"px"}),this.showImage()}.bind(this).delay(u/1e3)},showImage:function(){this.loading.hide(),new Effect.Appear(this.lightboxImage,{duration:this.resizeDuration,queue:"end",afterFinish:function(){this.updateDetails()}.bind(this)}),this.preloadNeighborImages()},updateDetails:function(){""!=this.imageArray[this.activeImage][1]&&this.caption.update(this.imageArray[this.activeImage][1]).show(),this.imageArray.length>1&&this.numberDisplay.update(LightboxOptions.labelImage+" "+(this.activeImage+1)+" "+LightboxOptions.labelOf+"  "+this.imageArray.length).show(),new Effect.Parallel([new Effect.SlideDown(this.imageDataContainer,{sync:!0,duration:this.resizeDuration,from:0,to:1}),new Effect.Appear(this.imageDataContainer,{sync:!0,duration:this.resizeDuration})],{duration:this.resizeDuration,afterFinish:function(){var e=this.getPageSize();this.overlay.setStyle({height:e[1]+"px"}),this.updateNav()}.bind(this)})},updateNav:function(){this.hoverNav.show(),this.activeImage>0&&this.prevLink.show(),this.activeImage<this.imageArray.length-1&&this.nextLink.show(),this.enableKeyboardNav()},enableKeyboardNav:function(){document.observe("keydown",this.keyboardAction)},disableKeyboardNav:function(){document.stopObserving("keydown",this.keyboardAction)},keyboardAction:function(e){var t,i=e.keyCode;t=e.DOM_VK_ESCAPE?e.DOM_VK_ESCAPE:27;var n=String.fromCharCode(i).toLowerCase();n.match(/x|o|c/)||i==t?this.end():"p"==n||37==i?0!=this.activeImage&&(this.disableKeyboardNav(),this.changeImage(this.activeImage-1)):"n"!=n&&39!=i||this.activeImage!=this.imageArray.length-1&&(this.disableKeyboardNav(),this.changeImage(this.activeImage+1))},preloadNeighborImages:function(){var e,t;this.imageArray.length>this.activeImage+1&&(e=new Image,e.src=this.imageArray[this.activeImage+1][0]),this.activeImage>0&&(t=new Image,t.src=this.imageArray[this.activeImage-1][0])},end:function(){this.disableKeyboardNav(),this.lightbox.hide(),new Effect.Fade(this.overlay,{duration:this.overlayDuration}),$$("select","object","embed").each(function(e){e.style.visibility="visible"})},getPageSize:function(){var e,t;window.innerHeight&&window.scrollMaxY?(e=window.innerWidth+window.scrollMaxX,t=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(e=document.body.scrollWidth,t=document.body.scrollHeight):(e=document.body.offsetWidth,t=document.body.offsetHeight);var i,n;return self.innerHeight?(i=document.documentElement.clientWidth?document.documentElement.clientWidth:self.innerWidth,n=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(i=document.documentElement.clientWidth,n=document.documentElement.clientHeight):document.body&&(i=document.body.clientWidth,n=document.body.clientHeight),t<n?pageHeight=n:pageHeight=t,e<i?pageWidth=e:pageWidth=i,[pageWidth,pageHeight]}},document.observe("dom:loaded",function(){new Lightbox}),/*!
 * jQuery JavaScript Library v1.10.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-24T18:39Z
 */
function(e,t){function i(e){var t=e.length,i=ue.type(e);return!ue.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function n(e){var t=Se[e]={};return ue.each(e.match(de)||[],function(e,i){t[i]=!0}),t}function s(e,i,n,s){if(ue.acceptData(e)){var o,r,a=ue.expando,l=e.nodeType,c=l?ue.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(s||c[u].data)||n!==t||"string"!=typeof i)return u||(u=l?e[a]=te.pop()||ue.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),"object"!=typeof i&&"function"!=typeof i||(s?c[u]=ue.extend(c[u],i):c[u].data=ue.extend(c[u].data,i)),r=c[u],s||(r.data||(r.data={}),r=r.data),n!==t&&(r[ue.camelCase(i)]=n),"string"==typeof i?(o=r[i],null==o&&(o=r[ue.camelCase(i)])):o=r,o}}function o(e,t,i){if(ue.acceptData(e)){var n,s,o=e.nodeType,r=o?ue.cache:e,l=o?e[ue.expando]:ue.expando;if(r[l]){if(t&&(n=i?r[l]:r[l].data)){ue.isArray(t)?t=t.concat(ue.map(t,ue.camelCase)):t in n?t=[t]:(t=ue.camelCase(t),t=t in n?[t]:t.split(" ")),s=t.length;for(;s--;)delete n[t[s]];if(i?!a(n):!ue.isEmptyObject(n))return}(i||(delete r[l].data,a(r[l])))&&(o?ue.cleanData([e],!0):ue.support.deleteExpando||r!=r.window?delete r[l]:r[l]=null)}}}function r(e,i,n){if(n===t&&1===e.nodeType){var s="data-"+i.replace(ke,"-$1").toLowerCase();if(n=e.getAttribute(s),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?ue.parseJSON(n):n)}catch(e){}ue.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!ue.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Q.activeElement}catch(e){}}function h(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,i){if(ue.isFunction(t))return ue.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ue.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Re.test(t))return ue.filter(t,e,i);t=ue.filter(t,e)}return ue.grep(e,function(e){return ue.inArray(e,t)>=0!==i})}function p(e){var t=Ye.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return ue.nodeName(e,"table")&&ue.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ue.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i,n=0;null!=(i=e[n]);n++)ue._data(i,"globalEval",!t||ue._data(t[n],"globalEval"))}function b(e,t){if(1===t.nodeType&&ue.hasData(e)){var i,n,s,o=ue._data(e),r=ue._data(t,o),a=o.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,s=a[i].length;n<s;n++)ue.event.add(t,i,a[i][n])}r.data&&(r.data=ue.extend({},r.data))}}function y(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ue.support.noCloneEvent&&t[ue.expando]){s=ue._data(t);for(n in s.events)ue.removeEvent(t,n,s.handle);t.removeAttribute(ue.expando)}"script"===i&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.support.html5Clone&&e.innerHTML&&!ue.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function _(e,i){var n,s,o=0,r=typeof e.getElementsByTagName!==V?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==V?e.querySelectorAll(i||"*"):t;if(!r)for(r=[],n=e.childNodes||e;null!=(s=n[o]);o++)!i||ue.nodeName(s,i)?r.push(s):ue.merge(r,_(s,i));return i===t||i&&ue.nodeName(e,i)?ue.merge([e],r):r}function x(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=Ct.length;s--;)if(t=Ct[s]+i,t in e)return t;return n}function E(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)}function C(e,t){for(var i,n,s,o=[],r=0,a=e.length;r<a;r++)n=e[r],n.style&&(o[r]=ue._data(n,"olddisplay"),i=n.style.display,t?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&E(n)&&(o[r]=ue._data(n,"olddisplay",O(n.nodeName)))):o[r]||(s=E(n),(i&&"none"!==i||!s)&&ue._data(n,"olddisplay",s?i:ue.css(n,"display"))));for(r=0;r<a;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[r]||"":"none"));return e}function S(e,t,i){var n=vt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function T(e,t,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,r=0;o<4;o+=2)"margin"===i&&(r+=ue.css(e,i+Et[o],!0,s)),n?("content"===i&&(r-=ue.css(e,"padding"+Et[o],!0,s)),"margin"!==i&&(r-=ue.css(e,"border"+Et[o]+"Width",!0,s))):(r+=ue.css(e,"padding"+Et[o],!0,s),"padding"!==i&&(r+=ue.css(e,"border"+Et[o]+"Width",!0,s)));return r}function k(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=ut(e),r=ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,o);if(s<=0||null==s){if(s=ht(e,t,o),(s<0||null==s)&&(s=e.style[t]),bt.test(s))return s;n=r&&(ue.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+T(e,t,i||(r?"border":"content"),n,o)+"px"}function O(e){var t=Q,i=_t[e];return i||(i=N(e,t),"none"!==i&&i||(ct=(ct||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=N(e,t),ct.detach()),_t[e]=i),i}function N(e,t){var i=ue(t.createElement(e)).appendTo(t.body),n=ue.css(i[0],"display");return i.remove(),n}function D(e,t,i,n){var s;if(ue.isArray(t))ue.each(t,function(t,s){i||Tt.test(e)?n(e,s):D(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==ue.type(t))n(e,t);else for(s in t)D(e+"["+s+"]",t[s],i,n)}function A(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,o=t.toLowerCase().match(de)||[];if(ue.isFunction(i))for(;n=o[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function j(e,t,i,n){function s(a){var l;return o[a]=!0,ue.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}var o={},r=e===Wt;return s(t.dataTypes[0])||!o["*"]&&s("*")}function P(e,i){var n,s,o=ue.ajaxSettings.flatOptions||{};for(s in i)i[s]!==t&&((o[s]?e:n||(n={}))[s]=i[s]);return n&&ue.extend(!0,e,n),e}function M(e,i,n){for(var s,o,r,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||i.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){c.unshift(a);break}if(c[0]in n)r=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){r=a;break}s||(s=a)}r=r||s}if(r)return r!==c[0]&&c.unshift(r),n[r]}function I(e,t,i,n){var s,o,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=u.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(s in c)if(a=s.split(" "),a[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[s]:c[s]!==!0&&(o=a[0],u.unshift(a[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function L(){try{return new e.XMLHttpRequest}catch(e){}}function H(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function F(){return setTimeout(function(){Jt=t}),Jt=ue.now()}function $(e,t,i){for(var n,s=(ni[t]||[]).concat(ni["*"]),o=0,r=s.length;o<r;o++)if(n=s[o].call(i,t,e))return n}function z(e,t,i){var n,s,o=0,r=ii.length,a=ue.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Jt||F(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,o=1-n,r=0,l=c.tweens.length;r<l;r++)c.tweens[r].run(o);return a.notifyWith(e,[c,o,i]),o<1&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Jt||F(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ue.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);o<r;o++)if(n=ii[o].call(c,e,u,c.opts))return n;return ue.map(u,$,c),ue.isFunction(c.opts.start)&&c.opts.start.call(e,c),ue.fx.timer(ue.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e,t){var i,n,s,o,r;for(i in e)if(n=ue.camelCase(i),s=t[n],o=e[i],ue.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),r=ue.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=s)}else t[n]=s}function R(e,t,i){var n,s,o,r,a,l,c=this,u={},h=e.style,d=e.nodeType&&E(e),p=ue._data(e,"fxshow");i.queue||(a=ue._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ue.css(e,"display")&&"none"===ue.css(e,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==O(e.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],Zt.exec(s)){if(delete t[n],o=o||"toggle"===s,s===(d?"hide":"show"))continue;u[n]=p&&p[n]||ue.style(e,n)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(d=p.hidden):p=ue._data(e,"fxshow",{}),o&&(p.hidden=!d),d?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;ue._removeData(e,"fxshow");for(t in u)ue.style(e,t,u[t])});for(n in u)r=$(d?p[n]:0,n,c),n in p||(p[n]=r.start,d&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function W(e,t,i,n,s){return new W.prototype.init(e,t,i,n,s)}function q(e,t){var i,n={height:e},s=0;for(t=t?1:0;s<4;s+=2-t)i=Et[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function U(e){return ue.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Y,K,V=typeof t,X=e.location,Q=e.document,J=Q.documentElement,G=e.jQuery,Z=e.$,ee={},te=[],ie="1.10.0",ne=te.concat,se=te.push,oe=te.slice,re=te.indexOf,ae=ee.toString,le=ee.hasOwnProperty,ce=ie.trim,ue=function(e,t){return new ue.fn.init(e,t,K)},he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,be=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ye=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_e=/^-ms-/,xe=/-([\da-z])/gi,we=function(e,t){return t.toUpperCase()},Ee=function(e){(Q.addEventListener||"load"===e.type||"complete"===Q.readyState)&&(Ce(),ue.ready())},Ce=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",Ee,!1),e.removeEventListener("load",Ee,!1)):(Q.detachEvent("onreadystatechange",Ee),e.detachEvent("onload",Ee))};ue.fn=ue.prototype={jquery:ie,constructor:ue,init:function(e,i,n){var s,o;if(!e)return this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:fe.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1]){if(i=i instanceof ue?i[0]:i,ue.merge(this,ue.parseHTML(s[1],i&&i.nodeType?i.ownerDocument||i:Q,!0)),me.test(s[1])&&ue.isPlainObject(i))for(s in i)ue.isFunction(this[s])?this[s](i[s]):this.attr(s,i[s]);return this}if(o=Q.getElementById(s[2]),o&&o.parentNode){if(o.id!==s[2])return n.find(e);this.length=1,this[0]=o}return this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ue.each(this,e,t)},ready:function(e){return ue.ready.promise().done(e),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},map:function(e){return this.pushStack(ue.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:se,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var e,i,n,s,o,r,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ue.isFunction(a)||(a={}),c===l&&(a=this,--l);l<c;l++)if(null!=(o=arguments[l]))for(s in o)e=a[s],n=o[s],a!==n&&(u&&n&&(ue.isPlainObject(n)||(i=ue.isArray(n)))?(i?(i=!1,r=e&&ue.isArray(e)?e:[]):r=e&&ue.isPlainObject(e)?e:{},a[s]=ue.extend(u,r,n)):n!==t&&(a[s]=n));return a},ue.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ue&&(e.$=Z),t&&e.jQuery===ue&&(e.jQuery=G),ue},isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){if(e===!0?!--ue.readyWait:!ue.isReady){if(!Q.body)return setTimeout(ue.ready);ue.isReady=!0,e!==!0&&--ue.readyWait>0||(Y.resolveWith(Q,[ue]),ue.fn.trigger&&ue(Q).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray||function(e){return"array"===ue.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?ee[ae.call(e)]||"object":typeof e},isPlainObject:function(e){var i;if(!e||"object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ue.support.ownLast)for(i in e)return le.call(e,i);for(i in e);return i===t||le.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Q;var n=me.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=ue.buildFragment([e],t,s),s&&ue(s).remove(),ue.merge([],n.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ue.trim(t),t&&ge.test(t.replace(be,"@").replace(ye,"]").replace(ve,"")))?new Function("return "+t)():void ue.error("Invalid JSON: "+t)},parseXML:function(i){var n,s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(e){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&ue.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_e,"ms-").replace(xe,we)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,o=0,r=e.length,a=i(e);if(n){if(a)for(;o<r&&(s=t.apply(e[o],n),s!==!1);o++);else for(o in e)if(s=t.apply(e[o],n),s===!1)break}else if(a)for(;o<r&&(s=t.call(e[o],o,e[o]),s!==!1);o++);else for(o in e)if(s=t.call(e[o],o,e[o]),s===!1)break;return e},trim:ce&&!ce.call("\ufeff\xa0")?function(e){return null==e?"":ce.call(e)}:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ue.merge(n,"string"==typeof e?[e]:e):se.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(re)return re.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,s=e.length,o=0;if("number"==typeof n)for(;o<n;o++)e[s++]=i[o];else for(;i[o]!==t;)e[s++]=i[o++];return e.length=s,e},grep:function(e,t,i){var n,s=[],o=0,r=e.length;for(i=!!i;o<r;o++)n=!!t(e[o],o),i!==n&&s.push(e[o]);return s},map:function(e,t,n){var s,o=0,r=e.length,a=i(e),l=[];if(a)for(;o<r;o++)s=t(e[o],o,n),null!=s&&(l[l.length]=s);else for(o in e)s=t(e[o],o,n),null!=s&&(l[l.length]=s);return ne.apply([],l)},guid:1,proxy:function(e,i){var n,s,o;return"string"==typeof i&&(o=e[i],i=e,e=o),ue.isFunction(e)?(n=oe.call(arguments,2),s=function(){return e.apply(i||this,n.concat(oe.call(arguments)))},s.guid=e.guid=e.guid||ue.guid++,s):t},access:function(e,i,n,s,o,r,a){var l=0,c=e.length,u=null==n;if("object"===ue.type(n)){o=!0;for(l in n)ue.access(e,i,l,n[l],!0,r,a)}else if(s!==t&&(o=!0,ue.isFunction(s)||(a=!0),u&&(a?(i.call(e,s),i=null):(u=i,i=function(e,t,i){return u.call(ue(e),i)})),i))for(;l<c;l++)i(e[l],n,a?s:s.call(e[l],l,i(e[l],n)));return o?e:u?i.call(e):c?i(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var s,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];s=i.apply(e,n||[]);for(o in t)e.style[o]=r[o];return s}}),ue.ready.promise=function(t){if(!Y)if(Y=ue.Deferred(),"complete"===Q.readyState)setTimeout(ue.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",Ee,!1),e.addEventListener("load",Ee,!1);else{Q.attachEvent("onreadystatechange",Ee),e.attachEvent("onload",Ee);var i=!1;try{i=null==e.frameElement&&Q.documentElement}catch(e){}i&&i.doScroll&&!function e(){if(!ue.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}Ce(),ue.ready()}}()}return Y.promise(t)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()}),K=ue(Q),/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-15
 */
function(e,t){function i(e,t,i,n){var s,o,r,a,l,c,u,h,d,p;if((t?t.ownerDocument||t:q)!==L&&I(t),t=t||L,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(F&&!n){if(s=Ee.exec(e))if(r=s[1]){if(9===a){if(o=t.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&R(t,o)&&o.id===r)return i.push(o),i}else{if(s[2])return se.apply(i,t.getElementsByTagName(e)),i;if((r=s[3])&&k.getElementsByClassName&&t.getElementsByClassName)return se.apply(i,t.getElementsByClassName(r)),i}if(k.qsa&&(!$||!$.test(e))){if(h=u=W,d=t,p=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=m(e),(u=t.getAttribute("id"))?h=u.replace(Te,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+g(c[l]);d=ve.test(e)&&t.parentNode||t,p=c.join(",")}if(p)try{return se.apply(i,d.querySelectorAll(p)),i}catch(e){}finally{u||t.removeAttribute("id")}}}return C(e.replace(fe,"$1"),t,i,n)}function n(e){return we.test(e+"")}function s(){function e(i,n){return t.push(i+=" ")>N.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function o(e){return e[W]=!0,e}function r(e){var t=L.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t,i){e=e.split("|");for(var n,s=e.length,o=i?null:t;s--;)(n=N.attrHandle[e[s]])&&n!==t||(N.attrHandle[e[s]]=o)}function l(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}function c(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function u(e){if("input"===e.nodeName.toLowerCase())return e.defaultValue}function h(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Z)-(~e.sourceIndex||Z);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function d(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function p(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function f(e){return o(function(t){return t=+t,o(function(i,n){for(var s,o=e([],i.length,t),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function m(e,t){var n,s,o,r,a,l,c,u=V[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=N.preFilter;a;){n&&!(s=me.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),n=!1,(s=ge.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(fe," ")}),a=a.slice(n.length));for(r in N.filter)!(s=xe[r].exec(a))||c[r]&&!(s=c[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):V(e,l).slice(0)}function g(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function v(e,t,i){var n=t.dir,s=i&&"parentNode"===n,o=Y++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,o)}:function(t,i,r){var a,l,c,u=U+" "+o;if(r){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(c=t[W]||(t[W]={}),(l=c[n])&&l[0]===u){if((a=l[1])===!0||a===O)return a===!0}else if(l=c[n]=[u],l[1]=e(t,i,r)||O,l[1]===!0)return!0}}function b(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function y(e,t,i,n,s){for(var o,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(i&&!i(o,n,s)||(r.push(o),c&&t.push(a)));return r}function _(e,t,i,n,s,r){return n&&!n[W]&&(n=_(n)),s&&!s[W]&&(s=_(s,r)),o(function(o,r,a,l){var c,u,h,d=[],p=[],f=r.length,m=o||E(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:y(m,d,e,a,l),v=i?s||(o?e:f||n)?[]:r:g;if(i&&i(g,v,a,l),n)for(c=y(v,p),n(c,[],a,l),u=c.length;u--;)(h=c[u])&&(v[p[u]]=!(g[p[u]]=h));if(o){if(s||e){if(s){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(g[u]=h);s(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=s?re.call(o,h):d[u])>-1&&(o[c]=!(r[c]=h))}}else v=y(v===r?v.splice(f,v.length):v),s?s(null,r,v,l):se.apply(r,v)})}function x(e){for(var t,i,n,s=e.length,o=N.relative[e[0].type],r=o||N.relative[" "],a=o?1:0,l=v(function(e){return e===t},r,!0),c=v(function(e){return re.call(t,e)>-1},r,!0),u=[function(e,i,n){return!o&&(n||i!==P)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];a<s;a++)if(i=N.relative[e[a].type])u=[v(b(u),i)];else{if(i=N.filter[e[a].type].apply(null,e[a].matches),i[W]){for(n=++a;n<s&&!N.relative[e[n].type];n++);return _(a>1&&b(u),a>1&&g(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(fe,"$1"),i,a<n&&x(e.slice(a,n)),n<s&&x(e=e.slice(n)),n<s&&g(e))}u.push(i)}return b(u)}function w(e,t){var n=0,s=t.length>0,r=e.length>0,a=function(o,a,l,c,u){var h,d,p,f=[],m=0,g="0",v=o&&[],b=null!=u,_=P,x=o||r&&N.find.TAG("*",u&&a.parentNode||a),w=U+=null==_?1:Math.random()||.1;for(b&&(P=a!==L&&a,O=n);null!=(h=x[g]);g++){if(r&&h){for(d=0;p=e[d++];)if(p(h,a,l)){c.push(h);break}b&&(U=w,O=++n)}s&&((h=!p&&h)&&m--,o&&v.push(h))}if(m+=g,s&&g!==m){for(d=0;p=t[d++];)p(v,f,a,l);if(o){if(m>0)for(;g--;)v[g]||f[g]||(f[g]=ie.call(c));f=y(f)}se.apply(c,f),b&&!o&&f.length>0&&m+t.length>1&&i.uniqueSort(c)}return b&&(U=w,P=_),v};return s?o(a):a}function E(e,t,n){for(var s=0,o=t.length;s<o;s++)i(e,t[s],n);return n}function C(e,t,i,n){var s,o,r,a,l,c=m(e);if(!n&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&k.getById&&9===t.nodeType&&F&&N.relative[o[1].type]){if(t=(N.find.ID(r.matches[0].replace(ke,Oe),t)||[])[0],!t)return i;e=e.slice(o.shift().value.length)}for(s=xe.needsContext.test(e)?0:o.length;s--&&(r=o[s],!N.relative[a=r.type]);)if((l=N.find[a])&&(n=l(r.matches[0].replace(ke,Oe),ve.test(o[0].type)&&t.parentNode||t))){if(o.splice(s,1),e=n.length&&g(o),!e)return se.apply(i,n),i;break}}return j(e,c)(n,t,!F,i,ve.test(e)),i}function S(){}var T,k,O,N,D,A,j,P,M,I,L,H,F,$,z,B,R,W="sizzle"+-new Date,q=e.document,U=0,Y=0,K=s(),V=s(),X=s(),Q=!1,J=function(){return 0},G=typeof t,Z=1<<31,ee={}.hasOwnProperty,te=[],ie=te.pop,ne=te.push,se=te.push,oe=te.slice,re=te.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},ae="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",le="[\\x20\\t\\r\\n\\f]",ce="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",he=ce.replace("w","w#"),de="\\["+le+"*("+ce+")"+le+"*(?:([*^$|!~]?=)"+le+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+he+")|)|)"+le+"*\\]",pe=":("+ce+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+de.replace(3,8)+")*)|.*)\\)|)",fe=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g"),me=new RegExp("^"+le+"*,"+le+"*"),ge=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),ve=new RegExp(le+"*[+~]"),be=new RegExp("="+le+"*([^\\]'\"]*)"+le+"*\\]","g"),ye=new RegExp(pe),_e=new RegExp("^"+he+"$"),xe={ID:new RegExp("^#("+ce+")"),CLASS:new RegExp("^\\.("+ce+")"),TAG:new RegExp("^("+ce.replace("w","w*")+")"),ATTR:new RegExp("^"+de),PSEUDO:new RegExp("^"+pe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+ae+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},we=/^[^{]+\{\s*\[native \w/,Ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ce=/^(?:input|select|textarea|button)$/i,Se=/^h\d$/i,Te=/'|\\/g,ke=new RegExp("\\\\([\\da-f]{1,6}"+le+"?|("+le+")|.)","ig"),Oe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{se.apply(te=oe.call(q.childNodes),q.childNodes),te[q.childNodes.length].nodeType}catch(e){se={apply:te.length?function(e,t){ne.apply(e,oe.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}A=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},k=i.support={},I=i.setDocument=function(e){var t=e?e.ownerDocument||e:q;return t!==L&&9===t.nodeType&&t.documentElement?(L=t,H=t.documentElement,F=!A(t),k.attributes=r(function(e){return e.innerHTML="<a href='#'></a>",a("type|href|height|width",c,"#"===e.firstChild.getAttribute("href")),a(ae,l,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),k.input=r(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),a("value",u,k.attributes&&k.input),k.getElementsByTagName=r(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=r(function(e){return H.appendChild(e).id=W,!t.getElementsByName||!t.getElementsByName(W).length}),k.getById?(N.find.ID=function(e,t){if(typeof t.getElementById!==G&&F){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},N.filter.ID=function(e){var t=e.replace(ke,Oe);return function(e){return e.getAttribute("id")===t}}):(delete N.find.ID,N.filter.ID=function(e){var t=e.replace(ke,Oe);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}}),N.find.TAG=k.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==G)return t.getElementsByTagName(e)}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},N.find.CLASS=k.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==G&&F)return t.getElementsByClassName(e)},z=[],$=[],(k.qsa=n(t.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||$.push("\\["+le+"*(?:value|"+ae+")"),e.querySelectorAll(":checked").length||$.push(":checked")}),r(function(e){var i=t.createElement("input");i.setAttribute("type","hidden"),e.appendChild(i).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&$.push("[*^$]="+le+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),$.push(",.*:")})),(k.matchesSelector=n(B=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&r(function(e){k.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),z.push("!=",pe)}),$=$.length&&new RegExp($.join("|")),z=z.length&&new RegExp(z.join("|")),R=n(H.contains)||H.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k.sortDetached=r(function(e){return 1&e.compareDocumentPosition(t.createElement("div"))}),J=H.compareDocumentPosition?function(e,i){if(e===i)return Q=!0,0;var n=i.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(i);return n?1&n||!k.sortDetached&&i.compareDocumentPosition(e)===n?e===t||R(q,e)?-1:i===t||R(q,i)?1:M?re.call(M,e)-re.call(M,i):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,i){var n,s=0,o=e.parentNode,r=i.parentNode,a=[e],l=[i];if(e===i)return Q=!0,0;if(!o||!r)return e===t?-1:i===t?1:o?-1:r?1:M?re.call(M,e)-re.call(M,i):0;if(o===r)return h(e,i);for(n=e;n=n.parentNode;)a.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;a[s]===l[s];)s++;return s?h(a[s],l[s]):a[s]===q?-1:l[s]===q?1:0},t):L},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&I(e),t=t.replace(be,"='$1']"),k.matchesSelector&&F&&(!z||!z.test(t))&&(!$||!$.test(t)))try{var n=B.call(e,t);if(n||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return i(t,L,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==L&&I(e),R(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==L&&I(e);var n=N.attrHandle[i.toLowerCase()],s=n&&ee.call(N.attrHandle,i.toLowerCase())?n(e,i,!F):t;return s===t?k.attributes||!F?e.getAttribute(i):(s=e.getAttributeNode(i))&&s.specified?s.value:null:s},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,s=0;if(Q=!k.detectDuplicates,M=!k.sortStable&&e.slice(0),e.sort(J),Q){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return e},D=i.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=D(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=D(t);return i},N=i.selectors={cacheLength:50,createPseudo:o,match:xe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ke,Oe),e[3]=(e[4]||e[5]||"").replace(ke,Oe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return xe.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&ye.test(n)&&(i=m(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ke,Oe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=K[e+" "];return t||(t=new RegExp("(^|"+le+")"+e+"("+le+"|$)"))&&K(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(s){var o=i.attr(s,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,s){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,u,h,d,p,f,m=o!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(u=g[W]||(g[W]={}),c=u[e]||[],p=c[0]===U&&c[1],d=c[0]===U&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[U,p,d];break}}else if(b&&(c=(t[W]||(t[W]={}))[e])&&c[0]===U)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(b&&((h[W]||(h[W]={}))[e]=[U,d]),h!==t)););return d-=s,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,t){var n,s=N.pseudos[e]||N.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[W]?s(t):s.length>1?(n=[e,e,"",t],N.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,i){for(var n,o=s(e,t),r=o.length;r--;)n=re.call(e,o[r]),e[n]=!(i[n]=o[r])}):function(e){return s(e,0,n)}):s}},pseudos:{not:o(function(e){var t=[],i=[],n=j(e.replace(fe,"$1"));return n[W]?o(function(e,t,i,s){for(var o,r=n(e,null,s,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,s,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:o(function(e){return function(t){return i(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||D(t)).indexOf(e)>-1}}),lang:o(function(e){return _e.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(ke,Oe).toLowerCase(),function(t){var i;do if(i=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return Se.test(e.nodeName)},input:function(e){return Ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:f(function(){return[0]}),last:f(function(e,t){return[t-1]}),eq:f(function(e,t,i){return[i<0?i+t:i]}),even:f(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:f(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:f(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:f(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[T]=d(T);for(T in{submit:!0,reset:!0})N.pseudos[T]=p(T);j=i.compile=function(e,t){var i,n=[],s=[],o=X[e+" "];if(!o){for(t||(t=m(e)),i=t.length;i--;)o=x(t[i]),o[W]?n.push(o):s.push(o);o=X(e,w(s,n))}return o},N.pseudos.nth=N.pseudos.eq,S.prototype=N.filters=N.pseudos,N.setFilters=new S,k.sortStable=W.split("").sort(J).join("")===W,I(),[0,0].sort(J),k.detectDuplicates=Q,ue.find=i,ue.expr=i.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=i.uniqueSort,ue.text=i.getText,ue.isXMLDoc=i.isXML,ue.contains=i.contains}(e);var Se={};ue.Callbacks=function(e){e="string"==typeof e?Se[e]||n(e):ue.extend({},e);var i,s,o,r,a,l,c=[],u=!e.once&&[],h=function(t){for(s=e.memory&&t,o=!0,a=l||0,l=0,r=c.length,i=!0;c&&a<r;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){s=!1;break}i=!1,c&&(u?u.length&&h(u.shift()):s?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function t(i){ue.each(i,function(i,n){var s=ue.type(n);"function"===s?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==s&&t(n)})}(arguments),i?r=c.length:s&&(l=t,h(s))}return this},remove:function(){return c&&ue.each(arguments,function(e,t){for(var n;(n=ue.inArray(t,c,n))>-1;)c.splice(n,1),i&&(n<=r&&r--,n<=a&&a--)}),this},has:function(e){return e?ue.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=u=s=t,this},disabled:function(){return!c},lock:function(){return u=t,s||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||o&&!u||(i?u.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(i){ue.each(t,function(t,o){var r=o[0],a=ue.isFunction(e[t])&&e[t];s[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,n):n}},s={};return n.pipe=n.then,ue.each(t,function(e,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,o=oe.call(arguments),r=o.length,a=1!==r||e&&ue.isFunction(e.promise)?r:0,l=1===a?e:ue.Deferred(),c=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?oe.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=new Array(r),i=new Array(r),n=new Array(r);s<r;s++)o[s]&&ue.isFunction(o[s].promise)?o[s].promise().done(c(s,n,o)).fail(l.reject).progress(c(s,i,t)):--a;return a||l.resolveWith(n,o),l.promise()}}),ue.support=function(t){var i,n,s,o,r,a,l,c,u,h=Q.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*")||[],n=h.getElementsByTagName("a")[0],!n||!n.style||!i.length)return t;o=Q.createElement("select"),a=o.appendChild(Q.createElement("option")),s=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==h.className,t.leadingWhitespace=3===h.firstChild.nodeType,t.tbody=!h.getElementsByTagName("tbody").length,t.htmlSerialize=!!h.getElementsByTagName("link").length,t.style=/top/.test(n.getAttribute("style")),t.hrefNormalized="/a"===n.getAttribute("href"),t.opacity=/^0.5/.test(n.style.opacity),t.cssFloat=!!n.style.cssFloat,t.checkOn=!!s.value,t.optSelected=a.selected,t.enctype=!!Q.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(e){t.deleteExpando=!1}s=Q.createElement("input"),s.setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),r=Q.createDocumentFragment(),r.appendChild(s),t.appendChecked=s.checked,t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip;for(u in ue(t))break;return t.ownLast="0"!==u,ue(function(){var i,n,s,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=Q.getElementsByTagName("body")[0];r&&(i=Q.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=h.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&0===s[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===h.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,n=h.appendChild(Q.createElement("div")),n.style.cssText=h.style.cssText=o,n.style.marginRight=n.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==V&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(i),i=h=s=n=null)}),i=o=r=a=n=s=null,t}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ke=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ue.cache[e[ue.expando]]:e[ue.expando],!!e&&!a(e)},data:function(e,t,i){return s(e,t,i)},removeData:function(e,t){return o(e,t)},_data:function(e,t,i){return s(e,t,i,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ue.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ue.fn.extend({data:function(e,i){var n,s,o=null,a=0,l=this[0];if(e===t){if(this.length&&(o=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(n=l.attributes;a<n.length;a++)s=n[a].name,0===s.indexOf("data-")&&(s=ue.camelCase(s.slice(5)),r(l,s,o[s]));ue._data(l,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ue.data(this,e)}):arguments.length>1?this.each(function(){ue.data(this,e,i)}):l?r(l,e,ue.data(l,e)):null},removeData:function(e){return this.each(function(){ue.removeData(this,e)})}}),ue.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ue._data(e,t),i&&(!n||ue.isArray(i)?n=ue._data(e,t,ue.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=ue.queue(e,t),n=i.length,s=i.shift(),o=ue._queueHooks(e,t),r=function(){ue.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),o.cur=s,s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ue._data(e,i)||ue._data(e,i,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(e,t+"queue"),ue._removeData(e,i)})})}}),ue.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?ue.queue(this[0],e):i===t?this:this.each(function(){var t=ue.queue(this,e,i);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},delay:function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,s=1,o=ue.Deferred(),r=this,a=this.length,l=function(){--s||o.resolveWith(r,[r])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=ue._data(r[a],e+"queueHooks"),n&&n.empty&&(s++,n.empty.add(l));return l(),o.promise(i)}});var Oe,Ne,De=/[\t\r\n\f]/g,Ae=/\r/g,je=/^(?:input|select|textarea|button|object)$/i,Pe=/^(?:a|area)$/i,Me=/^(?:checked|selected)$/i,Ie=ue.support.getSetAttribute,Le=ue.support.input;ue.fn.extend({attr:function(e,t){return ue.access(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})},prop:function(e,t){return ue.access(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ue.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,n,s,o,r=0,a=this.length,l="string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(de)||[];r<a;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):" ")){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");i.className=ue.trim(n)}return this},removeClass:function(e){var t,i,n,s,o,r=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(de)||[];r<a;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):"")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");i.className=e?ue.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return ue.isFunction(e)?this.each(function(i){ue(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var s,o=0,r=ue(this),a=t,l=e.match(de)||[];s=l[o++];)a=n?a:!r.hasClass(s),r[a?"addClass":"removeClass"](s);else i!==V&&"boolean"!==i||(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(De," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,s,o=this[0];{if(arguments.length)return s=ue.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=s?e.call(this,i,ue(this).val()):e,null==o?o="":"number"==typeof o?o+="":ue.isArray(o)&&(o=ue.map(o,function(e){return null==e?"":e+""})),n=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=ue.valHooks[o.type]||ue.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(Ae,""):null==i?"":i)}}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,o="select-one"===e.type||s<0,r=o?null:[],a=o?s+1:n.length,l=s<0?a:o?s:0;l<a;l++)if(i=n[l],(i.selected||l===s)&&(ue.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ue.nodeName(i.parentNode,"optgroup"))){if(t=ue(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,o=ue.makeArray(t),r=s.length;r--;)n=s[r],(n.selected=ue.inArray(ue(n).val(),o)>=0)&&(i=!0);return i||(e.selectedIndex=-1),o}}},attr:function(e,i,n){var s,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===V?ue.prop(e,i,n):(1===r&&ue.isXMLDoc(e)||(i=i.toLowerCase(),s=ue.attrHooks[i]||(ue.expr.match.bool.test(i)?Ne:Oe)),n===t?s&&"get"in s&&null!==(o=s.get(e,i))?o:(o=ue.find.attr(e,i),null==o?t:o):null!==n?s&&"set"in s&&(o=s.set(e,n,i))!==t?o:(e.setAttribute(i,n+""),n):void ue.removeAttr(e,i))},removeAttr:function(e,t){var i,n,s=0,o=t&&t.match(de);if(o&&1===e.nodeType)for(;i=o[s++];)n=ue.propFix[i]||i,ue.expr.match.bool.test(i)?Le&&Ie||!Me.test(i)?e[n]=!1:e[ue.camelCase("default-"+i)]=e[n]=!1:ue.attr(e,i,""),e.removeAttribute(Ie?i:n)},attrHooks:{type:{set:function(e,t){if(!ue.support.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var s,o,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!ue.isXMLDoc(e),r&&(i=ue.propFix[i]||i,o=ue.propHooks[i]),n!==t?o&&"set"in o&&(s=o.set(e,n,i))!==t?s:e[i]=n:o&&"get"in o&&null!==(s=o.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):je.test(e.nodeName)||Pe.test(e.nodeName)&&e.href?0:-1}}}}),Ne={set:function(e,t,i){return t===!1?ue.removeAttr(e,i):Le&&Ie||!Me.test(i)?e.setAttribute(!Ie&&ue.propFix[i]||i,i):e[ue.camelCase("default-"+i)]=e[i]=!0,i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,i){var n=ue.expr.attrHandle[i]||ue.find.attr;ue.expr.attrHandle[i]=Le&&Ie||!Me.test(i)?function(e,i,s){var o=ue.expr.attrHandle[i],r=s?t:(ue.expr.attrHandle[i]=t)!=n(e,i,s)?i.toLowerCase():null;return ue.expr.attrHandle[i]=o,r}:function(e,i,n){return n?t:e[ue.camelCase("default-"+i)]?i.toLowerCase():null}}),Le&&Ie||(ue.attrHooks.value={set:function(e,t,i){return ue.nodeName(e,"input")?void(e.defaultValue=t):Oe&&Oe.set(e,t,i)}}),Ie||(Oe={set:function(e,i,n){var s=e.getAttributeNode(n);return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(n)),s.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(e,i,n){var s;return n?t:(s=e.getAttributeNode(i))&&""!==s.value?s.value:null},ue.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&n.specified?n.value:t},set:Oe.set},ue.attrHooks.contenteditable={set:function(e,t,i){Oe.set(e,""!==t&&t,i)}},ue.each(["width","height"],function(e,t){ue.attrHooks[t]={set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(e,t){ue.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,
t.parentNode&&t.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,t){if(ue.isArray(t))return e.checked=ue.inArray(ue(e).val(),t)>=0}},ue.support.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var He=/^(?:input|select|textarea)$/i,Fe=/^key/,$e=/^(?:mouse|contextmenu)|click/,ze=/^(?:focusinfocus|focusoutblur)$/,Be=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(e,i,n,s,o){var r,a,l,c,u,h,d,p,f,m,g,v=ue._data(e);if(v){for(n.handler&&(c=n,n=c.handler,o=c.selector),n.guid||(n.guid=ue.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(e){return typeof ue===V||e&&ue.event.triggered===e.type?t:ue.event.dispatch.apply(h.elem,arguments)},h.elem=e),i=(i||"").match(de)||[""],l=i.length;l--;)r=Be.exec(i[l])||[],f=g=r[1],m=(r[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},d=ue.extend({type:f,origType:g,data:s,handler:n,guid:n.guid,selector:o,needsContext:o&&ue.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,s,m,h)!==!1||(e.addEventListener?e.addEventListener(f,h,!1):e.attachEvent&&e.attachEvent("on"+f,h))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ue.event.global[f]=!0);e=null}},remove:function(e,t,i,n,s){var o,r,a,l,c,u,h,d,p,f,m,g=ue.hasData(e)&&ue._data(e);if(g&&(u=g.events)){for(t=(t||"").match(de)||[""],c=t.length;c--;)if(a=Be.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)r=d[o],!s&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(d.splice(o,1),r.selector&&d.delegateCount--,h.remove&&h.remove.call(e,r));l&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||ue.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(e,p+t[c],i,n,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(e,"events"))}},trigger:function(i,n,s,o){var r,a,l,c,u,h,d,p=[s||Q],f=le.call(i,"type")?i.type:i,m=le.call(i,"namespace")?i.namespace.split("."):[];if(l=h=s=s||Q,3!==s.nodeType&&8!==s.nodeType&&!ze.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=f.indexOf(":")<0&&"on"+f,i=i[ue.expando]?i:new ue.Event(f,"object"==typeof i&&i),i.isTrigger=o?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=s),n=null==n?[i]:ue.makeArray(n,[i]),u=ue.event.special[f]||{},o||!u.trigger||u.trigger.apply(s,n)!==!1)){if(!o&&!u.noBubble&&!ue.isWindow(s)){for(c=u.delegateType||f,ze.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(s.ownerDocument||Q)&&p.push(h.defaultView||h.parentWindow||e)}for(d=0;(l=p[d++])&&!i.isPropagationStopped();)i.type=d>1?c:u.bindType||f,r=(ue._data(l,"events")||{})[i.type]&&ue._data(l,"handle"),r&&r.apply(l,n),r=a&&l[a],r&&ue.acceptData(l)&&r.apply&&r.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!o&&!i.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),n)===!1)&&ue.acceptData(s)&&a&&s[f]&&!ue.isWindow(s)){h=s[a],h&&(s[a]=null),ue.event.triggered=f;try{s[f]()}catch(e){}ue.event.triggered=t,h&&(s[a]=h)}return i.result}},dispatch:function(e){e=ue.event.fix(e);var i,n,s,o,r,a=[],l=oe.call(arguments),c=(ue._data(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ue.event.handlers.call(this,e,c),i=0;(o=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(s.namespace)||(e.handleObj=s,e.data=s.data,n=((ue.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,s,o,r,a=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],r=0;r<l;r++)s=i[r],n=s.selector+" ",o[n]===t&&(o[n]=s.needsContext?ue(n,this).index(c)>=0:ue.find(n,this,null,[c]).length),o[n]&&o.push(s);o.length&&a.push({elem:c,handlers:o})}return l<i.length&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(e){if(e[ue.expando])return e;var t,i,n,s=e.type,o=e,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=$e.test(s)?this.mouseHooks:Fe.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new ue.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||Q),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,o,r=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(s=e.target.ownerDocument||Q,o=s.documentElement,n=s.body,e.pageX=i.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=ue.extend(new ue.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ue.event.trigger(s,null,t):ue.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},ue.removeEvent=Q.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===V&&(e[n]=null),e.detachEvent(n,i))},ue.Event=function(e,t){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||ue.now(),void(this[ue.expando]=!0)):new ue.Event(e,t)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,o=e.handleObj;return s&&(s===n||ue.contains(n,s))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return!ue.nodeName(this,"form")&&void ue.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=ue.nodeName(i,"input")||ue.nodeName(i,"button")?i.form:t;n&&!ue._data(n,"submitBubbles")&&(ue.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ue._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ue.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ue.nodeName(this,"form")&&void ue.event.remove(this,"._submit")}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return He.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ue.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,e,!0)})),!1):void ue.event.add(this,"beforeactivate._change",function(e){var t=e.target;He.test(t.nodeName)&&!ue._data(t,"changeBubbles")&&(ue.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ue.event.simulate("change",this.parentNode,e,!0)}),ue._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ue.event.remove(this,"._change"),!He.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){ue.event.simulate(t,e.target,ue.event.fix(e),!0)};ue.event.special[t]={setup:function(){0===i++&&Q.addEventListener(e,n,!0)},teardown:function(){0===--i&&Q.removeEventListener(e,n,!0)}}}),ue.fn.extend({on:function(e,i,n,s,o){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(r in e)this.on(r,i,n,e[r],o);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),s===!1)s=c;else if(!s)return this;return 1===o&&(a=s,s=function(e){return ue().off(e),a.apply(this,arguments)},s.guid=a.guid||(a.guid=ue.guid++)),this.each(function(){ue.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var s,o;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,ue(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(o in e)this.off(o,i,e[o]);return this}return i!==!1&&"function"!=typeof i||(n=i,i=t),n===!1&&(n=c),this.each(function(){ue.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return ue.event.trigger(e,t,i,!0)}});var Re=/^.[^:#\[\.,]*$/,We=/^(?:parents|prev(?:Until|All))/,qe=ue.expr.match.needsContext,Ue={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;t<s;t++)if(ue.contains(n[t],this))return!0}));for(t=0;t<s;t++)ue.find(e,n[t],i);return i=this.pushStack(s>1?ue.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=ue(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(ue.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(d(this,e||[],!0))},filter:function(e){return this.pushStack(d(this,e||[],!1))},is:function(e){return!!d(this,"string"==typeof e&&qe.test(e)?ue(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,s=this.length,o=[],r=qe.test(e)||"string"!=typeof e?ue(e,t||this.context):0;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,e))){i=o.push(i);break}return this.pushStack(o.length>1?ue.unique(o):o)},index:function(e){return e?"string"==typeof e?ue.inArray(this[0],ue(e)):ue.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ue(e,t):ue.makeArray(e&&e.nodeType?[e]:e),n=ue.merge(this.get(),i);return this.pushStack(ue.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ue.dir(e,"parentNode",i)},next:function(e){return h(e,"nextSibling")},prev:function(e){return h(e,"previousSibling")},nextAll:function(e){return ue.dir(e,"nextSibling")},prevAll:function(e){return ue.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ue.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ue.dir(e,"previousSibling",i)},siblings:function(e){return ue.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ue.sibling(e.firstChild)},contents:function(e){return ue.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(i,n){var s=ue.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=ue.filter(n,s)),this.length>1&&(Ue[e]||(s=ue.unique(s)),We.test(e)&&(s=s.reverse())),this.pushStack(s)}}),ue.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ue.find.matchesSelector(n,e)?[n]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var s=[],o=e[i];o&&9!==o.nodeType&&(n===t||1!==o.nodeType||!ue(o).is(n));)1===o.nodeType&&s.push(o),o=o[i];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ke=/ jQuery\d+="(?:null|\d+)"/g,Ve=new RegExp("<(?:"+Ye+")[\\s/>]","i"),Xe=/^\s+/,Qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Je=/<([\w:]+)/,Ge=/<tbody/i,Ze=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^$|\/(?:java|ecma)script/i,st=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},at=p(Q),lt=at.appendChild(Q.createElement("div"));rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td,ue.fn.extend({text:function(e){return ue.access(this,function(e){return e===t?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ue.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||ue.cleanData(_(i)),i.parentNode&&(t&&ue.contains(i.ownerDocument,i)&&v(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ue.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ue.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return ue.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Ke,""):t;if("string"==typeof e&&!et.test(e)&&(ue.support.htmlSerialize||!Ve.test(e))&&(ue.support.leadingWhitespace||!Xe.test(e))&&!rt[(Je.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Qe,"<$1></$2>");try{for(;n<s;n++)i=this[n]||{},1===i.nodeType&&(ue.cleanData(_(i,!1)),i.innerHTML=e);i=0}catch(e){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ue.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],s=e[t++];s&&(n&&n.parentNode!==s&&(n=this.nextSibling),ue(this).remove(),s.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=ne.apply([],e);var n,s,o,r,a,l,c=0,u=this.length,h=this,d=u-1,p=e[0],f=ue.isFunction(p);if(f||!(u<=1||"string"!=typeof p||ue.support.checkClone)&&it.test(p))return this.each(function(n){var s=h.eq(n);f&&(e[0]=p.call(this,n,s.html())),s.domManip(e,t,i)});if(u&&(l=ue.buildFragment(e,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(r=ue.map(_(l,"script"),m),o=r.length;c<u;c++)s=l,c!==d&&(s=ue.clone(s,!0,!0),o&&ue.merge(r,_(s,"script"))),t.call(this[c],s,c);if(o)for(a=r[r.length-1].ownerDocument,ue.map(r,g),c=0;c<o;c++)s=r[c],nt.test(s.type||"")&&!ue._data(s,"globalEval")&&ue.contains(a,s)&&(s.src?ue._evalUrl(s.src):ue.globalEval((s.text||s.textContent||s.innerHTML||"").replace(ot,"")));l=n=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var i,n=0,s=[],o=ue(e),r=o.length-1;n<=r;n++)i=n===r?this:this.clone(!0),ue(o[n])[t](i),se.apply(s,i.get());return this.pushStack(s)}}),ue.extend({clone:function(e,t,i){var n,s,o,r,a,l=ue.contains(e.ownerDocument,e);if(ue.support.html5Clone||ue.isXMLDoc(e)||!Ve.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(o=lt.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(n=_(o),a=_(e),r=0;null!=(s=a[r]);++r)n[r]&&y(s,n[r]);if(t)if(i)for(a=a||_(e),n=n||_(o),r=0;null!=(s=a[r]);r++)b(s,n[r]);else b(e,o);return n=_(o,"script"),n.length>0&&v(n,!l&&_(e,"script")),n=a=s=null,o},buildFragment:function(e,t,i,n){for(var s,o,r,a,l,c,u,h=e.length,d=p(t),f=[],m=0;m<h;m++)if(o=e[m],o||0===o)if("object"===ue.type(o))ue.merge(f,o.nodeType?[o]:o);else if(Ze.test(o)){for(a=a||d.appendChild(t.createElement("div")),l=(Je.exec(o)||["",""])[1].toLowerCase(),u=rt[l]||rt._default,a.innerHTML=u[1]+o.replace(Qe,"<$1></$2>")+u[2],s=u[0];s--;)a=a.lastChild;if(!ue.support.leadingWhitespace&&Xe.test(o)&&f.push(t.createTextNode(Xe.exec(o)[0])),!ue.support.tbody)for(o="table"!==l||Ge.test(o)?"<table>"!==u[1]||Ge.test(o)?0:a:a.firstChild,s=o&&o.childNodes.length;s--;)ue.nodeName(c=o.childNodes[s],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ue.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(t.createTextNode(o));for(a&&d.removeChild(a),ue.support.appendChecked||ue.grep(_(f,"input"),x),m=0;o=f[m++];)if((!n||ue.inArray(o,n)===-1)&&(r=ue.contains(o.ownerDocument,o),a=_(d.appendChild(o),"script"),r&&v(a),i))for(s=0;o=a[s++];)nt.test(o.type||"")&&i.push(o);return a=null,d},cleanData:function(e,t){for(var i,n,s,o,r=0,a=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(i=e[r]);r++)if((t||ue.acceptData(i))&&(s=i[a],o=s&&l[s])){if(o.events)for(n in o.events)u[n]?ue.event.remove(i,n):ue.removeEvent(i,n,o.handle);l[s]&&(delete l[s],c?delete i[a]:typeof i.removeAttribute!==V?i.removeAttribute(a):i[a]=null,te.push(s))}},_evalUrl:function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(e){if(ue.isFunction(e))return this.each(function(t){ue(this).wrapAll(e.call(this,t))});if(this[0]){var t=ue(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(i){ue(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var ct,ut,ht,dt=/alpha\([^)]*\)/i,pt=/opacity\s*=\s*([^)]*)/,ft=/^(top|right|bottom|left)$/,mt=/^(none|table(?!-c[ea]).+)/,gt=/^margin/,vt=new RegExp("^("+he+")(.*)$","i"),bt=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),yt=new RegExp("^([+-])=("+he+")","i"),_t={BODY:"block"},xt={position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:0,fontWeight:400},Et=["Top","Right","Bottom","Left"],Ct=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(e,i){return ue.access(this,function(e,i,n){var s,o,r={},a=0;if(ue.isArray(i)){for(o=ut(e),s=i.length;a<s;a++)r[i[a]]=ue.css(e,i[a],!1,o);return r}return n!==t?ue.style(e,i,n):ue.css(e,i)},e,i,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:E(this))?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ht(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,l=ue.camelCase(i),c=e.style;if(i=ue.cssProps[l]||(ue.cssProps[l]=w(c,l)),a=ue.cssHooks[i]||ue.cssHooks[l],n===t)return a&&"get"in a&&(o=a.get(e,!1,s))!==t?o:c[i];if(r=typeof n,"string"===r&&(o=yt.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ue.css(e,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||ue.cssNumber[l]||(n+="px"),ue.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,s))===t)))try{c[i]=n}catch(e){}}},css:function(e,i,n,s){var o,r,a,l=ue.camelCase(i);return i=ue.cssProps[l]||(ue.cssProps[l]=w(e.style,l)),a=ue.cssHooks[i]||ue.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,n)),r===t&&(r=ht(e,i,s)),"normal"===r&&i in wt&&(r=wt[i]),""===n||n?(o=parseFloat(r),n===!0||ue.isNumeric(o)?o||0:r):r}}),e.getComputedStyle?(ut=function(t){return e.getComputedStyle(t,null)},ht=function(e,i,n){var s,o,r,a=n||ut(e),l=a?a.getPropertyValue(i)||a[i]:t,c=e.style;return a&&(""!==l||ue.contains(e.ownerDocument,e)||(l=ue.style(e,i)),bt.test(l)&&gt.test(i)&&(s=c.width,o=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=s,c.minWidth=o,c.maxWidth=r)),l}):Q.documentElement.currentStyle&&(ut=function(e){return e.currentStyle},ht=function(e,i,n){var s,o,r,a=n||ut(e),l=a?a[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),bt.test(l)&&!ft.test(i)&&(s=c.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=s,r&&(o.left=r)),""===l?"auto":l}),ue.each(["height","width"],function(e,t){ue.cssHooks[t]={get:function(e,i,n){if(i)return 0===e.offsetWidth&&mt.test(ue.css(e,"display"))?ue.swap(e,xt,function(){return k(e,t,n)}):k(e,t,n)},set:function(e,i,n){var s=n&&ut(e);return S(e,i,n?T(e,t,n,ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,s),s):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(e,t){return pt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=ue.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ue.trim(o.replace(dt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=dt.test(o)?o.replace(dt,s):o+" "+s)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(e,t){if(t)return ue.swap(e,{display:"inline-block"},ht,[e,"marginRight"])}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(e,t){ue.cssHooks[t]={get:function(e,i){if(i)return i=ht(e,t),bt.test(i)?ue(e).position()[t]+"px":i}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ue.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ue.css(e,"display"))},ue.expr.filters.visible=function(e){return!ue.expr.filters.hidden(e)}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];n<4;n++)s[e+Et[n]+t]=o[n]||o[n-2]||o[0];return s}},gt.test(e)||(ue.cssHooks[e+t].set=S)});var St=/%20/g,Tt=/\[\]$/,kt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&Nt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var i=ue(this).val();return null==i?null:ue.isArray(i)?ue.map(i,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:i.replace(kt,"\r\n")}}).get()}}),ue.param=function(e,i){var n,s=[],o=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){o(this.name,this.value)});else for(n in e)D(n,e[n],i,o);return s.join("&").replace(St,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Dt,At,jt=ue.now(),Pt=/\?/,Mt=/#.*$/,It=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bt=ue.fn.load,Rt={},Wt={},qt="*/".concat("*");try{At=X.href}catch(e){At=Q.createElement("a"),At.href="",At=At.href}Dt=zt.exec(At.toLowerCase())||[],ue.fn.load=function(e,i,n){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var s,o,r,a=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l,e.length),e=e.slice(0,l)),ue.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),a.length>0&&ue.ajax({url:e,type:r,dataType:"html",data:i}).done(function(e){o=arguments,a.html(s?ue("<div>").append(ue.parseHTML(e)).find(s):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At,type:"GET",isLocal:Ht.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,ue.ajaxSettings),t):P(ue.ajaxSettings,e)},ajaxPrefilter:A(Rt),ajaxTransport:A(Wt),ajax:function(e,i){function n(e,i,n,s){var o,h,b,y,x,E=i;2!==_&&(_=2,l&&clearTimeout(l),u=t,a=s||"",w.readyState=e>0?4:0,o=e>=200&&e<300||304===e,n&&(y=M(d,w,n)),y=I(d,y,w,o),o?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ue.lastModified[r]=x),x=w.getResponseHeader("etag"),x&&(ue.etag[r]=x)),204===e||"HEAD"===d.type?E="nocontent":304===e?E="notmodified":(E=y.state,h=y.data,b=y.error,o=!b)):(b=E,!e&&E||(E="error",e<0&&(e=0))),w.status=e,w.statusText=(i||E)+"",o?m.resolveWith(p,[h,E,w]):m.rejectWith(p,[w,E,b]),w.statusCode(v),v=t,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?h:b]),g.fireWith(p,[w,E]),c&&(f.trigger("ajaxComplete",[w,d]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var s,o,r,a,l,c,u,h,d=ue.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=d.statusCode||{},b={},y={},_=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!h)for(h={};t=Lt.exec(a);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return _||(e=y[i]=y[i]||e,b[e]=t),this},overrideMimeType:function(e){return _||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(_<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||At)+"").replace(Mt,"").replace($t,Dt[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=ue.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(s=zt.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]===Dt[1]&&s[2]===Dt[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ue.param(d.data,d.traditional)),j(Rt,d,i,w),2===_)return w;c=d.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ft.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Pt.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=It.test(r)?r.replace(It,"$1_="+jt++):r+(Pt.test(r)?"&":"?")+"_="+jt++)),d.ifModified&&(ue.lastModified[r]&&w.setRequestHeader("If-Modified-Since",ue.lastModified[r]),ue.etag[r]&&w.setRequestHeader("If-None-Match",ue.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qt+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===_))return w.abort();x="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(u=j(Wt,d,i,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{_=1,u.send(b,n)}catch(e){if(!(_<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,i){return ue.get(e,t,i,"json")},getScript:function(e,i){return ue.get(e,t,i,"script")}}),ue.each(["get","post"],function(e,i){ue[i]=function(e,n,s,o){return ue.isFunction(n)&&(o=o||s,s=n,n=t),ue.ajax({url:e,type:i,dataType:o,data:n,success:s})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=Q.head||ue("head")[0]||Q.documentElement;return{send:function(t,s){i=Q.createElement("script"),i.async=!0,
e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Ut=[],Yt=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||ue.expando+"_"+jt++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(i,n,s){var o,r,a,l=i.jsonp!==!1&&(Yt.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(i.data)&&"data");if(l||"jsonp"===i.dataTypes[0])return o=i.jsonpCallback=ue.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Yt,"$1"+o):i.jsonp!==!1&&(i.url+=(Pt.test(i.url)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return a||ue.error(o+" was not called"),a[0]},i.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},s.always(function(){e[o]=r,i[o]&&(i.jsonpCallback=n.jsonpCallback,Ut.push(o)),a&&ue.isFunction(r)&&r(a[0]),a=r=t}),"script"});var Kt,Vt,Xt=0,Qt=e.ActiveXObject&&function(){var e;for(e in Kt)Kt[e](t,!0)};ue.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&L()||H()}:L,Vt=ue.ajaxSettings.xhr(),ue.support.cors=!!Vt&&"withCredentials"in Vt,Vt=ue.support.ajax=!!Vt,Vt&&ue.ajaxTransport(function(i){if(!i.crossDomain||ue.support.cors){var n;return{send:function(s,o){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)l.setRequestHeader(a,s[a])}catch(e){}l.send(i.hasContent&&i.data||null),n=function(e,s){var a,c,u,h;try{if(n&&(s||4===l.readyState))if(n=t,r&&(l.onreadystatechange=ue.noop,Qt&&delete Kt[r]),s)4!==l.readyState&&l.abort();else{h={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(e){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(e){s||o(-1,e)}h&&o(a,u,h,c)},i.async?4===l.readyState?setTimeout(n):(r=++Xt,Qt&&(Kt||(Kt={},ue(e).unload(Qt)),Kt[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Jt,Gt,Zt=/^(?:toggle|show|hide)$/,ei=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),ti=/queueHooks$/,ii=[R],ni={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=ei.exec(t),o=s&&s[3]||(ue.cssNumber[e]?"":"px"),r=(ue.cssNumber[e]||"px"!==o&&+n)&&ei.exec(ue.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],s=s||[],r=+n||1;do a=a||".5",r/=a,ue.style(i.elem,e,r+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(i.unit=o,i.start=+r||+n||0,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};ue.Animation=ue.extend(z,{tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;n<s;n++)i=e[n],ni[i]=ni[i]||[],ni[i].unshift(t)},prefilter:function(e,t){t?ii.unshift(e):ii.push(e)}}),ue.Tween=W,W.prototype={constructor:W,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ue.cssNumber[i]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,i=W.propHooks[this.prop];return this.options.duration?this.pos=t=ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ue.cssProps[e.prop]]||ue.cssHooks[e.prop])?ue.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.each(["toggle","show","hide"],function(e,t){var i=ue.fn[t];ue.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(q(t,!0),e,n,s)}}),ue.fn.extend({fadeTo:function(e,t,i,n){return this.filter(E).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=ue.isEmptyObject(e),o=ue.speed(t,i,n),r=function(){var t=z(this,ue.extend({},e),o);r.finish=function(){t.stop(!0)},(s||ue._data(this,"finish"))&&t.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,i,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ue.timers,r=ue._data(this);if(i)r[i]&&r[i].stop&&s(r[i]);else for(i in r)r[i]&&r[i].stop&&ti.test(i)&&s(r[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ue.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ue._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],o=ue.timers,r=n?n.length:0;for(i.finish=!0,ue.queue(this,e,[]),s&&s.cur&&s.cur.finish&&s.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ue.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ue.speed=function(e,t,i){var n=e&&"object"==typeof e?ue.extend({},e):{complete:i||!i&&t||ue.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ue.isFunction(t)&&t};return n.duration=ue.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ue.fx.speeds?ue.fx.speeds[n.duration]:ue.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ue.timers=[],ue.fx=W.prototype.init,ue.fx.tick=function(){var e,i=ue.timers,n=0;for(Jt=ue.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||ue.fx.stop(),Jt=t},ue.fx.timer=function(e){e()&&ue.timers.push(e)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){Gt||(Gt=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(Gt),Gt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length}),ue.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var i,n,s={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return i=r.documentElement,ue.contains(i,o)?(typeof o.getBoundingClientRect!==V&&(s=o.getBoundingClientRect()),n=U(r),{top:s.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):s},ue.offset={setOffset:function(e,t,i){var n=ue.css(e,"position");"static"===n&&(e.style.position="relative");var s,o,r=ue(e),a=r.offset(),l=ue.css(e,"top"),c=ue.css(e,"left"),u=("absolute"===n||"fixed"===n)&&ue.inArray("auto",[l,c])>-1,h={},d={};u?(d=r.position(),s=d.top,o=d.left):(s=parseFloat(l)||0,o=parseFloat(c)||0),ue.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):r.css(h)}},ue.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ue.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(i=e.offset()),i.top+=ue.css(e[0],"borderTopWidth",!0),i.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ue.css(n,"marginTop",!0),left:t.left-i.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J;e&&!ue.nodeName(e,"html")&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||J})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);ue.fn[e]=function(s){return ue.access(this,function(e,s,o){var r=U(e);return o===t?r?i in r?r[i]:r.document.documentElement[s]:e[s]:void(r?r.scrollTo(n?ue(r).scrollLeft():o,n?o:ue(r).scrollTop()):e[s]=o)},e,s,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(e,i){ue.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,s){ue.fn[s]=function(s,o){var r=arguments.length&&(n||"boolean"!=typeof s),a=n||(s===!0||o===!0?"margin":"border");return ue.access(this,function(i,n,s){var o;return ue.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e])):s===t?ue.css(i,n,a):ue.style(i,n,s,a)},i,r?s:t,r,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=ue:(e.jQuery=e.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function(e){"use strict";function t(t){this.settings=t,this.container=e(t.container),this.container.length&&t.twitter&&this.getDataFromTwitter()}function i(e){var t=1e3,i=60*t,n=new Date,s=Math.round((n-e)/i);if(0===s)return"menos de um minuto";if(1===s)return"1 minuto";if(s<45)return s+" minutos";if(s<90)return"aprox. 1 hora";if(s<1440)return"aprox. "+(s/60).round()+" horas";if(s<2520)return"1 dia";if(s<43200)return(s/1440).round()+" dias";if(s<86400)return"aprox. 1 m\xeas";if(s<525600)return(s/43200).round()+" meses";var o=s/525600,r=o/4*1440,a=(s-r)%525600;return a<131400?"aprox. "+Math.round(o)+"anos atr\xe1s":a<394200?"mais de "+Math.round(o)+" anos atr\xe1s":"quase "+Math.round(o+1)+" anos"}t.prototype.getDataFromTwitter=function(){e.ajax({url:"http://api.twitter.com/1/statuses/user_timeline.json",dataType:"jsonp",data:{screen_name:this.settings.twitter.user,include_rts:!0,count:this.settings.twitter.numTweets,include_entities:!0},success:e.proxy(this,"processDataFromTwitter")})},t.prototype.normalizeDateFromTwitter=function(e){return Date.parse(e)||Date.parse(e.replace(/( \+)/," UTC$1"))},t.prototype.processDataFromTwitter=function(t){var i=e.proxy(function(e){var t=n.clean(e.text),i=this.normalizeDateFromTwitter(e.created_at);return this.item("Twitter",t,i)},this);this.render(e.map(t,i))},t.prototype.item=function(t,n,s){var o={time:parseInt(s/1e3,10),label:t,text:n,distanceOfTime:i(s)},r=this.settings.template.replace(/{{(\w+)}}/g,function(e,t){return o[t]});return{time:o.time,element:e(r)}},t.prototype.containerItens=function(){return e.map(this.container.children(),function(t){return t=e(t),{time:t.data("time"),element:t}})},t.prototype.render=function(t){var i=this.containerItens().concat(t),n=e("<div>");i=i.sort(function(e,t){return e.time-t.time}).reverse(),e.each(i,function(e,t){n.append(t.element)}),this.container.html(n.html())};var n={link:function(e){return e.replace(/\b(((https*\:\/\/)|www\.)[^\"\']+?)(([!?,.\)]+)?(\s|$))/g,function(e,t,i,n,s){var o=i.match(/w/)?"http://":"";return'<a class="twtr-hyperlink" target="_blank" href="'+o+t+'">'+(t.length>25?t.substr(0,24)+"...":t)+"</a>"+s})},at:function(e){return e.replace(/\B[@\uff20]([a-zA-Z0-9_]{1,20})/g,function(e,t){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/intent/user?screen_name='+t+'">@'+t+"</a>"})},list:function(e){return e.replace(/\B[@\uff20]([a-zA-Z0-9_]{1,20}\/\w+)/g,function(e,t){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/'+t+'">@'+t+"</a>"})},hash:function(e){return e.replace(/(^|\s+)#(\w+)/gi,function(e,t,i){return t+'<a target="_blank" class="twtr-hashtag" href="http://twitter.com/search?q=%23'+i+'">#'+i+"</a>"})},clean:function(e){return this.hash(this.at(this.list(this.link(e))))}};e(document).ready(function(){new t({container:"#activity_feed",template:'<li data-time="{{time}}"><span class="label">{{label}}:</span> {{text}}<span class="time">h\xe1 {{distanceOfTime}}</span></li>',twitter:{user:"cidademocratica",numTweets:5}})})}(jQuery),jQuery(document).ready(function(e){function t(e){this.value=e}t.partials=["hour","minute","second"],t.partials.hour=3600,t.partials.minute=60,t.partials.second=1,t.prototype.down=function(){this.value=Math.max(0,this.value-1)},t.prototype.toString=function(){var i=[],n=this;return e.each(t.partials,function(e,s){var o=(n.value/t.partials[s]).floor()%60;i.push(("0"+o).substr(-2))}),i.join(":")},t.fromString=function(i){var n=i.split(":"),s=0;return e.each(t.partials,function(e,i){s+=n[e]*t.partials[i]}),new t(s)},e(".day_countdown").each(function(){function i(){s.down(),n.html(s.toString())}var n=e(this),s=t.fromString(n.html());setInterval(i,1e3)})}),$.noConflict();